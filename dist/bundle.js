!function(t){var n={};function l(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=t,l.c=n,l.d=function(t,n,e){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)l.d(e,r,function(n){return t[n]}.bind(null,r));return e},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s=1)}([function(t){t.exports={debug:!0,res:{imgs:["res/3.png","res/2.png"],frames:[{name:"building1",res:"res/3.png",area:{width:151,height:167}},{name:"building2",res:"res/2.png",area:{width:145,height:356}}]},def:{0:{},1:{display:{isometric:!0,frame:"building1","offset-y":-50}},2:{display:{isometric:!0,frame:"building2","offset-y":-150}},3:{display:{isometric:!0,frame:"building3"}}},datas:[{name:"tile1",tilemap:{data:["0","0","2","0","0","0","2","0","0"],columns:3,"grid-width":64,"grid-height":64}}]}},function(t,n,l){"use strict";l.r(n);var e=l(0);class r{constructor(){}get(t=0){}firsr(){}last(){}size(){}add(t=null){}push(t=null){}insert(t=null,n=0){}pop(){}pull(){}remove(t=0){}iterator(t=null){}iteratorReverse(t=null){}iteratorCompare(t=null){}}function u(t=null,n=0,l=!1){let e=t.get(n);return!e&&l&&console.error("can't find keyId: ",n),e}function i(t=null,n=null){if(!t||!n||!n.id)return console.error("error param."),!1;return!u(t,n.id)||(console.error("error id:%d is exist",n.id),!1)}function s(t=null,n=null){i(t,n)&&t.add(n)}function o(t=null,n=null,l=0){i(t,n)&&t.insert(n,l)}function c(t=null,n=null){t&&n&&t.iterator(n)}class a{constructor(t=null,n=null,l=null,e=0){this.data=t,this.prep=n,this.next=l,this.order=e}}class h extends r{constructor(){super(),this.head=new a,this.tail=new a,this.head.next=this.tail,this.tail.prep=this.head,this._map=new Map,this._size=0,this._delList=[],this._curr=this.head,this._lock=!1}get(t=0){let n=this._map.get(t);return n?n.data:null}first(){let t=this.head.next;return t==this.tail?null:t.data}last(){let t=this.tail.prep;return t==this.head?null:t.data}size(){return this._size}add(t=null){d(this,t,this.tail)}push(t=null){d(this,t,this.head.next)}insert(t=null,n=0){let l=this.head.next;for(;l!=this.tail&&!(n<l.order);)l=l.next;d(this,t,l,n)}pop(){f(this,this.head.next)}pull(){f(this,this.tail.prep)}remove(t=0){f(this,this._map.get(t))}iterator(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail&&!t(n.data);)n=n.next;for(this._lock=!1;this._delList.length>0;)g(this,this._delList.pop())}iteratorReverse(t=null){this._lock=!0;let n=this.tail.prep;for(;n!=this.head&&!t(n.data);)n=n.prep;for(this._lock=!1;this._delList.length>0;)g(this,this._delList.pop())}iteratorCompare(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail;){let l=n.next;for(;l!=this.tail&&!t(n.data,l.data);)l=l.next;n=n.next}for(this._lock=!1;this._delList.length>0;)g(this,this._delList.pop())}}function d(t=null,n=null,l=null,e=0){let r=l.prep,u=new a(n,r,l,e);r.next=u,l.prep=u,t._map.set(n.id,u),t._size++}function f(t=null,n=null){!t||!n||t._size<=0||(t._lock?t._delList.push(n):g(t,n))}function g(t=null,n=null){t._map.delete(keyId);let l=n.prep,e=n.next;l.next=e,e.prep=l,t._size--}function p(){return new h}var w=new Map;var x=new Map;function m(t=0,n=null){x.set(t,n)}var y=new Map;function v(t=""){return y.get(t)}var _=null;function b(){return _}var k=null;function M(){return k}var P=new Map;function R(t=0){let n=P.get(t);return n||(n=p(),P.set(t,n)),n}class C{constructor(t=60){this.fps=t,this.tick=1e3/t}clear(){}drawFrame(t=null,n=null){}drawRect(t=null,n=null){}drawLine(t=null,n=null){}drawCircle(t=null,n=0){}loadResource(t="",n=null){}start(t=null){}}class I{constructor(t=0,n=0){this.x=t,this.y=n}}function L(t=0,n=0){return new I(t,n)}function O(t=null,n=0,l=0){t.x=n,t.y=l}function S(t=null,n=null){return L(t.x-n.x,t.y-n.y)}class E{constructor(t=0,n=0){this.x=t,this.y=n}}function G(t=0,n=0){return new E(t,n)}class j{constructor(t=0,n=0){this.width=t,this.height=n}}function H(t=0,n=0){return 0==t||0==n?(console.error("rect param error. width:%d, height:%d",t,n),null):new j(t,n)}function W(t=null){return t.width}function z(t=null){return t.height}function D(t=null){return.5*t.width}function T(t=null){return.5*t.height}class U{constructor(t=null,n=null){this.pos=t,this.offset=n}}function F(t=null){return L(t.pos.x+t.offset.x,t.pos.y+t.offset.y)}function B(t=0){return Math.trunc(t)}class X extends U{constructor(t=null,n=null,l=null){super(t,n),this.rect=l}}function Y(t=null,n=null,l=null){return n=n||G(),new X(t,n,l)}function q(t=null){return t.rect}function A(t=null){return F(t)}function J(t=null){let n=A(t);return L(n.x-D(t.rect),n.y-T(t.rect))}class K{constructor(t=null,n=null){this.rectPosRel=t,this.screenOffset=n}}function N(t=null,n=0,l=0){let e=(t=t||{style:0,datas:[{x:0,y:0}]}).datas[0];return function(t=0,n=0,l=0,e=0){let r=Y(L(t,n),null,H(l,e));return new K(r)}(e.x,e.y,n,l)}function Q(t=null,n=null){return S(n,function(t=null){return J(t.rectPosRel)}(t))}function V(){!function(t=null){t.clear()}(M())}function Z(t=null,n=null){!function(t=null,n=null,l=null){let e=Q(t,n);!function(t=null,n=null,l=null){t.drawFrame(n,l)}(M(),e,l)}(b(),t,n)}function $(t=null,n=null){!function(t=null,n=null,l=null){let e=Q(t,n);!function(t=null,n=null,l=null){t.drawRect(n,l)}(M(),e,l)}(b(),t,n)}function tt(t=null,n=null){!function(t=null,n=null,l=null){let e=Q(t,n),r=Q(t,l);!function(t=null,n=null,l=null){t.drawLine(n,l)}(M(),e,r)}(b(),t,n)}function nt(t=null,n=0){!function(t=null,n=null,l=0){let e=Q(t,n);!function(t=null,n=null,l=0){t.drawCircle(n,l)}(M(),e,l)}(b(),t,n)}var lt=1;function et(){return lt++}class rt{constructor(){this.id=et()}}class ut{constructor(t=0){this.entityId=t,this.id=t}}class it{constructor(){this.id=et()}onStart(){}onUpdate(t=0){}onEnd(){}}class st{constructor(t=0){this.id=t,this.order=t,this.list=p()}}var ot=p();function ct(t=0){let n=u(ot,t);return n||(n=function(t=0){let n=new st(t);return o(ot,n),n}(t)),n}class at{constructor(t=null,n=0,l=0){this.data=t,this.width=n,this.height=l}}class ht{constructor(t=0,n=0,l=0,e=0){this.x=t,this.y=n,this.width=l,this.height=e}}class dt{constructor(t="",n=null,l=null){this.name=t,this.seg=n,this.bitmap=l}}function ft(t=null){return t.seg.width}function gt(t=null){return t.seg.height}class pt extends ut{constructor(t=0,n=null){super(t),this.pos=n,this.vec=G()}}var wt=p();function xt(t=0){let n=u(wt,t);return n||function(t=0){let n=new pt(t,L());return s(wt,n),n}(t)}function mt(t=0,n=0,l=0){O(function(t=0){return xt(t).pos}(t),n,l)}class yt extends ut{constructor(t=0,n=!1,l=0,e=1){super(t),this.isometrics=n,this.angle=l,this.scale=e}}var vt=p();function _t(t=0,n=null){let l=u(vt,t);return l||function(t=0,n=null){let l=new yt(t,(n=n||{}).isometrics,n.angle,n.scale);return s(vt,l),l}(t,n)}class bt extends rt{constructor(t=null,n=null,l=null,e=0,r=0){super(),this.spriteFrame=t,this.renderCom=n,this.rectPosRel=l,this.order=e,this.layerOrder=r,this.isoPos=L()}}function kt(t=null){return t.spriteFrame}function Mt(t=null){return F(t.rectPosRel)}function Pt(t=null){return t.isoPos}class Rt extends it{onUpdate(t=0){V(),function(t=null){c(ot,n=>{c(n.list,n=>{t(n)})})}(t=>{!function(t=null){return t.renderCom.isometrics}(t)?function(t=null){Z(Mt(t),kt(t)),function(t=null){$(Mt(t),q(t.rectPosRel))}(t)}(t):function(t=null){(function(t=null){let n=function(t=null){return t.pos}(t.rectPosRel),l=function(t=null){return t.offset}(t.rectPosRel);O(t.isoPos,n.x-n.y+l.x,.5*(n.x+n.y)+l.y)})(t),Z(Pt(t),kt(t)),function(t=null){$(Pt(t),q(t.rectPosRel))}(t)}(t)})}}var Ct=null;var It=p(),Lt=null;function Ot(t=!1){Ct||(Ct=new Rt),Lt=Ct}var St=16,Et=41,Gt=0,jt=0;class Ht{constructor(t=0,n=0,l=null){this.width=t,this.height=n,this.data=l}}class Wt{getData(t=null){}setData(t=null,n=null){}getGrid(t=null){}getGridMapWidth(){}getGridMapHeight(){}iterator(t=null){}}function zt(t=null){return t.width}function Dt(t=null){return.5*function(t=null){return t.getGridMapWidth()}(t)}function Tt(t=null){return.5*function(t=null){return t.getGridMapHeight()}(t)}function Ut(t=null,n=null){t.iterator(n)}class Ft extends Ht{constructor(t=0,n=0,l=0,e=0,r=null){super(t,n,r),this.rowIndex=l,this.colIndex=e}}class Bt extends Wt{constructor(t=null,n=0,l=0,e=0,r=0,u=null){super(),this.pos=t,this.rows=n,this.columns=l,this.gridWidth=e,this.gridHeight=r,this.grids=u}getData(t=null){let n=Xt(t,this);return n?n.data:null}setData(t=null,n=null){let l=Xt(t,this);l&&(l.data=n)}getGrid(t=null){return Xt(t,this)}getGridMapWidth(){return this.columns*this.gridWidth}getGridMapHeight(){return this.rows*this.gridHeight}iterator(t=null){this.grids.forEach(n=>{t(n)})}}function Xt(t=null,n=null){let l=S(t,n.pos);if(!function(t=0,n=0,l=null){return t>0&&t<l.getGridMapWidth()&&n>0&&n<l.getGridMapHeight()}(l.x,l.y,n))return null;let e=B(l.x/gridmap.gridWidth),r=B(l.y/gridmap.gridHeight);return gridmap.grids[r*gridmap.columns+e]}function Yt(t=null){return L(t.pos.x-Dt(t),t.pos.y-Tt(t))}function qt(t=null,n=null){let l=Yt(t);return L(l.x+t.gridWidth*(n.colIndex+.5),l.y+t.gridHeight*(n.rowIndex+.5))}const At=1001,Jt=1002,Kt=1003,Nt=1004,Qt=2001;class Vt{constructor(t=0,n=null){this.type=t,this.data=n}}function Zt(t=0,n=null){return new Vt(t,n)}class $t extends rt{constructor(t=0,n=0){super(),this.type=t,this.order=n}handle(t=null){}}function tn(t=null){!function(t=null){(t=Object.assign({columns:1,"grid-width":32,"grid-height":32,x:0,y:0,data:[0]},t))["grid-width"]=t["grid-width"]>0?t["grid-width"]:32,t["grid-height"]=t["grid-height"]>0?t["grid-height"]:32}(t);let n=t.columns,l=B(t.data.length/n);if(l*n!=t.data.length)return console.error("error param: len(grids): %d, columns: %d",t.data.length,n),null;let e=function(t=0,n=0,l=0,e=0,r=null){let u=[];for(let r=0;r<t;r++)for(let t=0;t<n;t++)u.push(new Ft(l,e,r,t));return r=r||L(),new Bt(r,t,n,l,e,u)}(l,n,t["grid-width"],t["grid-height"],L(t.x,t.y));return Ut(e,l=>{!function(t=null,n=null){t.data=n}(l,function(t=""){return x.get(t)}(t.data[l.rowIndex*n+l.colIndex]))}),gn(Zt(Qt,e)),e}var nn=!1;var ln=null,en=(new Date).getTime();var rn=new Map;class un extends C{constructor(t=60,n=null,l=null){super(t),this.canvas=n,this.ctx=l}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawFrame(t=null,n=null){this.ctx.drawImage(function(t=null){return t.bitmap.data}(n),function(t=null){return t.seg.x}(n),function(t=null){return t.seg.y}(n),ft(n),gt(n),t.x-function(t=null){return.5*t.seg.width}(n),t.y-function(t=null){return.5*t.seg.height}(n),ft(n),gt(n))}drawRect(t=null,n=null){this.ctx.strokeRect(t.x-D(n),t.y-T(n),W(n),z(n))}drawLine(t=null,n=null){let l=this.ctx;l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(n.x,n.y),l.stroke()}drawCircle(t=null,n=0){let l=this.ctx;l.beginPath(),l.arc(t.x,t.y,n,0,2*Math.PI),l.stroke()}loadResource(t="",n=null){let l=new Image;l.src=t,l.onload=function(){n(l)}}start(t=null){!function(t=0,n=null){nn=!1,setInterval(()=>{ln=(new Date).getTime(),nn||n(ln-en),en=(new Date).getTime()},1e3/t)}(this.fps,t)}}function sn(t=0,n=0,l=0){let e=document.getElementById("canvas");e.width=t,e.height=n;let r=e.getContext("2d");r.strokeStyle="#0000ff";let u=new un(l,e,r);return window.addEventListener("keydown",t=>{let n=t.keyCode;rn.get(n)||(rn.set(n,1),gn(Zt(At,n)))}),window.addEventListener("keyup",t=>{let n=t.keyCode;rn.delete(n),gn(Zt(Jt,n))}),function(t=null){t.addEventListener("mousedown",n=>{let l=t.getBoundingClientRect(),e=n.clientX-l.left*(t.width/l.width),r=n.clientY-l.top*(t.height/l.height);gn(Zt(Kt,L(e,r)))}),t.addEventListener("mouseup",n=>{let l=t.getBoundingClientRect(),e=n.clientX-l.left*(t.width/l.width),r=n.clientY-l.top*(t.height/l.height);gn(Zt(Nt,L(e,r)))})}(u.canvas),u}Math.PI;const on=0;function cn(t=null,n=null,l=null,e=null,r=null){!function(t=null){k=t}(function(t=null){let n=(t=t||{}).width;n=n||800;let l=t.height;l=l||800;let e=t.fps;e=e||60;let r=t.type,u=null;switch(r=r||on){case on:u=sn(n,l,e);break;default:return console.error("error type"),null}return u}(t))}function an(t=null){let n=t["screen-width"];n=n&&n>0?n:800;let l=t["screen-height"];l=l&&l>0?l:800,function(t=null){_=t}(N(t.camera,n,l)),Ot(t.debug),t.collide&&OpenCollider(t.collide),function(t=null){for(let n in t)m(n,t[n])}(t.def),function(t=null){if(!t||0==t.length)return;t.forEach(t=>{!function(t=null){let n=null;t.tilemap&&(n=tn(t.tilemap));let l=t.name;l&&function(t="",n=null,l=!0){y.get(t)&&l?console.error("data: %s exists.",t):y.set(t,n)}(l,n)}(t)})}(t.datas)}function hn(t=null,n=null,l=null){let e=t?t.imgs:null;e&&e.length>0?function(t=null,n=null,l=null,e=null){let r=0,u=new Map;t.forEach(i=>{!function(t=null,n="",l=null){t.loadResource(n,l)}(M(),i,s=>{u.set(i,function(t=null,n=0,l=0){return new at(t,n,l)}(s,s.width,s.height)),r++,l&&l(i,r),t.length==r&&(!function(t=null,n=null){if(!t||0==t.length||!n)return;t.forEach(t=>{!function(t="",n=null,l=null){if(""==t||!n||!l)return console.error("error param."),null;let e=l.x,r=l.y,u=l.width,i=l.height;if(!u||!i)return console.err("error param."),null;let s=function(t="",n=null,l=0,e=0,r=0,u=0){let i=new ht(l,e,r,u);return new dt(t,i,n)}(t,n,e,r,u,i);!function(t="",n=null,l=!0){w.get(t)&&l?console.error("frame: %s exists.",t):w.set(t,n)}(t,s)}(t.name,n.get(t.res),t.area)})}(n,u),e&&e())})})}(e,t.frames,n,l):l()}function dn(t=null,n=null){cn(t=t||{}),hn(t.res,null,()=>{an(t),function(t=null){c(It,t=>{t.onStart()}),Lt.onStart(),t.onStart(),function(t=null,n=null){t.start(n)}(M(),n=>{(Gt+=n)>=St&&(Gt-=St,t.onUpdate(n),c(It,t=>{t.onUpdate(n)})),(jt+=n)>=Et&&(jt-=Et,Lt.onUpdate(n))})}(n)})}function fn(t=null){o(R(t.type),t,t.order)}function gn(t=null){c(R(t.type),n=>{n.handle(t)})}function pn(t=null,n=0,l=1,e=0,r=null){let u=function(t=0,n=null,l=null,e=0,r=1){let u=_t(t),i=Y(xt(t).pos,l,H(ft(n),gt(n)));return new bt(n,u,i,e,r)}(n,t,r,e,l);return function(t=null){o(ct(t.layerOrder).list,t,t.order)}(u),u}var wn=Object.assign(e,{touchOnCallback:function(t=0,n=0){console.log(t,n)},touchOverCallback:function(t=0,n=0){}});class xn{onStart(){let t=v("tile1");Ut(t,n=>{!function(t=null,n=null){let l=t.display;if(!l)return;let e=et();_t(e,{isometrics:!0}),mt(e,n.x,n.y),pn(function(t="",n=!0){let l=w.get(t);return l||(n?w.get("defalut"):null)}(l.frame),e,1,0,G(l["offset-x"],l["offset-y"]))}(function(t=null){return t.data}(n),qt(t,n))})}onUpdate(t=0){(function(){let t=v("tile1");Ut(t,n=>{let l=qt(t,n),e=function(t=null){return.5*zt(t)}(n);zt(n),function(t=null,n=0){let l=mn(L(t.x-n,t.y-n)),e=mn(L(t.x+n,t.y-n)),r=mn(L(t.x-n,t.y+n)),u=mn(L(t.x+n,t.y+n));tt(l,e),tt(e,u),tt(u,r),tt(r,l)}(l,e)})})(),nt(L(),3),$(L(),H(function(t=null){return W(q(t.rectPosRel))}(b()),function(t=null){return z(q(t.rectPosRel))}(b())))}}function mn(t=null){return L(t.x-t.y,.5*(t.x+t.y))}class yn extends $t{constructor(t=0){super(At,t)}handle(t=null){console.log(t.data)}}class vn extends $t{constructor(t=0){super(Kt,t)}handle(t=null){console.log(t.data.x,t.data.y)}}console.log(wn),fn(new yn),fn(new vn),dn(wn,new xn)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2xpc3QvbGlua2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zZXJ2aWNlL3Jlc291cmNlLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2VuZ2luZS9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9vZmZzZXQvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL21hdGguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL29mZnNldC9yZWN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2NhbWVyYS9iYXNlLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2NhbWVyYS91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL3JlbmRlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjcy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi92aWV3L2NvbXBvbmVudC9sYXllci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL3Bvcy9jb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvdmlldy9jb21wb25lbnQvcmVuZGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL3ZpZXcvc3lzdGVtLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL3ZpZXcvZGVidWcuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zZXJ2aWNlL3N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29udGFpbmVyL2dyaWRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZ3JpZC90aWxlbWFwL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbXBvbmVudC9ldmVudC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9ncmlkL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2VuZ2luZS93ZWIvcHJvY2Vzc29yLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2VuZ2luZS93ZWIvbW9kZWwuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZW5naW5lL3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3Ivc2VydmljZS9pbml0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZGlyZWN0b3IvYm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi92aWV3L3V0aWxzLmpzIiwid2VicGFjazovLy8uL3NyYy9tYWluLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiQWJzdHJhY3RMaXN0IiwiW29iamVjdCBPYmplY3RdIiwiaWQiLCJkYXRhIiwib3JkZXIiLCJjYWxsYmFjayIsIkdldExpc3REYXRhIiwibGlzdCIsInJlcXVpcmVkIiwiY29uc29sZSIsImVycm9yIiwiY2hlY2tBZGQiLCJBZGRUb0xpc3QiLCJhZGQiLCJJbnNlcnRUb0xpc3QiLCJpbnNlcnQiLCJMaXN0SXRlcmF0b3IiLCJpdGVyYXRvciIsIkxpbmtOb2RlIiwicHJlcCIsIm5leHQiLCJ0aGlzIiwibGlua2xpc3RfTGlua0xpc3QiLCJzdXBlciIsImhlYWQiLCJ0YWlsIiwiX21hcCIsIk1hcCIsIl9zaXplIiwiX2RlbExpc3QiLCJfY3VyciIsIl9sb2NrIiwibm9kZSIsImFkZFRvTGluayIsInJlbW92ZVdpdGhDaGVjayIsImxlbmd0aCIsInJlbW92ZU5vZGUiLCJwb3AiLCJvdXROb2RlIiwiaW5Ob2RlIiwibGluayIsInNldCIsInRhcmdldE5vZGUiLCJwdXNoIiwiZGVsZXRlIiwia2V5SWQiLCJOZXdMaW5rIiwic3ByaXRlRnJhbWVNYXAiLCJkZWZNYXAiLCJTZXREZWYiLCJkYXRhTWFwIiwiR2V0RGF0YSIsImRlZmF1bHRDYW1lcmEiLCJHZXREZWZhdWx0Q2FtZXJhIiwiY3VyckVuZ2luZSIsIkdldEVuZ2luZSIsImxpc3RlbmVyTWFwIiwiZ2V0TGlzdGVuZXJMaXN0IiwiZXZlbnRUeXBlIiwibGlzTGlzdCIsIkFic3RyYWN0RW5naW5lIiwiZnBzIiwidGljayIsImNlbnRlclBvcyIsInNwcml0ZUZyYW1lIiwicmVjdCIsImVuZFBvcyIsInJhZGl1cyIsImltZ1NyYyIsIm9uTG9hZENhbGxiYWNrIiwib25FbnRlckZyYW1lQ2FsbGJhY2siLCJQb3MiLCJ4IiwieSIsIk5ld1BvcyIsIlVwZGF0ZVBvcyIsInBvcyIsIlRvTG9jYXRlUG9zIiwidGFyZ2V0UG9zIiwicmVmZXJQb3MiLCJWZWMiLCJOZXdWZWMiLCJSZWN0YW5nbGUiLCJ3aWR0aCIsImhlaWdodCIsImdlb21ldHJpY19OZXdSZWN0IiwiR2V0UmVjdFdpZHRoIiwiR2V0UmVjdEhlaWdodCIsIkdldFJlY3RIYWxmV2lkdGgiLCJHZXRSZWN0SGFsZkhlaWdodCIsIlBvc09mZnNldFJlbGF0aW9uIiwib2Zmc2V0IiwiR2V0UmVhbFBvcyIsInBvc09mZnNldFJlbCIsIkdldEludCIsIm51bSIsIk1hdGgiLCJ0cnVuYyIsInJlY3RfUmVjdFBvc1JlbGF0aW9uIiwiTmV3UmVjdFBvc1JlbGF0aW9uIiwiR2V0UmVjdCIsInJlY3RQb3NUdXBsZSIsIkdldFJlY3RQb3NDZW50ZXIiLCJHZXRSZWN0UG9zU3RhcnQiLCJCYXNlQ2FtZXJhIiwicmVjdFBvc1JlbCIsInNjcmVlbk9mZnNldCIsIkNyZWF0ZUNhbWVyYVdpdGhEYXRhIiwib3B0aW9ucyIsInN0eWxlIiwiZGF0YXMiLCJycCIsIk5ld0NhbWVyYSIsIlRvQ2FtZXJhU3RhcnRQb3MiLCJjYW1lcmEiLCJHZXRDYW1lcmFTdGFydFBvcyIsIkNsZWFyIiwiZW5naW5lIiwiY2xlYXIiLCJFbmdpbmVDbGVhciIsIkRyYXdGcmFtZSIsImNQb3MiLCJkcmF3RnJhbWUiLCJFbmdpbmVEcmF3RnJhbWUiLCJEcmF3RnJhbWVJbkNhbWVyYSIsIkRyYXdSZWN0IiwiZHJhd1JlY3QiLCJFbmdpbmVEcmF3UmVjdCIsIkRyYXdSZWN0SW5DYW1lcmEiLCJEcmF3TGluZSIsInBvc1N0YXJ0IiwicG9zRW5kIiwiY1BvczEiLCJjUG9zMiIsInN0YXJ0UG9zIiwiZHJhd0xpbmUiLCJFbmdpbmVEcmF3TGluZSIsIkRyYXdMaW5lSW5DYW1lcmEiLCJEcmF3Q2lyY2xlIiwiZHJhd0NpcmNsZSIsIkVuZ2luZURyYXdDaXJjbGUiLCJEcmF3Q2lyY2xlSW5DYW1lcmEiLCJlY3NfZW50aXR5SWQiLCJOZXdFbnRpdHlJZCIsIkdhbWVPYmplY3QiLCJDb21wb25lbnQiLCJlbnRpdHlJZCIsIlN5c3RlbSIsImR0IiwibGF5ZXJfTGF5ZXIiLCJsYXllckxpc3QiLCJHZXRMYXllciIsImxheWVyIiwiYWRkTGF5ZXIiLCJCaXRtYXAiLCJTZWciLCJTcHJpdGVGcmFtZSIsInNlZyIsImJpdG1hcCIsIkdldFNwcml0ZUZyYW1lV2lkdGgiLCJHZXRTcHJpdGVGcmFtZUhlaWdodCIsImNvbXBvbmVudF9Qb3NDb21wb25lbnQiLCJ2ZWMiLCJwb3NDb21zIiwiR2V0UG9zQ29tcG9uZW50IiwiY29tIiwiY3JlYXRlUG9zQ29tcG9uZW50IiwiU2V0VW5pdFBvcyIsIkdldFVuaXRQb3MiLCJyZW5kZXJfUmVuZGVyQ29tcG9uZW50IiwiaXNvbWV0cmljcyIsImFuZ2xlIiwic2NhbGUiLCJyZW5kZXJDb21zIiwiR2V0UmVuZGVyQ29tcG9uZW50IiwiY3JlYXRlUmVuZGVyQ29tcG9uZW50IiwicmVuZGVyX0Rpc3BsYXlUdXBsZSIsInJlbmRlckNvbSIsImxheWVyT3JkZXIiLCJpc29Qb3MiLCJHZXREaXNwbGF5U3ByaXRlRnJhbWUiLCJkaXNwbGF5ZXIiLCJHZXREaXNwbGF5Q2VudGVyUG9zIiwiR2V0RGlzcGxheUlzb1BvcyIsInN5c3RlbV9MYXllclJlbmRlclVwZGF0ZVN5c3RlbSIsImRpc3BsYXlUdXBsZSIsIkl0ZXJhdG9yTGF5ZXJzIiwiSXNEaXNwbGF5SVNPbWV0cmljcyIsImRyYXdEZWJ1ZyIsImRyYXciLCJiYXNlX0dldFBvcyIsIkdldE9mZnNldCIsIlVwZGF0ZUlzb1BvcyIsImRyYXdJc29EZWJ1ZyIsImRyYXdJc28iLCJyZW5kZXJTeXMiLCJsb2dpY1N5c3RlbXMiLCJyZW5kZXJTeXN0ZW0iLCJpbml0U3lzdGVtcyIsImRlYnVnIiwibG9naWNUaWNrIiwicmVuZGVyVGljayIsIl90MSIsIl90MiIsIkJhc2VHcmlkIiwiQWJzdHJhY3RHcmlkTWFwIiwiR2V0R3JpZFdpZHRoIiwiZ3JpZCIsIkdldEhhbGZHcmlkTWFwV2lkdGgiLCJncmlkbWFwIiwiZ2V0R3JpZE1hcFdpZHRoIiwiR2V0R3JpZE1hcFdpZHRoIiwiR2V0SGFsZkdyaWRNYXBIZWlnaHQiLCJnZXRHcmlkTWFwSGVpZ2h0IiwiR2V0R3JpZE1hcEhlaWdodCIsIkdyaWRNYXBJdGVyYXRvciIsImJhc2VfVGlsZUdyaWQiLCJyb3dJbmRleCIsImNvbEluZGV4IiwiYmFzZV9UaWxlTWFwIiwicm93cyIsImNvbHVtbnMiLCJncmlkV2lkdGgiLCJncmlkSGVpZ2h0IiwiZ3JpZHMiLCJnZXRHcmlkV2l0aFBvcyIsImZvckVhY2giLCJ0aWxlbWFwIiwidFBvcyIsImNoZWNrSW4iLCJjb2x1bW4iLCJyb3ciLCJHZXRUaWxlbWFwU3RhcnQiLCJHZXRUaWxlR3JpZENlbnRlciIsInN0YXJ0IiwiRXZlbnRLZXlkb3duIiwiRXZlbnRLZXl1cCIsIkV2ZW50VG91Y2hPbiIsIkV2ZW50VG91Y2hPdmVyIiwiRXZlbnRUaWxlbWFwQ3JlYXRlZCIsIkV2ZW50IiwidHlwZSIsIk5ld0V2ZW50IiwiZXZlbnRfQWJzdHJhY3RFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJDcmVhdGVUaWxlTWFwV2l0aERhdGEiLCJhc3NpZ24iLCJncmlkLXdpZHRoIiwiZ3JpZC1oZWlnaHQiLCJkZWZhdWx0VGlsZU1hcERhdGEiLCJOZXdUaWxlTWFwIiwiU2V0R3JpZERhdGEiLCJHZXREZWYiLCJEaXNwYXRjaEV2ZW50IiwiX2lzRW5kIiwicHJvY2Vzc29yX3N0YXJ0IiwibGFzdCIsIkRhdGUiLCJnZXRUaW1lIiwiX2tleURvd25NYXAiLCJtb2RlbF9INUVuZ2luZSIsImNhbnZhcyIsImN0eCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsIkdldFNwcml0ZUZyYW1lQml0bWFwRGF0YSIsIkdldFNwcml0ZUZyYW1lU3RhcnRYIiwiR2V0U3ByaXRlRnJhbWVTdGFydFkiLCJHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aCIsIkdldFNwcml0ZUZyYW1lSGFsZkhlaWdodCIsInN0cm9rZVJlY3QiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJsaW5lVG8iLCJzdHJva2UiLCJhcmMiLCJQSSIsImltZyIsIkltYWdlIiwic3JjIiwib25sb2FkIiwib25VcGRhdGVDYWxsYmFjayIsInNldEludGVydmFsIiwicnVuVGljazIiLCJOZXdINUVuZ2luZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwic3Ryb2tlU3R5bGUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvZGUiLCJrZXlDb2RlIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiY2xpZW50WCIsImxlZnQiLCJjbGllbnRZIiwidG9wIiwiY2FudmFzT25Nb3VzZUNhbGxiYWNrIiwiRW5naW5lV2ViIiwiaW5pdEVuZ2luZSIsImtleURvd25IYW5kbGVyIiwia2V5VXBIYW5sZXIiLCJ0b3VjaE9uQ2FsbGJhY2siLCJ0b3VjaE92ZXJDYWxsYmFjayIsImVuZ2luZU9iaiIsIlNldEVuZ2luZSIsIkNyZWF0ZUVuZ2luZVdpdGhEYXRhIiwiaW5pdEdhbWUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsIlNldERlZmF1bHRDYW1lcmEiLCJjb2xsaWRlIiwiT3BlbkNvbGxpZGVyIiwiaW5pdERlZiIsImRhdGFPYmoiLCJjaGVjayIsIlNldERhdGEiLCJpbml0RGF0YU9iaiIsImluaXREYXRhcyIsImxvYWRXaXRoUmVzb3VyY2UiLCJyZXMiLCJPbmxvYWRDYWxsYmFjayIsIk9uQ29tcGxldGVDYWxsYmFjayIsImltZ3MiLCJmcmFtZXMiLCJfY291bnQiLCJiaXRtYXBzIiwibG9hZFJlc291cmNlIiwiRW5naW5lTG9hZFJlc291cmNlIiwiYml0bWFwRGF0YSIsIkNyZWF0ZUJpdG1hcCIsInNwcml0ZUZyYW1lRGF0YXMiLCJhcmVhIiwiZXJyIiwiZiIsIkNyZWF0ZVNwcml0ZUZyYW1lIiwiU2V0U3ByaXRlRnJhbWUiLCJjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhIiwiY3JlYXRlU3ByaXRlRnJhbWVzV2l0aERhdGEiLCJTdGFydCIsInNjZW5lIiwic3lzdGVtIiwib25TdGFydCIsIkVuZ2luZVN0YXJ0Iiwib25VcGRhdGUiLCJydW5XaXRoU2NlbmUiLCJBZGRFdmVudExpc3RlbmVyIiwibGlzdGVuZXIiLCJoYW5kbGUiLCJBZGREaXNwbGF5ZXIiLCJkcyIsIk5ld0Rpc3BsYXllciIsIkFkZFRvTGF5ZXIiLCJtYWluX29wdGlvbnMiLCJzcmNfZGF0YSIsImxvZyIsIm1haW5fTXlTY2VuZSIsImRlZmF1bHRWYWx1ZSIsIkdldFNwcml0ZUZyYW1lIiwiaW5pdERpc3BsYXkiLCJHZXRHcmlkRGF0YSIsImhhbGZXaWR0aCIsIkdldEhhbGZHcmlkV2lkdGgiLCJwb3MxaXNvIiwiZ2V0SXNvIiwicG9zMmlzbyIsInBvczNpc28iLCJwb3M0aXNvIiwidGVzdElzbyIsImRyYXdUaWxlIiwiR2V0Q2FtZXJhV2lkdGgiLCJHZXRDYW1lcmFIZWlnaHQiLCJtYWluX0tleWRvd25MaXN0ZW5lciIsIm1haW5fTW91c2Vkb3duTGlzdGVuZXIiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVB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L1IsRUFBQUgsRUFBQWtTLElBWWpCMU8sR0FBUTRPLEVBQUFFLEdBQ1I5TyxHQUFROE8sRUFBQUUsR0FDUmhQLEdBQVFnUCxFQUFBRCxHQUNSL08sR0FBUStPLEVBQUFILEdBMUJaSyxDQUFBdFMsRUFBQStSLE1BckJBUSxHQUtJek8sR0FBV2hFLElBQU0sR0FDakJtRCxFQUFTbkQsSUFBVVcsRXJCeEJ2QixTQUFBNkIsRUFBQSxNQUNBLE9BQVc1QixFQUNIYyxFQUFPYyxFQUFBVCxhcUJ1QlAyUSxDQUNJL1QsS3JCckJaLFNBQUE2RCxFQUFBLE1BQ0EsT0FBVzNCLEVBQ0hhLEVBQU9jLEVBQUFULGFxQm9CUDRRLENBQ0loVSxRQXdDWixTQUFBeVQsR0FBQWxTLEVBQUEsTUFDQSxPQUFXRixFQUNYRSxFQUFBSixFQUFBSSxFQUFBSCxFQUNBLElBQUFHLEVBQUFKLEVBQUFJLEVBQUFILElBNkJBLE1BQU02UyxXQUF3Qm5JLEdBQzlCbFAsWUFBQUcsRUFBQSxHQUNBbUIsTUFBY29OLEdBQVl2TyxHQUUxQkgsT0FBQW1QLEVBQUEsTUFDQTNPLFFBQUE0VixJQUFBakgsRUFBQWpQLE9BSUEsTUFBTW9YLFdBQTBCcEksR0FDaENsUCxZQUFBRyxFQUFBLEdBQ0FtQixNQUFjc04sR0FBWXpPLEdBRTFCSCxPQUFBbVAsRUFBQSxNQUNBM08sUUFBQTRWLElBQUFqSCxFQUFBalAsS0FBQXFFLEVBQUE0SyxFQUFBalAsS0FBQXNFLElBS0FoRSxRQUFBNFYsSUFBZ0JGLElBQ1pQLEdBQWdCLElBQUswQixJQUNyQjFCLEdBQWdCLElBQUsyQixJQUNyQmxDLEdBQU1jLEdBQU8sSUFBTUciLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyoqXHJcbiAqIOaKveixoeWIl+ihqOaTjeS9nFxyXG4gKi9cclxuY2xhc3MgQWJzdHJhY3RMaXN0IHtcclxuICAgIGNvbnN0cnVjdG9yKCl7fVxyXG4gICAgZ2V0KGlkID0gMCl7fSAgICAgICAgICAvL+agueaNrmlk6I635b6XXHJcbiAgICBmaXJzcigpe31cclxuICAgIGxhc3QoKXt9XHJcbiAgICBzaXplKCl7fSAgICAgICAgICAgICAgICAvL+i/lOWbnumVv+W6plxyXG4gICAgYWRkKGRhdGEgPSBudWxsKXt9ICAgICAgLy/lsL7pg6jov73liqBcclxuICAgIHB1c2goZGF0YSA9IG51bGwpe30gICAgIC8v5aS06YOo6L+95YqgXHJcbiAgICBpbnNlcnQoZGF0YSA9IG51bGwsIG9yZGVyID0gMCl7fSAgICAvL+aPkuWFpeWIsOaMh+WumumhuuW6j++8jOebuOWQjG9yZGVy6Ze055qE5YWI5ZCO6aG65bqP55yL5YW35L2T5a6e546w6YC76L6RXHJcbiAgICBwb3AoKXt9ICAgICAgICAgICAgICAgLy/np7vpmaTlpLTpg6jlhYPntKBcclxuICAgIHB1bGwoKXt9ICAgICAgICAgICAgICAvL+enu+mZpOWwvumDqOWFg+e0oFxyXG4gICAgcmVtb3ZlKGlkID0gMCl7fSAgICAgIC8v5qC55o2uaWTnp7vpmaRcclxuICAgIGl0ZXJhdG9yKGNhbGxiYWNrID0gbnVsbCl7fVxyXG4gICAgaXRlcmF0b3JSZXZlcnNlKGNhbGxiYWNrID0gbnVsbCl7fVxyXG4gICAgaXRlcmF0b3JDb21wYXJlKGNhbGxiYWNrID0gbnVsbCl7fVxyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRMaXN0RGF0YShsaXN0ID0gbnVsbCwgaWQgPSAwLCByZXF1aXJlZCA9IGZhbHNlKXtcclxuICAgIGxldCBkYXRhID0gbGlzdC5nZXQoaWQpO1xyXG4gICAgaWYoIWRhdGEgJiYgcmVxdWlyZWQpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjYW4ndCBmaW5kIGtleUlkOiBcIiwgaWQpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3RGaXJzdChsaXN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gbGlzdC5maXJzdCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRMaXN0TGFzdChsaXN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gbGlzdC5sYXN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3RTaXplKGxpc3QgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0LnNpemUoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tBZGQobGlzdCA9IG51bGwsIGRhdGEgPSBudWxsKXtcclxuICAgIGlmKCFsaXN0IHx8ICFkYXRhIHx8ICFkYXRhLmlkKXtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiZXJyb3IgcGFyYW0uXCIpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIC8v5LiN6IO96YeN5aSN5re75YqgXHJcbiAgICBsZXQgZCA9IEdldExpc3REYXRhKGxpc3QsIGRhdGEuaWQpO1xyXG4gICAgaWYoZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIGlkOiVkIGlzIGV4aXN0XCIsIGRhdGEuaWQpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICog5bC+6YOo6L+95YqgXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBkYXRhIFxyXG4gKi9cclxuZnVuY3Rpb24gQWRkVG9MaXN0KGxpc3QgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICBpZihjaGVja0FkZChsaXN0LCBkYXRhKSl7XHJcbiAgICAgICAgbGlzdC5hZGQoZGF0YSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlpLTpg6jov73liqBcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGRhdGEgXHJcbiAqL1xyXG5mdW5jdGlvbiBQdXNoVG9MaXN0KGxpc3QgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICBpZihjaGVja0FkZChsaXN0LCBkYXRhKSl7XHJcbiAgICAgICAgbGlzdC5wdXNoKGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5qC55o2u6aG65bqP5Y+35o+S5YWlXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBkYXRhIFxyXG4gKiBAcGFyYW0geyp9IG9yZGVyIFxyXG4gKi9cclxuZnVuY3Rpb24gSW5zZXJ0VG9MaXN0KGxpc3QgPSBudWxsLCBkYXRhID0gbnVsbCwgb3JkZXIgPSAwKXtcclxuICAgIGlmKGNoZWNrQWRkKGxpc3QsIGRhdGEpKXtcclxuICAgICAgICBsaXN0Lmluc2VydChkYXRhLCBvcmRlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlpLTpg6jnp7vpmaRcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKi9cclxuZnVuY3Rpb24gUG9wRnJvbUxpc3QobGlzdCA9IG51bGwpe1xyXG4gICAgbGlzdC5wb3AoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwvumDqOenu+mZpFxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqL1xyXG5mdW5jdGlvbiBQdWxsRnJvbUxpc3QobGlzdCA9IG51bGwpe1xyXG4gICAgbGlzdC5wdWxsKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja5pZOenu+mZpFxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gaWQgXHJcbiAqL1xyXG5mdW5jdGlvbiBSZW1vdmVGcm9tTGlzdChsaXN0ID0gbnVsbCwgaWQgPSAwKXtcclxuICAgIGxpc3QucmVtb3ZlKGlkKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOato+WQkemBjeWOhlxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gY2FsbGJhY2sgZnVuYyhkYXRhKXsgcmV0dXJuIGJvb2x9IOiLpWJvb2w9dHJ1Ze+8jOWImee7iOatoumBjeWOhlxyXG4gKi9cclxuZnVuY3Rpb24gTGlzdEl0ZXJhdG9yKGxpc3QgPSBudWxsLCBjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgaWYoIWxpc3QgfHwgIWNhbGxiYWNrKSB7XHJcbiAgICAgICAgLy9sb2cgaGVyZVxyXG4gICAgICAgIHJldHVyblxyXG4gICAgfVxyXG4gICAgbGlzdC5pdGVyYXRvcihjYWxsYmFjayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlj43lkJHpgY3ljoZcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIFxyXG4gKi9cclxuZnVuY3Rpb24gTGlzdEl0ZXJhdG9yUmV2ZXJzZShsaXN0ID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFsaXN0IHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpc3QuaXRlcmF0b3JSZXZlcnNlKGNhbGxiYWNrKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWGhemDqOS+neasoeWvueavlFxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gY2FsbGJhY2sgZnVuYyhkYXRhMSwgZGF0YTIpIHJldHVybiBib29sIOiLpWJvb2w9dHJ1Ze+8jOWImee7iOatoumBjeWOhlxyXG4gKi9cclxuZnVuY3Rpb24gTGlzdEl0ZXJhdG9yQ29tcGFyZShsaXN0ID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rIHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpc3QuaXRlcmF0b3JDb21wYXJlKGNhbGxiYWNrKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEFic3RyYWN0TGlzdCxcclxuICAgIEdldExpc3REYXRhLCBHZXRMaXN0Rmlyc3QsIEdldExpc3RMYXN0LCBHZXRMaXN0U2l6ZSwgXHJcbiAgICBBZGRUb0xpc3QsIFB1c2hUb0xpc3QsIEluc2VydFRvTGlzdCwgUG9wRnJvbUxpc3QsIFB1bGxGcm9tTGlzdCwgUmVtb3ZlRnJvbUxpc3QsXHJcbiAgICBMaXN0SXRlcmF0b3IsIExpc3RJdGVyYXRvclJldmVyc2UsIExpc3RJdGVyYXRvckNvbXBhcmVcclxufSIsImltcG9ydCB7IEFic3RyYWN0TGlzdCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcblxyXG5jbGFzcyBMaW5rTm9kZSB7XHJcblx0Y29uc3RydWN0b3IoZGF0YSA9IG51bGwsIHByZXAgPSBudWxsLCBuZXh0ID0gbnVsbCwgb3JkZXIgPSAwKSB7XHJcblx0XHR0aGlzLmRhdGEgPSBkYXRhO1xyXG5cdFx0dGhpcy5wcmVwID0gcHJlcDtcclxuICAgICAgICB0aGlzLm5leHQgPSBuZXh0O1xyXG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIExpbmtMaXN0IGV4dGVuZHMgQWJzdHJhY3RMaXN0IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBzdXBlcigpO1xyXG5cdFx0dGhpcy5oZWFkID0gbmV3IExpbmtOb2RlKCk7XHRcdC8vZW1wdHkgZGF0YSBub2RlXHJcblx0XHR0aGlzLnRhaWwgPSBuZXcgTGlua05vZGUoKTtcclxuXHRcdHRoaXMuaGVhZC5uZXh0ID0gdGhpcy50YWlsO1xyXG5cdFx0dGhpcy50YWlsLnByZXAgPSB0aGlzLmhlYWQ7XHJcblx0XHR0aGlzLl9tYXAgPSBuZXcgTWFwKCk7XHJcblx0XHR0aGlzLl9zaXplID0gMDtcclxuICAgICAgICB0aGlzLl9kZWxMaXN0ID0gW107XHJcbiAgICAgICAgdGhpcy5fY3VyciA9IHRoaXMuaGVhZDtcclxuICAgICAgICB0aGlzLl9sb2NrID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGdldChpZCA9IDApe1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5fbWFwLmdldChpZCk7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUgPyBub2RlLmRhdGEgOiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGZpcnN0KCl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQubmV4dDtcclxuICAgICAgICByZXR1cm4gbm9kZSA9PSB0aGlzLnRhaWwgPyBudWxsIDogbm9kZS5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGxhc3QoKXtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMudGFpbC5wcmVwO1xyXG4gICAgICAgIHJldHVybiBub2RlID09IHRoaXMuaGVhZCA/IG51bGwgOiBub2RlLmRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgc2l6ZSgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLl9zaXplO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZChkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgYWRkVG9MaW5rKHRoaXMsIGRhdGEsIHRoaXMudGFpbCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVzaChkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgYWRkVG9MaW5rKHRoaXMsIGRhdGEsIHRoaXMuaGVhZC5uZXh0KTtcclxuICAgIH1cclxuXHJcbiAgICBpbnNlcnQoZGF0YSA9IG51bGwsIG9yZGVyID0gMCl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLmhlYWQubmV4dDtcclxuICAgICAgICB3aGlsZShub2RlICE9IHRoaXMudGFpbCl7XHJcbiAgICAgICAgICAgIGlmKG9yZGVyIDwgbm9kZS5vcmRlcil7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBhZGRUb0xpbmsodGhpcywgZGF0YSwgbm9kZSwgb3JkZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvcCgpe1xyXG4gICAgICAgIHJlbW92ZVdpdGhDaGVjayh0aGlzLCB0aGlzLmhlYWQubmV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVsbCgpe1xyXG4gICAgICAgIHJlbW92ZVdpdGhDaGVjayh0aGlzLCB0aGlzLnRhaWwucHJlcCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGlkID0gMCl7XHJcbiAgICAgICAgcmVtb3ZlV2l0aENoZWNrKHRoaXMsIHRoaXMuX21hcC5nZXQoaWQpKTtcclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRvcihjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSB0cnVlO1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgd2hpbGUobm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICBpZihjYWxsYmFjayhub2RlLmRhdGEpKXtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG5vZGUgPSBub2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSh0aGlzLl9kZWxMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMsIHRoaXMuX2RlbExpc3QucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBpdGVyYXRvclJldmVyc2UoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICB0aGlzLl9sb2NrID0gdHJ1ZTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMudGFpbC5wcmVwO1xyXG4gICAgICAgIHdoaWxlKG5vZGUgIT0gdGhpcy5oZWFkKXtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2sobm9kZS5kYXRhKSl7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5wcmVwO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUodGhpcy5fZGVsTGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLCB0aGlzLl9kZWxMaXN0LnBvcCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0b3JDb21wYXJlKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IHRydWU7XHJcbiAgICAgICAgbGV0IG91dE5vZGUgPSB0aGlzLmhlYWQubmV4dDtcclxuICAgICAgICB3aGlsZShvdXROb2RlICE9IHRoaXMudGFpbCl7XHJcbiAgICAgICAgICAgIGxldCBpbk5vZGUgPSBvdXROb2RlLm5leHQ7XHJcbiAgICAgICAgICAgIHdoaWxlKGluTm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICAgICAgaWYoY2FsbGJhY2sob3V0Tm9kZS5kYXRhLCBpbk5vZGUuZGF0YSkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaW5Ob2RlID0gaW5Ob2RlLm5leHQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3V0Tm9kZSA9IG91dE5vZGUubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlKHRoaXMuX2RlbExpc3QubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcywgdGhpcy5fZGVsTGlzdC5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUb0xpbmsobGluayA9IG51bGwsIGRhdGEgPSBudWxsLCBuZXh0ID0gbnVsbCwgb3JkZXIgPSAwKXtcclxuICAgIC8v5paw6IqC54K56L+e5o6lXHJcbiAgICBsZXQgcHJlcCA9IG5leHQucHJlcDtcclxuICAgIGxldCBub2RlID0gbmV3IExpbmtOb2RlKGRhdGEsIHByZXAsIG5leHQsIG9yZGVyKTtcclxuICAgIHByZXAubmV4dCA9IG5vZGU7XHJcbiAgICBuZXh0LnByZXAgPSBub2RlO1xyXG5cclxuICAgIGxpbmsuX21hcC5zZXQoZGF0YS5pZCwgbm9kZSk7XHJcbiAgICBsaW5rLl9zaXplKys7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVdpdGhDaGVjayhsaW5rID0gbnVsbCwgdGFyZ2V0Tm9kZSA9IG51bGwpe1xyXG4gICAgaWYoIWxpbmsgfHwgIXRhcmdldE5vZGUgfHwgbGluay5fc2l6ZSA8PSAwKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZihsaW5rLl9sb2NrKXtcclxuICAgICAgICBsaW5rLl9kZWxMaXN0LnB1c2godGFyZ2V0Tm9kZSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlTm9kZShsaW5rLCB0YXJnZXROb2RlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlTm9kZShsaW5rID0gbnVsbCwgbm9kZSA9IG51bGwpe1xyXG4gICAgbGluay5fbWFwLmRlbGV0ZShrZXlJZCk7XHJcbiAgICBsZXQgcCA9IG5vZGUucHJlcDtcclxuICAgIGxldCBuID0gbm9kZS5uZXh0O1xyXG4gICAgcC5uZXh0ID0gbjtcclxuICAgIG4ucHJlcCA9IHA7XHJcbiAgICBsaW5rLl9zaXplLS07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0xpbmsoKXtcclxuICAgIHJldHVybiBuZXcgTGlua0xpc3QoKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIE5ld0xpbmtcclxufSIsImltcG9ydCB7IE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vbGliL2xpc3QvbGlua2xpc3RcIjtcclxuXHJcbi8qKlxyXG4gKiDlhajlsYDljZXkvovotYTmupBcclxuICovXHJcblxyXG5cclxuIC8qKlxyXG4gKiDojrflj5bnsr7ngbXluKdcclxuICogVE9ETyBcclxuICog5Y+v6IO95Lya5pS55oiQaWTlvaLlvI9cclxuICog5byV5YWl6buY6K6k6LWE5rqQ5py65Yi277yM5om+5LiN5Yiw5bin5pe255qE6buY6K6k56m65bin77yM5Y+v5Lul5piv5LiA5byg57qi5Y+J5Zu+54mH77yMXHJcbiAqL1xyXG52YXIgc3ByaXRlRnJhbWVNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lKG5hbWUgPSBcIlwiLCBkZWZhdWx0VmFsdWUgPSB0cnVlKXtcclxuICAgIGxldCBmID0gc3ByaXRlRnJhbWVNYXAuZ2V0KG5hbWUpO1xyXG4gICAgcmV0dXJuIGYgPyBmIDogXHJcbiAgICAgICAgZGVmYXVsdFZhbHVlID8gc3ByaXRlRnJhbWVNYXAuZ2V0KFwiZGVmYWx1dFwiKSA6IG51bGw7XHJcbn1cclxuZnVuY3Rpb24gU2V0U3ByaXRlRnJhbWUobmFtZSA9IFwiXCIsIHNwcml0ZUZyYW1lID0gbnVsbCwgY2hlY2sgPSB0cnVlKXtcclxuICAgIGxldCBmID0gc3ByaXRlRnJhbWVNYXAuZ2V0KG5hbWUpO1xyXG4gICAgaWYoZiAmJiBjaGVjayl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImZyYW1lOiAlcyBleGlzdHMuXCIsIG5hbWUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHNwcml0ZUZyYW1lTWFwLnNldChuYW1lLCBzcHJpdGVGcmFtZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDoh6rlrprkuYnmlbDmja7lrprkuYlcclxuICovXHJcbnZhciBkZWZNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIEdldERlZihrZXkgPSBcIlwiKXtcclxuICAgIHJldHVybiBkZWZNYXAuZ2V0KGtleSk7XHJcbn1cclxuZnVuY3Rpb24gU2V0RGVmKGtleSA9IDAsIGRhdGEgPSBudWxsKXtcclxuICAgIGRlZk1hcC5zZXQoa2V5LCBkYXRhKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiHquWumuS5ieaVsOaNrlxyXG4gKi9cclxudmFyIGRhdGFNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIEdldERhdGEobmFtZSA9IFwiXCIpe1xyXG4gICAgcmV0dXJuIGRhdGFNYXAuZ2V0KG5hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIFNldERhdGEobmFtZSA9IFwiXCIsIGRhdGEgPSBudWxsLCBjaGVjayA9IHRydWUpe1xyXG4gICAgbGV0IGQgPSBkYXRhTWFwLmdldChuYW1lKTtcclxuICAgIGlmKGQgJiYgY2hlY2spe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkYXRhOiAlcyBleGlzdHMuXCIsIG5hbWUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRhdGFNYXAuc2V0KG5hbWUsIGRhdGEpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOaRhOWDj+aculxyXG4gKi9cclxudmFyIGRlZmF1bHRDYW1lcmEgPSBudWxsO1xyXG5mdW5jdGlvbiBTZXREZWZhdWx0Q2FtZXJhKGNhbWVyYSA9IG51bGwpe1xyXG4gICAgZGVmYXVsdENhbWVyYSA9IGNhbWVyYTtcclxufVxyXG5mdW5jdGlvbiBHZXREZWZhdWx0Q2FtZXJhKCl7XHJcbiAgICByZXR1cm4gZGVmYXVsdENhbWVyYTtcclxufVxyXG5cclxudmFyIGNhbWVyYXMgPSBbXTtcclxuZnVuY3Rpb24gQWRkQ2FtZXJhKGNhbWVyYSA9IG51bGwpe1xyXG4gICAgY2FtZXJhcy5wdXNoKGNhbWVyYSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0Q2FtZXJhcygpe1xyXG4gICAgcmV0dXJuIGNhbWVyYXM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5aSW6YOo5byV5pOOXHJcbiAqL1xyXG52YXIgY3VyckVuZ2luZSA9IG51bGw7XHJcbmZ1bmN0aW9uIFNldEVuZ2luZShlbmdpbmVPYmogPSBudWxsKXtcclxuICAgIGN1cnJFbmdpbmUgPSBlbmdpbmVPYmo7XHJcbn1cclxuZnVuY3Rpb24gR2V0RW5naW5lKCl7XHJcbiAgICByZXR1cm4gY3VyckVuZ2luZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOW9k+WJjeWcuuaZr1xyXG4gKi9cclxudmFyIGN1cnJTY2VuZSA9IG51bGw7XHJcbmZ1bmN0aW9uIFNldFNjZW5lKHNjZW5lID0gbnVsbCl7XHJcbiAgICBjdXJyU2NlbmUgPSBzY2VuZTtcclxufVxyXG5mdW5jdGlvbiBHZXRTY2VuZSgpe1xyXG4gICAgcmV0dXJuIGN1cnJTY2VuZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOebkeWQrOWZqFxyXG4gKi9cclxudmFyIGxpc3RlbmVyTWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBnZXRMaXN0ZW5lckxpc3QoZXZlbnRUeXBlID0gMCl7XHJcbiAgICBsZXQgbGlzTGlzdCA9IGxpc3RlbmVyTWFwLmdldChldmVudFR5cGUpO1xyXG4gICAgaWYoIWxpc0xpc3Qpe1xyXG4gICAgICAgIGxpc0xpc3QgPSBOZXdMaW5rKCk7XHJcbiAgICAgICAgbGlzdGVuZXJNYXAuc2V0KGV2ZW50VHlwZSwgbGlzTGlzdCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGlzTGlzdDtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldFNwcml0ZUZyYW1lLCBTZXRTcHJpdGVGcmFtZSxcclxuICAgIEdldERlZiwgU2V0RGVmLCBHZXREYXRhLCBTZXREYXRhLCBcclxuICAgIFNldERlZmF1bHRDYW1lcmEsIEdldERlZmF1bHRDYW1lcmEsIEFkZENhbWVyYSwgR2V0Q2FtZXJhcyxcclxuICAgIFNldEVuZ2luZSwgR2V0RW5naW5lLCBTZXRTY2VuZSwgR2V0U2NlbmUsXHJcbiAgICBnZXRMaXN0ZW5lckxpc3RcclxufSIsIlxyXG4vKipcclxuICog5aSW6YOo5byV5pOO5oq96LGh57G7XHJcbiAqIHgsIHkg6YO95piv5bGP5bmV5Z2Q5qCH77yM5rOo5oSPXHJcbiAqL1xyXG5jbGFzcyBBYnN0cmFjdEVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmcHMgPSA2MCl7XHJcbiAgICAgICAgdGhpcy5mcHMgPSBmcHM7XHJcbiAgICAgICAgdGhpcy50aWNrID0gMTAwMCAvIGZwcztcclxuICAgIH1cclxuXHJcbiAgICAvL+a4hemZpOeUu+W4g1xyXG4gICAgY2xlYXIoKXt9XHJcblxyXG4gICAgLy/nlLvluKdcclxuICAgIGRyYXdGcmFtZShjZW50ZXJQb3MgPSBudWxsLCBzcHJpdGVGcmFtZSA9IG51bGwpe31cclxuXHJcbiAgICAvL+eUu+efqeW9olxyXG4gICAgZHJhd1JlY3QoY2VudGVyUG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe31cclxuXHJcbiAgICAvL+eUu+e6v+autVxyXG4gICAgZHJhd0xpbmUoY2VudGVyUG9zID0gbnVsbCwgZW5kUG9zID0gbnVsbCl7fVxyXG5cclxuICAgIC8v55S75ZyGXHJcbiAgICBkcmF3Q2lyY2xlKGNlbnRlclBvcyA9IG51bGwsIHJhZGl1cyA9IDApe31cclxuXHJcbiAgICAvL2ltZ1NyY+aYr+WbvuWDj+WcsOWdgFxyXG4gICAgbG9hZFJlc291cmNlKGltZ1NyYyA9IFwiXCIsIG9uTG9hZENhbGxiYWNrID0gbnVsbCl7fVxyXG5cclxuICAgIHN0YXJ0KG9uRW50ZXJGcmFtZUNhbGxiYWNrID0gbnVsbCl7fVxyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVDbGVhcihlbmdpbmUgPSBudWxsKXtcclxuICAgIGVuZ2luZS5jbGVhcigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVEcmF3RnJhbWUoZW5naW5lID0gbnVsbCwgY2VudGVyUG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIGVuZ2luZS5kcmF3RnJhbWUoY2VudGVyUG9zLCBzcHJpdGVGcmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZURyYXdSZWN0KGVuZ2luZSA9IG51bGwsIGNlbnRlclBvcyA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIGVuZ2luZS5kcmF3UmVjdChjZW50ZXJQb3MsIHJlY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVEcmF3TGluZShlbmdpbmUgPSBudWxsLCBzdGFydFBvcyA9IG51bGwsIGVuZFBvcyA9IG51bGwpe1xyXG4gICAgZW5naW5lLmRyYXdMaW5lKHN0YXJ0UG9zLCBlbmRQb3MpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVEcmF3Q2lyY2xlKGVuZ2luZSA9IG51bGwsIGNlbnRlclBvcyA9IG51bGwsIHJhZGl1cyA9IDApe1xyXG4gICAgZW5naW5lLmRyYXdDaXJjbGUoY2VudGVyUG9zLCByYWRpdXMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVMb2FkUmVzb3VyY2UoZW5naW5lID0gbnVsbCwgaW1nU3JjID0gXCJcIiwgb25Mb2FkQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGVuZ2luZS5sb2FkUmVzb3VyY2UoaW1nU3JjLCBvbkxvYWRDYWxsYmFjayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZU9uS2V5Q2FsbGJhY2soZW5naW5lID0gbnVsbCwga2V5RG93bkNhbGxiYWNrID0gbnVsbCwga2V5VXBDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZW5naW5lLm9uS2V5Q2FsbGJhY2soa2V5RG93bkNhbGxiYWNrLCBrZXlVcENhbGxiYWNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lT25Ub3VjaENhbGxiYWNrKGVuZ2luZSA9IG51bGwsIHRvdWNoT25DYWxsYmFjayA9IG51bGwsIHRvdWNoT3ZlckNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBlbmdpbmUub25Ub3VjaENhbGxiYWNrKHRvdWNoT25DYWxsYmFjaywgdG91Y2hPdmVyQ2FsbGJhY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVTdGFydChlbmdpbmUgPSBudWxsLCBvbkVudGVyRnJhbWVDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZW5naW5lLnN0YXJ0KG9uRW50ZXJGcmFtZUNhbGxiYWNrKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEFic3RyYWN0RW5naW5lLCBFbmdpbmVDbGVhciwgXHJcbiAgICBFbmdpbmVEcmF3RnJhbWUsIEVuZ2luZURyYXdSZWN0LCBFbmdpbmVEcmF3TGluZSwgRW5naW5lRHJhd0NpcmNsZSxcclxuICAgIEVuZ2luZUxvYWRSZXNvdXJjZSwgRW5naW5lT25LZXlDYWxsYmFjaywgRW5naW5lT25Ub3VjaENhbGxiYWNrLCBFbmdpbmVTdGFydFxyXG59IiwiLyoqXHJcbiAqIOWfuuehgDJE5Z2Q5qCHXHJcbiAqL1xyXG5jbGFzcyBQb3Mge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwKXtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1Bvcyh4ID0gMCwgeSA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBQb3MoeCwgeSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZVBvcyhwb3MgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgcG9zLnggPSB4O1xyXG4gICAgcG9zLnkgPSB5O1xyXG59XHJcblxyXG4vKipcclxuICog6K6h566X55u45a+55Z2Q5qCHXHJcbiAqIOS7pXRhcmdldFBvc+S4uuWHhu+8jOiuoeeul3JlZmVyUG9z5LqOdGFyZ2V0UG9z55qE55u45a+55Z2Q5qCHXHJcbiAqIOS4vuS+i++8mlxyXG4gKiAgICAgIOaRhOWDj+acuuS9jeS6jig1MCwgNTAp5aSE77yMcmVmZXJQb3NcclxuICogICAgICDljZXkvY1B5L2N5LqOKDEyMCwgMzAp5aSE77yMdGFyZ2V0UG9zXHJcbiAqICAgICAg6YKj5LmI77yM5Y2V5L2NQeWcqOaRhOWDj+acuueahCgxMjAtNTAsIDMwLTUwKeWkhFxyXG4gKi9cclxuZnVuY3Rpb24gVG9Mb2NhdGVQb3ModGFyZ2V0UG9zID0gbnVsbCwgcmVmZXJQb3MgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGFyZ2V0UG9zLnggLSByZWZlclBvcy54LFxyXG4gICAgICAgIHRhcmdldFBvcy55IC0gcmVmZXJQb3MueSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlkJHph49cclxuICogZGlzdGFuY2U6IOi3neemu+ezu+aVsO+8jOazqOaEj+S4jeaYr+WunumZhei3neemu++8jOWPqueUqOS6juavlOi+g+i3neemu+Wkp+Wwj1xyXG4gKi9cclxuY2xhc3MgVmVjIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgICAgIC8vdGhpcy5kaXN0YW5jZSA9IHggKiB4ICsgeSAqIHk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1ZlYyh4ID0gMCwgeSA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBWZWMoeCwgeSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1ZlY1dpdGhQb3MocG9zU3RhcnQgPSBudWxsLCBwb3NFbmQgPSBudWxsKXtcclxuICAgIHJldHVybiBuZXcgTmV3VmVjKHBvc0VuZC54IC0gcG9zU3RhcnQueCwgcG9zRW5kLnkgLSBwb3NTdGFydC55KTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlVmVjKHZlYyA9IG51bGwsIHggPSAwLCB5ID0gMCl7XHJcbiAgICB2ZWMueCA9IHg7XHJcbiAgICB2ZWMueSA9IHk7XHJcbiAgICAvL3ZlYy5kaXN0YW5jZSA9IHggKiB4ICsgeSAqIHk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDot53nprvns7vmlbBcclxuICog5rOo5oSP77yM5bm26Z2e5a6e6ZmF6Led56a75YC877yM5Zug5Li65byA5qC55Y+36K6h566X5raI6ICX5aSnXHJcbiAqIOiLpeWPqueUqOS6juWvueavlOWkp+Wwj++8jOatpOezu+aVsOWNs+WPr1xyXG4gKi9cclxuZnVuY3Rpb24gR2V0VmVjRGlzdGFuY2UodmVjID0gbnVsbCl7XHJcbiAgICAvL3JldHVybiB2ZWMuZGlzdGFuY2U7XHJcbiAgICByZXR1cm4gdmVjLnggKiB2ZWMueCArIHZlYy55ICogdmVjLnk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogMkTln7rnoYDnn6nlvaLvvIzlj6rmnInlrr3pq5hcclxuICogd2lkdGgsIGhlaWdodCA6IOWuvemrmFxyXG4gKi9cclxuY2xhc3MgUmVjdGFuZ2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOefqeW9oum7mOiupOWxheS4reS6jm93bmVyXHJcbiAqIOatpOaWueazleS4gOiIrOeUsWNvbGxpZGVy6LCD55SoXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdSZWN0KHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICBpZih3aWR0aCA9PSAwIHx8IGhlaWdodCA9PSAwKXtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwicmVjdCBwYXJhbSBlcnJvci4gd2lkdGg6JWQsIGhlaWdodDolZFwiLCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIHJldHVybiBuZXcgUmVjdGFuZ2xlKHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVSZWN0U2l6ZShyZWN0ID0gbnVsbCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIHJlY3Qud2lkdGggPSB3aWR0aDtcclxuICAgIHJlY3QuaGVpZ2h0ID0gaGVpZ2h0O1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFdpZHRoKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LndpZHRoO1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RIZWlnaHQocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3QuaGVpZ2h0O1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RIYWxmV2lkdGgocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggKiAwLjU7XHJcbn1cclxuZnVuY3Rpb24gR2V0UmVjdEhhbGZIZWlnaHQocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3QuaGVpZ2h0ICogMC41O1xyXG59XHJcblxyXG4vL+axgumdouenr1xyXG5mdW5jdGlvbiBHZXRSZWN0QXJlYShyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC53aWR0aCAqIHJlY3QuaGVpZ2h0O1xyXG59XHJcblxyXG4vKipcclxuICog5ZyG5b2iXHJcbiAqL1xyXG5jbGFzcyBDaXJjbGUge1xyXG4gICAgY29uc3RydWN0b3IocmFkaXVzID0gMCkge1xyXG4gICAgICAgIHRoaXMucmFkaXVzID0gcmFkaXVzO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdDaXJjbGUocmFkaXVzID0gMCl7XHJcbiAgICBpZihyYWRpdXMgPT0gMCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNpcmNsZSBwYXJhbSBlcnJvci4gcmFkaXVzOiVkXCIsIHJhZGl1cyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IENpcmNsZShyYWRpdXMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRDaXJjbGVSYWRpdXMoY2lyY2xlID0gbnVsbCl7XHJcbiAgICByZXR1cm4gY2lyY2xlLnJhZGl1cztcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlQ2lyY2xlKGNpcmNsZSA9IG51bGwsIHJhZGl1cyA9IDApe1xyXG4gICAgY2lyY2xlLnJhZGl1cyA9IHJhZGl1cztcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIE5ld1BvcywgVXBkYXRlUG9zLCBUb0xvY2F0ZVBvcywgXHJcbiAgICBOZXdWZWMsIE5ld1ZlY1dpdGhQb3MsIFVwZGF0ZVZlYywgR2V0VmVjRGlzdGFuY2UsXHJcbiAgICBOZXdSZWN0LCBVcGRhdGVSZWN0U2l6ZSwgR2V0UmVjdFdpZHRoLCBHZXRSZWN0SGFsZldpZHRoLCBHZXRSZWN0SGVpZ2h0LCBHZXRSZWN0SGFsZkhlaWdodCwgR2V0UmVjdEFyZWEsXHJcbiAgICBOZXdDaXJjbGUsIEdldENpcmNsZVJhZGl1cywgVXBkYXRlQ2lyY2xlXHJcbn0iLCJpbXBvcnQgeyBOZXdQb3MsIE5ld1ZlYyB9IGZyb20gXCIuLi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcblxyXG4vKipcclxuICogVE9ET1xyXG4gKiDlhYjlhpnvvIzlho3mhaLmhaLop4TojINcclxuICog6L+Z6YeM5LiN6IO95pyJcG9zQ29t77yM5Zug5Li66L+Z5piv5Z+656GA5bGCXHJcbiAqIGJveC1jb2xsaWRlcueUqOWIsElzUmVjdHNDcm9zc1dpdGhWZWPmnaXmo4DmtYvnorDmkp7vvIzpnIDopoHph43mlrDogIPomZFcclxuICog6KaB5LmI5bCx5YGa5oiQbGliXHJcbiAqL1xyXG5jbGFzcyBQb3NPZmZzZXRSZWxhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsKXtcclxuICAgICAgICB0aGlzLnBvcyA9IHBvcztcclxuICAgICAgICB0aGlzLm9mZnNldCA9IG9mZnNldDsgICAgICAgLy/pgJrluLjmmK/mjIfmmL7npLrml7bnmoTlgY/np7vph4/vvIzlkox3b3JsZFBvc+aXoOWFs1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdQb3NPZmZzZXRSZWxhdGlvbihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsKXtcclxuICAgIG9mZnNldCA9IG9mZnNldCA/IG9mZnNldCA6IE5ld1ZlYygpO1xyXG4gICAgcmV0dXJuIG5ldyBQb3NPZmZzZXRSZWxhdGlvbihwb3MsIG9mZnNldCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFBvcyhwb3NPZmZzZXRSZWwgPSBudWxsKXtcclxuICAgIHJldHVybiBwb3NPZmZzZXRSZWwucG9zO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRPZmZzZXQocG9zT2Zmc2V0UmVsID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcG9zT2Zmc2V0UmVsLm9mZnNldDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVhbFBvcyhwb3NPZmZzZXRSZWwgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcG9zT2Zmc2V0UmVsLnBvcy54ICsgcG9zT2Zmc2V0UmVsLm9mZnNldC54LFxyXG4gICAgICAgIHBvc09mZnNldFJlbC5wb3MueSArIHBvc09mZnNldFJlbC5vZmZzZXQueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZU9mZnNldChwb3NPZmZzZXRSZWwgPSBudWxsLCB4T2Zmc2V0ID0gMCwgeU9mZnNldCA9IDApe1xyXG4gICAgcG9zT2Zmc2V0UmVsLm9mZnNldC54ID0geE9mZnNldDtcclxuICAgIHBvc09mZnNldFJlbC5vZmZzZXQueSA9IHlPZmZzZXQ7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBQb3NPZmZzZXRSZWxhdGlvbiwgTmV3UG9zT2Zmc2V0UmVsYXRpb24sIEdldFBvcywgR2V0T2Zmc2V0LFxyXG4gICAgR2V0UmVhbFBvcywgVXBkYXRlT2Zmc2V0XHJcbn0iLCJjb25zdCBNQVhfSU5UID0gMjE0NzQ4MzY0NyAgIC8vICAyXjMxIC0gMSA9IDIxNDc0ODM2NDdcclxuZnVuY3Rpb24gR2V0TWF4SW50KCl7XHJcbiAgICByZXR1cm4gTUFYX0lOVDtcclxufVxyXG5cclxuZnVuY3Rpb24gQWJzKHZhbCA9IDApe1xyXG4gICAgcmV0dXJuIHZhbCA+PSAwID8gdmFsIDogLXZhbDtcclxufVxyXG5cclxuZnVuY3Rpb24gTWF4KHZhbDEgPSAwLCB2YWwyID0gMCl7XHJcbiAgICByZXR1cm4gdmFsMSA+IHZhbDIgPyB2YWwxIDogdmFsMjtcclxufVxyXG5cclxuZnVuY3Rpb24gTWluKHZhbDEgPSAwLCB2YWwyID0gMCl7XHJcbiAgICByZXR1cm4gdmFsMSA8IHZhbDIgPyB2YWwxIDogdmFsMjtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS5i+WJje+8mnggPCAwID8gTWF0aC5jZWlsKHgpIDogTWF0aC5mbG9vcih4KVxyXG4gKiDnjrDlnKjvvJpNYXRoLnRydW5jKHgpXHJcbiAqIEBwYXJhbSB7Kn0gbnVtIFxyXG4gKi9cclxuZnVuY3Rpb24gR2V0SW50KG51bSA9IDApe1xyXG4gICAgcmV0dXJuIE1hdGgudHJ1bmMobnVtKTtcclxufVxyXG5cclxuZXhwb3J0e1xyXG4gICAgR2V0TWF4SW50LCBBYnMsIE1heCwgTWluLCBHZXRJbnRcclxufSIsImltcG9ydCB7IE5ld1ZlYywgTmV3UG9zLCBHZXRSZWN0SGFsZldpZHRoLCBHZXRSZWN0SGFsZkhlaWdodCB9IGZyb20gXCIuLi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcbmltcG9ydCB7IEdldFJlYWxQb3MsIFBvc09mZnNldFJlbGF0aW9uIH0gZnJvbSBcIi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBBYnMgfSBmcm9tIFwiLi4vc3RydWN0dXJlL21hdGhcIjtcclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLkuI7kvY3nva7nmoTlhbPns7vlhYPku7ZcclxuICovXHJcbmNsYXNzIFJlY3RQb3NSZWxhdGlvbiBleHRlbmRzIFBvc09mZnNldFJlbGF0aW9uIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcyA9IG51bGwsIG9mZnNldCA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgICAgICBzdXBlcihwb3MsIG9mZnNldCk7XHJcbiAgICAgICAgdGhpcy5yZWN0ID0gcmVjdDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3UmVjdFBvc1JlbGF0aW9uKHBvcyA9IG51bGwsIG9mZnNldCA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIG9mZnNldCA9IG9mZnNldCA/IG9mZnNldCA6IE5ld1ZlYygpO1xyXG4gICAgcmV0dXJuIG5ldyBSZWN0UG9zUmVsYXRpb24ocG9zLCBvZmZzZXQsIHJlY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0KHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3RQb3NUdXBsZS5yZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlYWxQb3MocmVjdFBvc1R1cGxlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgcG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZS5yZWN0KSxcclxuICAgICAgICBwb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZS5yZWN0KVxyXG4gICAgKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBwb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvcy54ICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUucmVjdCksXHJcbiAgICAgICAgcG9zLnkgKyBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUucmVjdClcclxuICAgICk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog55uu5YmN55qE5py65Yi277yM5Y+v5Lul5L2/55So55+p5b2i5Lit5b+D54K55LmL6Ze055qE6Led56a75Yik5pat5piv5ZCm55u45LqkXHJcbiAqL1xyXG5mdW5jdGlvbiBJc1JlY3RzQ3Jvc3MocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKXtcclxuICAgIGxldCBwb3MxID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBwb3MyID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUyKTtcclxuICAgIGxldCB3ID0gQWJzKHBvczEueCAtIHBvczIueCk7XHJcbiAgICBpZih3ID4gR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUyLnJlY3QpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBsZXQgaCA9IEFicyhwb3MxLnkgLSBwb3MyLnkpO1xyXG4gICAgaWYoaCA+IEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUyLnJlY3QpKXtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRPRE8g6ZyA6YeN5paw6K6+6K6hXHJcbiAqIEBwYXJhbSB7Kn0gcmVjdFBvc1R1cGxlMSBcclxuICogQHBhcmFtIHsqfSByZWN0UG9zVHVwbGUyIFxyXG4gKi9cclxuZnVuY3Rpb24gSXNSZWN0c0Nyb3NzV2l0aFZlYyhyZWN0UG9zVHVwbGUxID0gbnVsbCwgcmVjdFBvc1R1cGxlMiA9IG51bGwpIHtcclxuICAgIGxldCBycDEgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IHBvczEgPSBOZXdQb3MoXHJcbiAgICAgICAgcnAxLnggKyByZWN0UG9zVHVwbGUxLnVuaXRWZWMueCxcclxuICAgICAgICBycDEueSArIHJlY3RQb3NUdXBsZTEudW5pdFZlYy55XHJcbiAgICApO1xyXG4gICAgbGV0IHJwMiA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMik7XHJcbiAgICBsZXQgcG9zMiA9IE5ld1BvcyhcclxuICAgICAgICBycDIueCArIHJlY3RQb3NUdXBsZTIudW5pdFZlYy54LFxyXG4gICAgICAgIHJwMi55ICsgcmVjdFBvc1R1cGxlMi51bml0VmVjLnlcclxuICAgICk7XHJcbiAgICBsZXQgdyA9IEFicyhwb3MxLnggLSBwb3MyLngpO1xyXG4gICAgaWYodyA+IEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGggPSBBYnMocG9zMS55IC0gcG9zMi55KTtcclxuICAgIGlmKGggPiBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOacieW+heS8mOWMllxyXG4gKiDkuKTkuKrnn6nlvaLmmK/lkKbnm7jkuqTvvIzln7rnoYDnorDmkp7mo4DmtYvvvIjpnIDopoHlhYjmm7TmlrDlnZDmoIfvvIlcclxuICog5Y6f55CG77yaXHJcbiAqICDlt6Z477yM5Y+W5Lik6ICF5pyA5aSn5YC8XHJcbiAqICDlj7N477yM5Y+W5Lik6ICF5pyA5bCP5YC8XHJcbiAqICDlpoLmnpzlj7N45aSn5LqO5bemeO+8jOWImXjovbTnm7jkuqRcclxuICogWeWQjOeQhu+8mlxyXG4gKiAg5LiKee+8jOWPluS4pOiAheacgOWkp+WAvFxyXG4gKiAg5LiLee+8jOWPluS4pOiAheacgOWwj+WAvFxyXG4gKiAg5aaC5p6c5LiLeeWkp+S6juS4innvvIzliJl56L2055u45LqkXHJcbiAqICDnm67liY3vvIzljbPkvb/kuKTovrnph43lj6DvvIzkuZ/kuI3nrpfnm7jkuqTvvIzov5nmoLfog73pgb/lhY3lvojlpJrpl67pophcclxuICovXHJcbmZ1bmN0aW9uIE5ld0lubmVyUmVjdChyZWN0UG9zVHVwbGUxID0gbnVsbCwgcmVjdFBvc1R1cGxlMiA9IG51bGwpe1xyXG4gICAgaWYoIUlzUmVjdHNDcm9zcyhyZWN0UG9zVHVwbGUxLCByZWN0UG9zVHVwbGUyKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHN0YXJ0MSA9IEdldFJlY3RQb3NTdGFydChyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBzdGFydDIgPSBHZXRSZWN0UG9zU3RhcnQocmVjdFBvc1R1cGxlMik7XHJcbiAgICBsZXQgZW5kMSA9IEdldFJlY3RQb3NFbmQocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgZW5kMiA9IEdldFJlY3RQb3NFbmQocmVjdFBvc1R1cGxlMik7XHJcblxyXG4gICAgbGV0IHIxeDEgPSBzdGFydDEueDtcclxuICAgIGxldCByMngxID0gc3RhcnQyLng7XHJcbiAgICBsZXQgbWF4WDEgPSByMXgxID4gcjJ4MSA/IHIxeDEgOiByMngxO1xyXG5cclxuICAgIGxldCByMXgyID0gZW5kMS54O1xyXG4gICAgbGV0IHIyeDIgPSBlbmQyLng7XHJcbiAgICBsZXQgbWluWDIgPSByMXgyIDwgcjJ4MiA/IHIxeDIgOiByMngyO1xyXG5cclxuICAgIGxldCByMXkxID0gc3RhcnQxLnk7XHJcbiAgICBsZXQgcjJ5MSA9IHN0YXJ0Mi55O1xyXG4gICAgbGV0IG1heFkxID0gcjF5MSA+IHIyeTEgPyByMXkxIDogcjJ5MTtcclxuXHJcbiAgICBsZXQgcjF5MiA9IGVuZDEueTtcclxuICAgIGxldCByMnkyID0gZW5kMi55O1xyXG4gICAgbGV0IG1pblkyID0gcjF5MiA8IHIyeTIgPyByMXkyIDogcjJ5MjtcclxuXHJcbiAgICBsZXQgd2lkdGggPSBtaW5YMiAtIG1heFgxO1xyXG4gICAgbGV0IGhlaWdodCA9IG1pblkyIC0gbWF4WTE7XHJcbiAgICBsZXQgcmVjdCA9IE5ld1JlY3QoMCwgMCwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBpZighcmVjdCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIE5ld1JlY3RQb3NUdXBsZSgwLCAwLCBcclxuICAgICAgICBOZXdQb3MoXHJcbiAgICAgICAgICAgIG1heFgxICsgR2V0UmVjdEhhbGZXaWR0aChyZWN0KSxcclxuICAgICAgICAgICAgbWF4WTEgKyBHZXRSZWN0SGFsZkhlaWdodChyZWN0KVxyXG4gICAgICAgICksIE5ld1ZlYygpLCByZWN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS/ruWkjeS9jee9ru+8jOagueaNrnJlY3TnmoTkuK3lv4PkvY3nva7kv67lpI11bml0LnBvc1xyXG4gKi9cclxuZnVuY3Rpb24gRml4VW5pdFBvcyhyZWN0UG9zVHVwbGUgPSBudWxsLCByZWN0WCA9IDAsIHJlY3RZID0gMCl7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFBvcy54ID0gcmVjdFggLSByZWN0UG9zVHVwbGUub2Zmc2V0Lng7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFBvcy55ID0gcmVjdFkgLSByZWN0UG9zVHVwbGUub2Zmc2V0Lnk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEZpeFVuaXRWZWMocmVjdFBvc1R1cGxlID0gbnVsbCwgcmVjdFggPSAwLCByZWN0WSA9IDApIHtcclxuICAgIHJlY3RQb3NUdXBsZS51bml0VmVjLnggPSByZWN0WCAtIHJlY3RQb3NUdXBsZS51bml0UG9zLng7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFZlYy55ID0gcmVjdFkgLSByZWN0UG9zVHVwbGUudW5pdFBvcy55OyAgICBcclxufVxyXG5cclxuLyoqXHJcbiAqIOagueaNrnVuaXTkvY3nva7mm7TmlrByZWN05L2N572u77yI5LiA6Iis5Zy65pmv6LCD55So77yJXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhSZWN0UG9zKHJlY3RQb3NUdXBsZSA9IG51bGwsIHVuaXRQb3NYID0gMCwgdW5pdFBvc1kgPSAwKXtcclxuICAgIHJlY3RQb3NUdXBsZS5jZW50ZXIueCA9IHVuaXRQb3NYICsgcmVjdFBvc1R1cGxlLm9mZnNldC54O1xyXG4gICAgcmVjdFBvc1R1cGxlLmNlbnRlci55ID0gdW5pdFBvc1kgKyByZWN0UG9zVHVwbGUub2Zmc2V0Lnk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBpbm5lci5yZWN05LiN5YeG6LaK5Ye6b3V0dGVyLnJlY3TvvIzkv67mraNpbm5yZXIucG9z5L2N572uXHJcbiAqIGlubmVy5ZKMb3V0dGVy6YO95pivUmVjdFBvc1R1cGxlXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhJblJlY3Qob3V0dGVyID0gbnVsbCwgaW5uZXIgPSBudWxsKXtcclxuICAgIGxldCBjZW50ZXJQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKGlubmVyKTtcclxuICAgIGxldCBpbm5lclN0YXJ0UG9zID0gR2V0UmVjdFBvc1N0YXJ0KGlubmVyKTtcclxuICAgIGxldCBpbm5lckVuZFBvcyA9IEdldFJlY3RQb3NFbmQoaW5uZXIpO1xyXG4gICAgbGV0IG91dHRlclN0YXJ0UG9zID0gR2V0UmVjdFBvc1N0YXJ0KG91dHRlcik7XHJcbiAgICBsZXQgb3V0dGVyRW5kUG9zID0gR2V0UmVjdFBvc0VuZChvdXR0ZXIpO1xyXG5cclxuICAgIGxldCB4ID0gY2VudGVyUG9zLng7XHJcbiAgICBpZihpbm5lclN0YXJ0UG9zLnggPCBvdXR0ZXJTdGFydFBvcy54KXtcclxuICAgICAgICB4ID0gb3V0dGVyU3RhcnRQb3MueCArIEdldFJlY3RIYWxmV2lkdGgoaW5uZXIpO1xyXG4gICAgfWVsc2UgaWYoaW5uZXJFbmRQb3MueCA+IG91dHRlckVuZFBvcy54KXtcclxuICAgICAgICB4ID0gb3V0dGVyRW5kUG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKGlubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgeSA9IGNlbnRlclBvcy55O1xyXG4gICAgaWYoaW5uZXJTdGFydFBvcy55IDwgb3V0dGVyU3RhcnRQb3MueSl7XHJcbiAgICAgICAgeSA9IG91dHRlclN0YXJ0UG9zLnkgKyBHZXRSZWN0SGFsZkhlaWdodChpbm5lcik7XHJcbiAgICB9ZWxzZSBpZihpbm5lckVuZFBvcy55ID4gb3V0dGVyRW5kUG9zLnkpe1xyXG4gICAgICAgIHkgPSBvdXR0ZXJTdGFydFBvcy55IC0gR2V0UmVjdEhhbGZIZWlnaHQoaW5uZXIpO1xyXG4gICAgfVxyXG5cclxuICAgIEZpeFVuaXRQb3MoaW5uZXIsIHgsIHkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOW9k+WJjeS9jee9ruaYr+WQpuWcqOefqeW9ouS4re+8iOWQjOagt+mcgOimgeWFiOabtOaWsHJlY3TkvY3nva7vvIlcclxuICog5YyF5ZCr6Lip57q/5oOF5Ya1XHJcbiAqL1xyXG5mdW5jdGlvbiBJc1Bvc0luUmVjdChwb3MgPSBudWxsLCByZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBzdGFydFBvcyA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlKTtcclxuICAgIGxldCBlbmRQb3MgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZSk7XHJcbiAgICByZXR1cm4gcG9zLnggPj0gc3RhcnRQb3MueCAmJiBwb3MueCA8PSBlbmRQb3MueFxyXG4gICAgICAgICYmIHBvcy55ID49IHN0YXJ0UG9zLnkgJiYgcG9zLnkgPD0gZW5kUG9zLnk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdSZWN0UG9zUmVsYXRpb24sIEdldFJlY3QsIEdldFJlY3RQb3NDZW50ZXIsIEdldFJlY3RQb3NTdGFydCwgR2V0UmVjdFBvc0VuZCxcclxuICAgIElzUmVjdHNDcm9zcywgSXNQb3NJblJlY3RcclxufVxyXG5cclxuXHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tIOS7peS4i+W+heWumlxyXG5cclxuLyoqXHJcbiAqIOagueaNrue6v+auteS9nOefqeW9olxyXG4gKi9cclxuZnVuY3Rpb24gTmV3T3V0dGVyUmVjdCh4MSA9IDAsIHkxID0gMCwgeDIgPSAwLCB5MiA9IDApe1xyXG4gICAgbGV0IHdpZHRoID0geDIgLSB4MTtcclxuICAgIGxldCBoZWlnaHQgPSB5MiAtIHkxO1xyXG4gICAgaWYod2lkdGggPD0gMCB8fCBoZWlnaHQgPD0gMCl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgY2VudGVyWCA9IHgxICsgKHgyIC0geDEpICogMC41O1xyXG4gICAgbGV0IGNlbnRlclkgPSB5MSArICh5MiAtIHkxKSAqIDAuNTtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdERlZmF1bHQod2lkdGgsIGhlaWdodCk7XHJcbiAgICBVcGRhdGVSZWN0UG9zKHJlY3QsIGNlbnRlclgsIGNlbnRlclkpO1xyXG4gICAgcmV0dXJuIHJlY3Q7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuKTkuKrnn6nlvaLpl7TnmoTlpJbmjqXnn6nlvaJcclxuICovXHJcbmZ1bmN0aW9uIE5ld091dHRlclJlY3RCeVJlY3RzKHJlY3QxID0gbnVsbCwgcmVjdDIgPSBudWxsKXtcclxuICAgIGxldCByMXgxID0gR2V0UmVjdFgxKHJlY3QxKTtcclxuICAgIGxldCByMngxID0gR2V0UmVjdFgxKHJlY3QyKTtcclxuICAgIGxldCB4MSA9IHIxeDEgPCByMngxID8gcjF4MSA6IHIyeDE7XHJcbiAgICBsZXQgcjF4MiA9IEdldFJlY3RYMihyZWN0MSk7XHJcbiAgICBsZXQgcjJ4MiA9IEdldFJlY3RYMihyZWN0Mik7XHJcbiAgICBsZXQgeDIgPSByMXgyID4gcjJ4MiA/IHIxeDIgOiByMngyO1xyXG5cclxuICAgIGxldCByMXkxID0gR2V0UmVjdFkxKHJlY3QxKTtcclxuICAgIGxldCByMnkxID0gR2V0UmVjdFkxKHJlY3QyKTtcclxuICAgIGxldCB5MSA9IHIxeTEgPCByMnkxID8gcjF5MSA6IHIyeTE7XHJcbiAgICBsZXQgcjF5MiA9IEdldFJlY3RZMihyZWN0MSk7XHJcbiAgICBsZXQgcjJ5MiA9IEdldFJlY3RZMihyZWN0Mik7XHJcbiAgICBsZXQgeTIgPSByMXkyID4gcjJ5MiA/IHIxeTIgOiByMnkyO1xyXG5cclxuICAgIHJldHVybiBOZXdPdXR0ZXJSZWN0KHgxLCB5MSwgeDIsIHkyKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLmjpLmlqXvvIx0YXJnZXRSZWN05Lya6KKrYmxvY2tSZWN05by55Ye65Y67XHJcbiAqIFRPRE/vvIzku6XlkI7lrozlloTms6jph4pcclxuICovXHJcbmZ1bmN0aW9uIEZpeEV4Y2x1ZGVSZWN0KGJsb2NrUmVjdCA9IG51bGwsIHRhcmdldFJlY3QgPSBudWxsKXtcclxuICAgIGxldCBwb3MxID0gYmxvY2tSZWN0LnBvcztcclxuICAgIGxldCBwb3MyID0gdGFyZ2V0UmVjdC5wb3M7XHJcbiAgICAvL+iuoeeul+WFs+ezu++8jOS4iuS4i+W3puWPs1xyXG4gICAgbGV0IHZ4ID0gcG9zMS54IC0gcG9zMi54O1xyXG4gICAgbGV0IHZ5ID0gcG9zMS55IC0gcG9zMi55O1xyXG4gICAgbGV0IHggPSB2eCA8IDAgPyB2eCotMSA6IHZ4O1xyXG4gICAgbGV0IHkgPSB2eSA8IDAgPyB2eSotMSA6IHZ5O1xyXG4gICAgaWYoeCA+IHkpe1xyXG4gICAgICAgIC8v5bem5Y+zXHJcbiAgICAgICAgaWYodnggPiAwKXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOW3plxyXG4gICAgICAgICAgICBwb3MyLnggPSBibG9ja1JlY3QucG9zU3RhcnQueCAtIHRhcmdldFJlY3Qud2lkdGggLSB0YXJnZXRSZWN0LnhPZmZzZXQ7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjlj7NcclxuICAgICAgICAgICAgcG9zMi54ID0gYmxvY2tSZWN0LnBvc0VuZC54IC0gdGFyZ2V0UmVjdC54T2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgIH1lbHNle1xyXG4gICAgICAgIC8v5LiK5LiLXHJcbiAgICAgICAgaWYodnkgPiAwKXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOS4ilxyXG4gICAgICAgICAgICBwb3MyLnkgPSBibG9ja1JlY3QucG9zU3RhcnQueSAtIHRhcmdldFJlY3QuaGVpZ2h0IC0gdGFyZ2V0UmVjdC55T2Zmc2V0O1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5LiLXHJcbiAgICAgICAgICAgIHBvczIueSA9IGJsb2NrUmVjdC5wb3NFbmQueSAtIHRhcmdldFJlY3QueU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBVcGRhdGVSZWN0KHRhcmdldFJlY3QpO1xyXG59IiwiaW1wb3J0IHsgTmV3UmVjdFBvc1JlbGF0aW9uLCBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3QgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9vZmZzZXQvcmVjdFwiO1xyXG5pbXBvcnQgeyBOZXdQb3MsIE5ld1JlY3QsIEdldFJlY3RXaWR0aCwgR2V0UmVjdEhlaWdodCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuXHJcbi8qKlxyXG4gKiDmkYTlg4/mnLrmir3osaHnsbtcclxuICog55uu5YmN77yMQ2FtZXJh5Y2z5pivUmVjdFBvc1R1cGxl77yM5Y+q5piv5YW2b2Zmc2V0PTDogIzlt7JcclxuICog5ZCO57ut5Y+v6IO95Lya5aKe5Yqg5paw5bGe5oCn77yM5YWI55So5Liq57G75p2l5YGaXHJcbiAqL1xyXG5jbGFzcyBCYXNlQ2FtZXJhIHtcclxuICAgIGNvbnN0cnVjdG9yKHJlY3RQb3NSZWwgPSBudWxsLCBzY3JlZW5PZmZzZXQgPSBudWxsKXtcclxuICAgICAgICB0aGlzLnJlY3RQb3NSZWwgPSByZWN0UG9zUmVsO1xyXG4gICAgICAgIHRoaXMuc2NyZWVuT2Zmc2V0ID0gc2NyZWVuT2Zmc2V0OyAgIC8v5bGP5bmV5bem5LiK6KeS5YGP56e76YePXHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0NhbWVyYSh4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICBsZXQgcG9zID0gTmV3UG9zKHgsIHkpO1xyXG4gICAgbGV0IHJwID0gTmV3UmVjdFBvc1JlbGF0aW9uKHBvcywgbnVsbCwgTmV3UmVjdCh3aWR0aCwgaGVpZ2h0KSk7XHJcbiAgICByZXR1cm4gbmV3IEJhc2VDYW1lcmEocnApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRDYW1lcmFTdGFydFBvcyhjYW1lcmEgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRSZWN0UG9zU3RhcnQoY2FtZXJhLnJlY3RQb3NSZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRDYW1lcmFXaWR0aChjYW1lcmEgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRSZWN0V2lkdGgoXHJcbiAgICAgICAgR2V0UmVjdChjYW1lcmEucmVjdFBvc1JlbCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRDYW1lcmFIZWlnaHQoY2FtZXJhID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdEhlaWdodChcclxuICAgICAgICBHZXRSZWN0KGNhbWVyYS5yZWN0UG9zUmVsKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdDYW1lcmEsIEdldENhbWVyYVN0YXJ0UG9zLFxyXG4gICAgR2V0Q2FtZXJhV2lkdGgsIEdldENhbWVyYUhlaWdodFxyXG59IiwiaW1wb3J0IHsgTmV3Q2FtZXJhLCBHZXRDYW1lcmFTdGFydFBvcyB9IGZyb20gXCIuL2Jhc2VcIjtcclxuaW1wb3J0IHsgVG9Mb2NhdGVQb3MgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcblxyXG4vKipcclxuICogb3B0aW9ucyA9IHtcclxuICogICAgICBzdHlsZSA6IDAsXHJcbiAqICAgICAgZGF0YXMgOiBbXHJcbiAqICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgIHggOiAwLCB5IDogMCwgIFxyXG4gKiAgICAgICAgICAgICAgLy/mianlsZXvvJpvZmZzZXQteCA6IDAsIG9mZnNldC15IDogMCwgd2lkdGggOiAwLCBoZWlnaHQgOiAwXHJcbiAqICAgICAgICAgIH1cclxuICogICAgICBdXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIENyZWF0ZUNhbWVyYVdpdGhEYXRhKG9wdGlvbnMgPSBudWxsLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHtcclxuICAgICAgICBzdHlsZSA6IDAsXHJcbiAgICAgICAgZGF0YXMgOiBbe3ggOiAwLCB5IDogMH1dXHJcbiAgICB9O1xyXG4gICAgLy9UT0RPXHJcbiAgICBsZXQgYyA9IG9wdGlvbnMuZGF0YXNbMF07XHJcbiAgICByZXR1cm4gTmV3Q2FtZXJhKGNbJ3gnXSwgY1sneSddLCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEgPSBudWxsLCBwb3MgPSBudWxsKXtcclxuICAgIHJldHVybiBUb0xvY2F0ZVBvcyhcclxuICAgICAgICBwb3MsIEdldENhbWVyYVN0YXJ0UG9zKGNhbWVyYSkpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgQ3JlYXRlQ2FtZXJhV2l0aERhdGEsXHJcbiAgICBUb0NhbWVyYVN0YXJ0UG9zXHJcbn0iLCJpbXBvcnQgeyBHZXRFbmdpbmUsIEdldERlZmF1bHRDYW1lcmEgfSBmcm9tIFwiLi9zZXJ2aWNlL3Jlc291cmNlXCI7XHJcbmltcG9ydCB7IEVuZ2luZURyYXdGcmFtZSwgRW5naW5lRHJhd1JlY3QsIEVuZ2luZUNsZWFyLCBFbmdpbmVEcmF3TGluZSwgRW5naW5lRHJhd0NpcmNsZSB9IGZyb20gXCIuLi9saWIvZW5naW5lL2Jhc2VcIjtcclxuaW1wb3J0IHsgVG9DYW1lcmFTdGFydFBvcyB9IGZyb20gXCIuLi9saWIvY2FtZXJhL3V0aWxzXCI7XHJcblxyXG4vKipcclxuICog5riF6Zmk55S75biDXHJcbiAqL1xyXG5mdW5jdGlvbiBDbGVhcigpe1xyXG4gICAgRW5naW5lQ2xlYXIoR2V0RW5naW5lKCkpO1xyXG59XHJcblxyXG4vKipcclxuICogVE9ETyDlj6/og73kvJrmlLnmiJBzcHJpdGVGcmFtZUlk5Y+C5pWwXHJcbiAqL1xyXG5mdW5jdGlvbiBEcmF3RnJhbWUocG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIERyYXdGcmFtZUluQ2FtZXJhKFxyXG4gICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSwgcG9zLCBzcHJpdGVGcmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdGcmFtZUluQ2FtZXJhKGNhbWVyYSA9IG51bGwsIHBvcyA9IG51bGwsIHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICBsZXQgY1BvcyA9IFRvQ2FtZXJhU3RhcnRQb3MoY2FtZXJhLCBwb3MpO1xyXG4gICAgRW5naW5lRHJhd0ZyYW1lKEdldEVuZ2luZSgpLCBjUG9zLCBzcHJpdGVGcmFtZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdSZWN0KHBvcyA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIERyYXdSZWN0SW5DYW1lcmEoXHJcbiAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpLCBwb3MsIHJlY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEcmF3UmVjdEluQ2FtZXJhKGNhbWVyYSA9IG51bGwsIHBvcyA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIGxldCBjUG9zID0gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEsIHBvcyk7XHJcbiAgICBFbmdpbmVEcmF3UmVjdChHZXRFbmdpbmUoKSwgY1BvcywgcmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdMaW5lKHBvc1N0YXJ0ID0gbnVsbCwgcG9zRW5kID0gbnVsbCl7XHJcbiAgICBEcmF3TGluZUluQ2FtZXJhKFxyXG4gICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSwgcG9zU3RhcnQsIHBvc0VuZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdMaW5lSW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zU3RhcnQgPSBudWxsLCBwb3NFbmQgPSBudWxsKXtcclxuICAgIGxldCBjUG9zMSA9IFRvQ2FtZXJhU3RhcnRQb3MoY2FtZXJhLCBwb3NTdGFydCk7XHJcbiAgICBsZXQgY1BvczIgPSBUb0NhbWVyYVN0YXJ0UG9zKGNhbWVyYSwgcG9zRW5kKTtcclxuICAgIEVuZ2luZURyYXdMaW5lKEdldEVuZ2luZSgpLCBjUG9zMSwgY1BvczIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEcmF3Q2lyY2xlKHBvcyA9IG51bGwsIHJhZGl1cyA9IDApe1xyXG4gICAgRHJhd0NpcmNsZUluQ2FtZXJhKFxyXG4gICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSwgcG9zLCByYWRpdXMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEcmF3Q2lyY2xlSW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCwgcmFkaXVzID0gMCl7XHJcbiAgICBsZXQgY1BvcyA9IFRvQ2FtZXJhU3RhcnRQb3MoY2FtZXJhLCBwb3MpO1xyXG4gICAgRW5naW5lRHJhd0NpcmNsZShHZXRFbmdpbmUoKSwgY1BvcywgcmFkaXVzKTtcclxufVxyXG5cclxuZXhwb3J0e1xyXG4gICAgQ2xlYXIsIERyYXdGcmFtZSwgRHJhd0ZyYW1lSW5DYW1lcmEsXHJcbiAgICBEcmF3UmVjdCwgRHJhd1JlY3RJbkNhbWVyYSwgXHJcbiAgICBEcmF3TGluZSwgRHJhd0xpbmVJbkNhbWVyYSxcclxuICAgIERyYXdDaXJjbGUsIERyYXdDaXJjbGVJbkNhbWVyYVxyXG59IiwiXHJcbi8qKlxyXG4gKiDmr4/kuIDnp43mlrDnsbvlr7nlupTkuIDkuKpJRO+8jOS+v+S6juWbnuaUtlxyXG4gKi9cclxudmFyIGNseklkID0gMTtcclxuZnVuY3Rpb24gTmV4dENsYXNzSWQoKXtcclxuXHRyZXR1cm4gY2x6SWQrKztcclxufVxyXG5cclxuLyoqXHJcbiAqIOavj+S4quWunuS9k+aLpeacieS4gOS4queLrOeri0lEXHJcbiAqL1xyXG52YXIgZW50aXR5SWQgPSAxO1xyXG5mdW5jdGlvbiBOZXdFbnRpdHlJZCgpe1xyXG5cdHJldHVybiBlbnRpdHlJZCsrO1xyXG59XHJcblxyXG4vKipcclxuICog5pqC5a6a6L+Z5Liq5ZCNXHJcbiAqL1xyXG5jbGFzcyBERkNsYXNzIHtcclxuXHRjb25zdHJ1Y3RvcihjbHpJZCA9IDApIHtcclxuXHRcdHRoaXMuY2x6SWQgPSBjbHpJZDtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmi6XmnIlpZOWxnuaAp+eahOmDvee7p+aJv+atpOexu++8jOWNs0VDU+S4reeahEVudGl0eVxyXG4gKi9cclxuY2xhc3MgR2FtZU9iamVjdCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcblx0XHR0aGlzLmlkID0gTmV3RW50aXR5SWQoKTtcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qXHRUaGUgYmFzZSBDb21wb25lbnRcclxuKlx05q+P5LiqZW50aXR55a+55q+P56eN57uE5Lu25Y+q6IO95oyB5pyJ5LiA5LiqXHJcbiovXHJcbmNsYXNzIENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwKSB7XHJcblx0XHR0aGlzLmVudGl0eUlkID0gZW50aXR5SWQ7XHJcblx0XHR0aGlzLmlkID0gZW50aXR5SWQ7XHRcdFx0Ly/nu5lsaW5r5L2/55SoXHJcblx0fVxyXG59XHJcblxyXG4vKipcclxuKlx0VGhlIGJhc2UgU3lzdGVtXHJcbiovXHJcbmNsYXNzIFN5c3RlbSB7XHJcblx0Y29uc3RydWN0b3IoKXtcclxuXHRcdHRoaXMuaWQgPSBOZXdFbnRpdHlJZCgpO1xyXG5cdH1cclxuICAgIG9uU3RhcnQoKXt9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe31cclxuICAgIG9uRW5kKCl7fVxyXG59XHJcblxyXG5leHBvcnQge05ld0VudGl0eUlkLCBHYW1lT2JqZWN0LCBDb21wb25lbnQsIFN5c3RlbX0iLCJpbXBvcnQgeyBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2xpc3QvbGlua2xpc3RcIjtcclxuaW1wb3J0IHsgSW5zZXJ0VG9MaXN0LCBHZXRMaXN0RGF0YSwgUmVtb3ZlRnJvbUxpc3QsIExpc3RJdGVyYXRvciB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcblxyXG4vKipcclxuICog5pi+56S65Zu+5bGCXHJcbiAqICBvcmRlcui2iuS9ju+8jOi2iuWFiOa4suafk++8jOWQjua4suafk+eahOS8mumBruS9j+WJjemdoua4suafk+eahFxyXG4gKi9cclxuY2xhc3MgTGF5ZXIge1xyXG4gICAgY29uc3RydWN0b3Iob3JkZXIgPSAwKXtcclxuICAgICAgICB0aGlzLmlkID0gb3JkZXI7XHJcbiAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xyXG4gICAgICAgIHRoaXMubGlzdCA9IE5ld0xpbmsoKTtcclxuICAgIH1cclxufVxyXG5cclxudmFyIGxheWVyTGlzdCA9IE5ld0xpbmsoKTtcclxuZnVuY3Rpb24gYWRkTGF5ZXIob3JkZXIgPSAwKXtcclxuICAgIGxldCBsYXllciA9IG5ldyBMYXllcihvcmRlcik7XHJcbiAgICBJbnNlcnRUb0xpc3QobGF5ZXJMaXN0LCBsYXllcik7XHJcbiAgICByZXR1cm4gbGF5ZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExheWVyKG9yZGVyID0gMCl7XHJcbiAgICBsZXQgbGF5ZXIgPSBHZXRMaXN0RGF0YShsYXllckxpc3QsIG9yZGVyKTtcclxuICAgIGlmKCFsYXllcil7XHJcbiAgICAgICAgbGF5ZXIgPSBhZGRMYXllcihvcmRlcik7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbGF5ZXI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEl0ZXJhdG9yTGF5ZXJzKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBMaXN0SXRlcmF0b3IobGF5ZXJMaXN0LCBsYXllciA9PiB7XHJcbiAgICAgICAgTGlzdEl0ZXJhdG9yKGxheWVyLmxpc3QsIGRpc3BsYXlUdXBsZSA9PiB7XHJcbiAgICAgICAgICAgIGNhbGxiYWNrKGRpc3BsYXlUdXBsZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KVxyXG59XHJcblxyXG5mdW5jdGlvbiBBZGRUb0xheWVyKGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IGxheWVyID0gR2V0TGF5ZXIoZGlzcGxheVR1cGxlLmxheWVyT3JkZXIpO1xyXG4gICAgSW5zZXJ0VG9MaXN0KGxheWVyLmxpc3QsIGRpc3BsYXlUdXBsZSwgZGlzcGxheVR1cGxlLm9yZGVyKTtcclxufVxyXG5cclxuZnVuY3Rpb24gUmVtb3ZlRnJvbUxheWVyKGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgbGV0IGxheWVyID0gR2V0TGF5ZXIoZGlzcGxheVR1cGxlLm9yZGVyKTtcclxuICAgIFJlbW92ZUZyb21MaXN0KGxheWVyLmxpc3QsIGRpc3BsYXlUdXBsZS5pZCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBHZXRMYXllciwgSXRlcmF0b3JMYXllcnMsIEFkZFRvTGF5ZXIsIFJlbW92ZUZyb21MYXllclxyXG59IiwiLyoqXHJcbiAqIGRhdGHlsLHmmK/lm77niYfmlofku7ZcclxuICogd2lkdGgsIGhlaWdodOWPr+mAie+8jOacgOWlveaciVxyXG4gKi9cclxuY2xhc3MgQml0bWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKGRhdGEgPSBudWxsLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gQ3JlYXRlQml0bWFwKGJpdG1hcERhdGEgPSBudWxsLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgcmV0dXJuIG5ldyBCaXRtYXAoYml0bWFwRGF0YSwgd2lkdGgsIGhlaWdodCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnlKjkuo7ooajnpLpiaXRtYXDnmoTkuIDkuKrljLrln5/vvIzlubbpnZ5yZWN0XHJcbiAqL1xyXG5jbGFzcyBTZWcge1xyXG4gICAgY29uc3RydWN0b3IoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuIDlvKDlm77kuK3nmoTkuIDkuKrljLrln5/vvIznurnnkIbluKfmiJbnsr7ngbXluKfvvIzljZXkvovvvIzlkozlvJXmk47mnInlhbNcclxuICog57K+54G15bin55So5LqO5qCH5Ye65LiA5byg57q555CG5Zu+55qE5oyH5a6a5Y+W5p2Q5Yy65Z+f77yM5Lul5Y+K55u45a+555qE5pi+56S65L2N572uXHJcbiAqL1xyXG5jbGFzcyBTcHJpdGVGcmFtZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihuYW1lID0gXCJcIiwgc2VnID0gbnVsbCwgYml0bWFwID0gbnVsbCkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XHJcbiAgICAgICAgdGhpcy5zZWcgPSBzZWc7XHJcbiAgICAgICAgdGhpcy5iaXRtYXAgPSBiaXRtYXA7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIENyZWF0ZVNwcml0ZUZyYW1lKG5hbWUgPSBcIlwiLCBiaXRtYXAgPSBudWxsLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICBsZXQgc2VnID0gbmV3IFNlZyh4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIGxldCBmID0gbmV3IFNwcml0ZUZyYW1lKG5hbWUsIHNlZywgYml0bWFwKTtcclxuICAgIHJldHVybiBmO1xyXG59XHJcblxyXG4vKipcclxuICogc3ByaXRlRnJhbWXlvIDlp4vnu5jliLbnmoTlnZDmoIfvvIzlt6bkuIrop5LlvIDlp4vvvIzkuI5wb3Pml6DlhbNcclxuICogQHBhcmFtIHsqfSBzcHJpdGVGcmFtZSBcclxuICovXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lU3RhcnRYKHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUuc2VnLng7XHJcbn1cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVTdGFydFkoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5zZWcueTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVXaWR0aChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLnNlZy53aWR0aDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5zZWcud2lkdGggKiAwLjU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUuc2VnLmhlaWdodDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUuc2VnLmhlaWdodCAqIDAuNTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVCaXRtYXBEYXRhKHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gc3ByaXRlRnJhbWUuYml0bWFwLmRhdGE7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIENyZWF0ZUJpdG1hcCwgQ3JlYXRlU3ByaXRlRnJhbWUsIFxyXG4gICAgR2V0U3ByaXRlRnJhbWVTdGFydFgsIEdldFNwcml0ZUZyYW1lU3RhcnRZLFxyXG4gICAgR2V0U3ByaXRlRnJhbWVXaWR0aCwgR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0LCBHZXRTcHJpdGVGcmFtZUhhbGZIZWlnaHQsXHJcbiAgICBHZXRTcHJpdGVGcmFtZUJpdG1hcERhdGFcclxufSIsImltcG9ydCB7IEFkZFRvTGlzdCwgR2V0TGlzdERhdGEsIFJlbW92ZUZyb21MaXN0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vY29udGFpbmVyL2xpc3RcIjtcclxuaW1wb3J0IHsgTmV3VmVjLCBOZXdQb3MsIFVwZGF0ZVBvcywgVXBkYXRlVmVjIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb21wb25lbnQvZWNzXCI7XHJcbmltcG9ydCB7IE5ld0xpbmsgfSBmcm9tIFwiLi4vbGlzdC9saW5rbGlzdFwiO1xyXG5cclxuLyoqXHJcbiAqIOS9jee9rue7hOS7tlxyXG4gKi9cclxuY2xhc3MgUG9zQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKGVudGl0eUlkID0gMCwgcG9zID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMucG9zID0gcG9zO1xyXG4gICAgICAgIHRoaXMudmVjID0gTmV3VmVjKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbnZhciBwb3NDb21zID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBjcmVhdGVQb3NDb21wb25lbnQoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBsZXQgY29tID0gbmV3IFBvc0NvbXBvbmVudChlbnRpdHlJZCwgTmV3UG9zKCkpO1xyXG4gICAgQWRkVG9MaXN0KHBvc0NvbXMsIGNvbSk7XHJcbiAgICByZXR1cm4gY29tO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRQb3NDb21wb25lbnQoZW50aXR5SWQgPSAwKSB7XHJcbiAgICBsZXQgY29tID0gR2V0TGlzdERhdGEocG9zQ29tcywgZW50aXR5SWQpO1xyXG4gICAgcmV0dXJuIGNvbSA/IGNvbSA6IGNyZWF0ZVBvc0NvbXBvbmVudChlbnRpdHlJZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZVBvc0NvbXBvbmVudChlbnRpdHlJZCA9IDApe1xyXG4gICAgUmVtb3ZlRnJvbUxpc3QocG9zQ29tcywgZW50aXR5SWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRVbml0UG9zKGVudGl0eUlkID0gMCl7XHJcbiAgICByZXR1cm4gR2V0UG9zQ29tcG9uZW50KGVudGl0eUlkKS5wb3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFNldFVuaXRQb3MoZW50aXR5SWQgPSAwLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgVXBkYXRlUG9zKEdldFVuaXRQb3MoZW50aXR5SWQpLCB4LCB5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VW5pdFZlYyhlbnRpdHlJZCA9IDApe1xyXG4gICAgcmV0dXJuIEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCkudmVjO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTZXRVbml0VmVjKGVudGl0eUlkID0gMCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIFVwZGF0ZVZlYyhHZXRVbml0VmVjKGVudGl0eUlkKSwgeCwgeSk7XHJcbn1cclxuXHJcbmV4cG9ydHsgXHJcbiAgICBHZXRQb3NDb21wb25lbnQsIFJlbW92ZVBvc0NvbXBvbmVudCxcclxuICAgIEdldFVuaXRQb3MsIFNldFVuaXRQb3MsIEdldFVuaXRWZWMsIFNldFVuaXRWZWNcclxufSIsImltcG9ydCB7IEdldFJlYWxQb3MsIEdldFBvcywgR2V0T2Zmc2V0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vb2Zmc2V0L2Jhc2VcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjc1wiO1xyXG5pbXBvcnQgeyBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2xpc3QvbGlua2xpc3RcIjtcclxuaW1wb3J0IHsgQWRkVG9MaXN0LCBHZXRMaXN0RGF0YSB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcbmltcG9ydCB7IE5ld1BvcywgVXBkYXRlUG9zLCBOZXdSZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0UG9zUmVsYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9vZmZzZXQvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRTcHJpdGVGcmFtZVdpZHRoLCBHZXRTcHJpdGVGcmFtZUhlaWdodCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZVwiO1xyXG5pbXBvcnQgeyBHZXRQb3NDb21wb25lbnQgfSBmcm9tIFwiLi4vLi4vcG9zL2NvbXBvbmVudFwiO1xyXG5cclxuLyoqXHJcbiAqIOaYvuekuue7hOS7tu+8jOWMheWQq+S4gOS6m+aYvuekuuWPguaVsFxyXG4gKi9cclxuY2xhc3MgUmVuZGVyQ29tcG9uZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDAsIGlzb21ldHJpY3MgPSBmYWxzZSwgYW5nbGUgPSAwLCBzY2FsZSA9IDEpIHtcclxuICAgICAgICBzdXBlcihlbnRpdHlJZCk7XHJcbiAgICAgICAgdGhpcy5pc29tZXRyaWNzID0gaXNvbWV0cmljcztcclxuICAgICAgICB0aGlzLmFuZ2xlID0gYW5nbGU7XHJcbiAgICAgICAgdGhpcy5zY2FsZSA9IHNjYWxlO1xyXG5cdH1cclxufVxyXG5cclxudmFyIHJlbmRlckNvbXMgPSBOZXdMaW5rKCk7XHJcbmZ1bmN0aW9uIGNyZWF0ZVJlbmRlckNvbXBvbmVudChlbnRpdHlJZCA9IDAsIG9wdGlvbnMgPSBudWxsKSB7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgICBsZXQgY29tID0gbmV3IFJlbmRlckNvbXBvbmVudChlbnRpdHlJZCwgb3B0aW9ucy5pc29tZXRyaWNzLCBvcHRpb25zLmFuZ2xlLCBvcHRpb25zLnNjYWxlKTtcclxuICAgIEFkZFRvTGlzdChyZW5kZXJDb21zLCBjb20pO1xyXG4gICAgcmV0dXJuIGNvbTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOafpeaJvua4suafk+aYvuekuue7hOS7tu+8jOaaguaXtui/meagt+aQnlxyXG4gKiBvcHRpb25zIDoge1xyXG4gKiAgICAgIGlzb21ldHJpYyA6IGZhbHNlLFxyXG4gKiAgICAgIGFuZ2xlIDogMTgwLFxyXG4gKiAgICAgIHNjYWxlIDogMC41XHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIEdldFJlbmRlckNvbXBvbmVudChlbnRpdHlJZCA9IDAsIG9wdGlvbnMgPSBudWxsKSB7XHJcbiAgICBsZXQgY29tID0gR2V0TGlzdERhdGEocmVuZGVyQ29tcywgZW50aXR5SWQpO1xyXG4gICAgcmV0dXJuIGNvbSA/IGNvbSA6IGNyZWF0ZVJlbmRlckNvbXBvbmVudChlbnRpdHlJZCwgb3B0aW9ucyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmL7npLrlhYPku7ZcclxuICogIOWSjGVudGl0eeWFs+ezu+S4jeWkp++8jOS4gOS4qmVudGl0eeWPr+S7peaLpeacieWkp+S6juS4gOS4qkRpc3BsYXlUdXBsZVxyXG4gKiAg6ZyA6KaB6K6+6K6h5py65Yi26YG/5YWN5rul55So6Zeu6aKYXHJcbiAqL1xyXG5jbGFzcyBEaXNwbGF5VHVwbGUgZXh0ZW5kcyBHYW1lT2JqZWN0IHtcclxuICAgIGNvbnN0cnVjdG9yKHNwcml0ZUZyYW1lID0gbnVsbCwgcmVuZGVyQ29tID0gbnVsbCwgcmVjdFBvc1JlbCA9IG51bGwsIG9yZGVyID0gMCwgbGF5ZXJPcmRlciA9IDApe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5zcHJpdGVGcmFtZSA9IHNwcml0ZUZyYW1lO1xyXG4gICAgICAgIHRoaXMucmVuZGVyQ29tID0gcmVuZGVyQ29tO1xyXG4gICAgICAgIHRoaXMucmVjdFBvc1JlbCA9IHJlY3RQb3NSZWw7XHJcbiAgICAgICAgdGhpcy5vcmRlciA9IG9yZGVyO1xyXG4gICAgICAgIHRoaXMubGF5ZXJPcmRlciA9IGxheWVyT3JkZXI7XHJcbiAgICAgICAgdGhpcy5pc29Qb3MgPSBOZXdQb3MoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3RGlzcGxheWVyKGVudGl0eUlkID0gMCwgc3ByaXRlRnJhbWUgPSBudWxsLCBvZmZzZXQgPSBudWxsLCBvcmRlciA9IDAsIGxheWVyT3JkZXIgPSAxKXtcclxuICAgIGxldCByZW5kZXJDb20gPSBHZXRSZW5kZXJDb21wb25lbnQoZW50aXR5SWQpO1xyXG4gICAgbGV0IHBvc0NvbSA9IEdldFBvc0NvbXBvbmVudChlbnRpdHlJZCk7XHJcbiAgICBsZXQgcnAgPSBOZXdSZWN0UG9zUmVsYXRpb24ocG9zQ29tLnBvcywgb2Zmc2V0LCBOZXdSZWN0KFxyXG4gICAgICAgICAgICBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpKSk7XHJcbiAgICBsZXQgZHMgPSBuZXcgRGlzcGxheVR1cGxlKHNwcml0ZUZyYW1lLCByZW5kZXJDb20sIHJwLCBvcmRlciwgbGF5ZXJPcmRlcik7XHJcbiAgICByZXR1cm4gZHM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIElzRGlzcGxheUlTT21ldHJpY3MoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZGlzcGxheWVyLnJlbmRlckNvbS5pc29tZXRyaWNzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXREaXNwbGF5U3ByaXRlRnJhbWUoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZGlzcGxheWVyLnNwcml0ZUZyYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXREaXNwbGF5Q2VudGVyUG9zKGRpc3BsYXllciA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlYWxQb3MoZGlzcGxheWVyLnJlY3RQb3NSZWwpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXREaXNwbGF5SXNvUG9zKGRpc3BsYXllciA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGRpc3BsYXllci5pc29Qb3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZUlzb1BvcyhkaXNwbGF5ZXIgPSBudWxsKXtcclxuICAgIGxldCBwb3MgPSBHZXRQb3MoZGlzcGxheWVyLnJlY3RQb3NSZWwpO1xyXG4gICAgbGV0IG9mZnNldCA9IEdldE9mZnNldChkaXNwbGF5ZXIucmVjdFBvc1JlbCk7XHJcbiAgICBVcGRhdGVQb3MoZGlzcGxheWVyLmlzb1BvcyxcclxuICAgICAgICAocG9zLnggLSBwb3MueSkgKyBvZmZzZXQueCxcclxuICAgICAgICAocG9zLnggKyBwb3MueSkgKiAwLjUgKyBvZmZzZXQueSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBHZXRSZW5kZXJDb21wb25lbnQsIE5ld0Rpc3BsYXllciwgXHJcbiAgICBJc0Rpc3BsYXlJU09tZXRyaWNzLCBHZXREaXNwbGF5U3ByaXRlRnJhbWUsIEdldERpc3BsYXlDZW50ZXJQb3MsXHJcbiAgICBHZXREaXNwbGF5SXNvUG9zLCBVcGRhdGVJc29Qb3NcclxufSIsImltcG9ydCB7IERyYXdGcmFtZSwgQ2xlYXIgfSBmcm9tIFwiLi4vLi4vZGlyZWN0b3IvcmVuZGVyXCI7XHJcbmltcG9ydCB7IFN5c3RlbSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2NvbXBvbmVudC9lY3NcIjtcclxuaW1wb3J0IHsgSXRlcmF0b3JMYXllcnMgfSBmcm9tIFwiLi9jb21wb25lbnQvbGF5ZXJcIjtcclxuaW1wb3J0IHsgR2V0RGlzcGxheUlzb1BvcywgR2V0RGlzcGxheVNwcml0ZUZyYW1lLCBHZXREaXNwbGF5Q2VudGVyUG9zLCBVcGRhdGVJc29Qb3MsIElzRGlzcGxheUlTT21ldHJpY3MgfSBmcm9tIFwiLi9jb21wb25lbnQvcmVuZGVyXCI7XHJcbmltcG9ydCB7IGRyYXdEZWJ1ZywgZHJhd0lzb0RlYnVnIH0gZnJvbSBcIi4vZGVidWdcIjtcclxuXHJcbi8qKlxyXG4gKiDmuLLmn5Pns7vnu5/vvIzpgLvovpHmraXpqqTvvJpcclxuICogMS4gICDmuIXpmaTnlLvluINcclxuICogMi4gICDph43lrprkvY3mkYTlg4/mnLpcclxuICogMy4gICDorqHnrpfljZXkvY3mmL7npLrnn6nlvaLmmK/lkKblnKjmkYTlg4/mnLrnn6nlvaLlhoVcclxuICogNC4gICDovazmjaLkuLrnlLvluIPlnZDmoIdcclxuICogNS4gICDnlLvlh7rlm77lg49cclxuICovXHJcbmNsYXNzIFJlbmRlclVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIENsZWFyKCk7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldERpc3BsYXlMaXN0KCksIGRpc3BsYXlUdXBsZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSBHZXRQb3MoZGlzcGxheVR1cGxlLmVudGl0eUlkKTtcclxuICAgICAgICAgICAgVXBkYXRlUmVjdFBvc0J5VW5pdChkaXNwbGF5VHVwbGUuZGlzcGxheUFyZWEsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgIERyYXdGcmFtZShkaXNwbGF5VHVwbGUuc3ByaXRlRnJhbWUsIGRpc3BsYXlUdXBsZS5wb3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBMYXllclJlbmRlclVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIENsZWFyKCk7XHJcbiAgICAgICAgSXRlcmF0b3JMYXllcnMoZGlzcGxheVR1cGxlID0+IHtcclxuICAgICAgICAgICAgaWYoSXNEaXNwbGF5SVNPbWV0cmljcyhkaXNwbGF5VHVwbGUpKXtcclxuICAgICAgICAgICAgICAgIGRyYXdJc28oZGlzcGxheVR1cGxlKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBkcmF3KGRpc3BsYXlUdXBsZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0lzbyhkaXNwbGF5VHVwbGUgPSBudWxsKXtcclxuICAgIFVwZGF0ZUlzb1BvcyhkaXNwbGF5VHVwbGUpO1xyXG4gICAgRHJhd0ZyYW1lKFxyXG4gICAgICAgIEdldERpc3BsYXlJc29Qb3MoZGlzcGxheVR1cGxlKSxcclxuICAgICAgICBHZXREaXNwbGF5U3ByaXRlRnJhbWUoZGlzcGxheVR1cGxlKSk7XHJcbiAgICBkcmF3SXNvRGVidWcoZGlzcGxheVR1cGxlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhdyhkaXNwbGF5VHVwbGUgPSBudWxsKXtcclxuICAgIERyYXdGcmFtZShcclxuICAgICAgICBHZXREaXNwbGF5Q2VudGVyUG9zKGRpc3BsYXlUdXBsZSksXHJcbiAgICAgICAgR2V0RGlzcGxheVNwcml0ZUZyYW1lKGRpc3BsYXlUdXBsZSkpO1xyXG4gICAgZHJhd0RlYnVnKGRpc3BsYXlUdXBsZSk7XHJcbn1cclxuXHJcbnZhciByZW5kZXJTeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0oKXtcclxuICAgIGlmKCFyZW5kZXJTeXMpe1xyXG4gICAgICAgIHJlbmRlclN5cyA9IG5ldyBMYXllclJlbmRlclVwZGF0ZVN5c3RlbSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlbmRlclN5cztcclxufVxyXG5cclxuZXhwb3J0IHtHZXRSZW5kZXJVcGRhdGVTeXN0ZW19IiwiaW1wb3J0IHsgRHJhd1JlY3QgfSBmcm9tIFwiLi4vLi4vZGlyZWN0b3IvcmVuZGVyXCI7XHJcbmltcG9ydCB7IEdldFJlY3QgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9vZmZzZXQvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXREaXNwbGF5Q2VudGVyUG9zLCBHZXREaXNwbGF5SXNvUG9zIH0gZnJvbSBcIi4vY29tcG9uZW50L3JlbmRlclwiO1xyXG5cclxuZnVuY3Rpb24gZHJhd0lzb0RlYnVnKGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgRHJhd1JlY3QoXHJcbiAgICAgICAgR2V0RGlzcGxheUlzb1BvcyhkaXNwbGF5VHVwbGUpLFxyXG4gICAgICAgIEdldFJlY3QoZGlzcGxheVR1cGxlLnJlY3RQb3NSZWwpXHJcbiAgICApO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3RGVidWcoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBEcmF3UmVjdChcclxuICAgICAgICBHZXREaXNwbGF5Q2VudGVyUG9zKGRpc3BsYXlUdXBsZSksXHJcbiAgICAgICAgR2V0UmVjdChkaXNwbGF5VHVwbGUucmVjdFBvc1JlbClcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCB7ZHJhd0lzb0RlYnVnLCBkcmF3RGVidWd9IiwiaW1wb3J0IHsgR2V0RW5naW5lIH0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgTGlzdEl0ZXJhdG9yIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vY29udGFpbmVyL2xpc3RcIjtcclxuaW1wb3J0IHsgTmV3TGluayB9IGZyb20gXCIuLi8uLi9saWIvbGlzdC9saW5rbGlzdFwiO1xyXG5pbXBvcnQgeyBFbmdpbmVTdGFydCB9IGZyb20gXCIuLi8uLi9saWIvZW5naW5lL2Jhc2VcIjtcclxuaW1wb3J0IHsgR2V0UmVuZGVyVXBkYXRlU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2xpYi92aWV3L3N5c3RlbVwiO1xyXG5cclxuLyoqXHJcbiAqIOS4u+ezu+e7n+WIl+ihqFxyXG4gKi9cclxudmFyIGxvZ2ljU3lzdGVtcyA9IE5ld0xpbmsoKTtcclxudmFyIHJlbmRlclN5c3RlbSA9IG51bGw7XHJcbmZ1bmN0aW9uIGluaXRTeXN0ZW1zKGRlYnVnID0gZmFsc2Upe1xyXG4gICAgLy9JbnNlcnRUb0xpbmsobG9naWNTeXN0ZW1zLCBHZXRBY3Rpb25TeXN0ZW0oKSk7XHJcbiAgICAvL0luc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIEdldFBvc1VwZGF0ZVN5c3RlbSgpKTtcclxuICAgIHJlbmRlclN5c3RlbSA9IEdldFJlbmRlclVwZGF0ZVN5c3RlbSgpO1xyXG59XHJcblxyXG52YXIgbG9naWNUaWNrID0gMTY7ICAgICAvLzYwZnBzXHJcbnZhciByZW5kZXJUaWNrID0gNDE7ICAgIC8vMjRmcHNcclxudmFyIF90MSA9IDA7XHJcbnZhciBfdDIgPSAwO1xyXG5mdW5jdGlvbiBydW5XaXRoU2NlbmUoc2NlbmUgPSBudWxsKXtcclxuICAgIExpc3RJdGVyYXRvcihsb2dpY1N5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgc3lzdGVtLm9uU3RhcnQoKTtcclxuICAgIH0pO1xyXG4gICAgcmVuZGVyU3lzdGVtLm9uU3RhcnQoKTtcclxuICAgIHNjZW5lLm9uU3RhcnQoKTtcclxuXHJcbiAgICAvL21haW4gbG9vcFxyXG4gICAgRW5naW5lU3RhcnQoR2V0RW5naW5lKCksIGR0ID0+IHtcclxuICAgICAgICBfdDEgKz0gZHQ7XHJcbiAgICAgICAgaWYoX3QxID49IGxvZ2ljVGljayl7XHJcbiAgICAgICAgICAgIF90MSAtPSBsb2dpY1RpY2s7XHJcbiAgICAgICAgICAgIHNjZW5lLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgTGlzdEl0ZXJhdG9yKGxvZ2ljU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICAgICAgICAgIHN5c3RlbS5vblVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3QyICs9IGR0O1xyXG4gICAgICAgIGlmKF90MiA+PSByZW5kZXJUaWNrKXtcclxuICAgICAgICAgICAgX3QyIC09IHJlbmRlclRpY2s7XHJcbiAgICAgICAgICAgIHJlbmRlclN5c3RlbS5vblVwZGF0ZShkdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFN5c3RlbShzeXN0ZW0gPSBudWxsKXtcclxuICAgIGlmKCFzeXN0ZW0pe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIEluc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIHN5c3RlbSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3BTeXN0ZW0oKXtcclxuICAgIExpc3RJdGVyYXRvcihsb2dpY1N5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgc3lzdGVtLm9uRW5kKCk7XHJcbiAgICB9KTtcclxuICAgIHJlbmRlclN5c3RlbS5vbkVuZCgpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgaW5pdFN5c3RlbXMsIHJ1bldpdGhTY2VuZSwgYWRkU3lzdGVtLCBzdG9wU3lzdGVtXHJcbn0iLCJcclxuIC8qKlxyXG4gICogZ3JpZG1hcOeahOe9keagvOWNleWFg1xyXG4gICovXHJcbiBjbGFzcyBCYXNlR3JpZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGRhdGEgPSBudWxsKXtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTsgICAgICAgLy/lrZjlgqjnmoTlr7nosaFcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOe9keagvOihqOaYr+S4quWfuuehgOS6jOWFg+WuueWZqO+8jOW6lOW9kuexu+S4uuWFg+aVsOaNrlxyXG4gKiByb3dzID0g6KGM5pWwXHJcbiAqIGNvbHVtbnMgPSDliJfmlbBcclxuICogZ3JpZFdpZHRoLCBncmlkSGVpZ2h0ID0g5q+P5Liq572R5qC855qE5a696auY6IyD5Zu077yM5bu66K6uMToxXHJcbiAqIFxyXG4gKi9cclxuY2xhc3MgQWJzdHJhY3RHcmlkTWFwIHtcclxuICAgIGdldERhdGEocG9zID0gbnVsbCl7fVxyXG4gICAgc2V0RGF0YShwb3MgPSBudWxsLCBkYXRhID0gbnVsbCl7fVxyXG4gICAgZ2V0R3JpZChwb3MgPSBudWxsKXt9XHJcbiAgICBnZXRHcmlkTWFwV2lkdGgoKXt9XHJcbiAgICBnZXRHcmlkTWFwSGVpZ2h0KCl7fVxyXG4gICAgaXRlcmF0b3IoY2FsbGJhY2sgPSBudWxsKXt9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEdyaWREYXRhV2l0aFBvcyhncmlkbWFwID0gbnVsbCwgcG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXREYXRhKHBvcyk7XHJcbn1cclxuZnVuY3Rpb24gU2V0R3JpZERhdGFXaXRoUG9zKGdyaWRtYXAgPSBudWxsLCBwb3MgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5zZXREYXRhKHBvcywgZGF0YSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZERhdGEoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQuZGF0YTtcclxufVxyXG5mdW5jdGlvbiBTZXRHcmlkRGF0YShncmlkID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQuZGF0YSA9IGRhdGE7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZChncmlkbWFwID0gbnVsbCwgcG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXRHcmlkKHBvcyk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Z+656GA5bGe5oCn77ya5a695bqmXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRHcmlkV2lkdGgoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQud2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0SGFsZkdyaWRXaWR0aChncmlkID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0R3JpZFdpZHRoKGdyaWQpICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldEdyaWRNYXBXaWR0aChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXRHcmlkTWFwV2lkdGgoKTtcclxufVxyXG5mdW5jdGlvbiBHZXRIYWxmR3JpZE1hcFdpZHRoKGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkTWFwV2lkdGgoZ3JpZG1hcCkgKiAwLjU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlsZ7mgKfvvJrpq5jluqZcclxuICovXHJcbmZ1bmN0aW9uIEdldEdyaWRIZWlnaHQoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQuaGVpZ2h0O1xyXG59XHJcbmZ1bmN0aW9uIEdldEhhbGZHcmlkSGVpZ2h0KGdyaWQgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkSGVpZ2h0KGdyaWQpICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldEdyaWRNYXBIZWlnaHQoZ3JpZG1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWRtYXAuZ2V0R3JpZE1hcEhlaWdodCgpO1xyXG59XHJcbmZ1bmN0aW9uIEdldEhhbGZHcmlkTWFwSGVpZ2h0KGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkTWFwSGVpZ2h0KGdyaWRtYXApICogMC41O1xyXG59XHJcblxyXG4vKipcclxuICog6YGN5Y6GXHJcbiAqIEBwYXJhbSB7Kn0gZ3JpZG1hcCBcclxuICogQHBhcmFtIHsqfSBjYWxsYmFjayBcclxuICovXHJcbmZ1bmN0aW9uIEdyaWRNYXBJdGVyYXRvcihncmlkbWFwID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGdyaWRtYXAuaXRlcmF0b3IoY2FsbGJhY2spO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgQmFzZUdyaWQsIEFic3RyYWN0R3JpZE1hcCwgXHJcbiAgICBHZXRHcmlkRGF0YVdpdGhQb3MsIFNldEdyaWREYXRhV2l0aFBvcywgR2V0R3JpZERhdGEsIFNldEdyaWREYXRhLCBHZXRHcmlkLFxyXG4gICAgR2V0R3JpZFdpZHRoLCBHZXRIYWxmR3JpZFdpZHRoLCBHZXRHcmlkTWFwV2lkdGgsIEdldEhhbGZHcmlkTWFwV2lkdGgsXHJcbiAgICBHZXRHcmlkSGVpZ2h0LCBHZXRIYWxmR3JpZEhlaWdodCwgR2V0R3JpZE1hcEhlaWdodCwgR2V0SGFsZkdyaWRNYXBIZWlnaHQsXHJcbiAgICBHcmlkTWFwSXRlcmF0b3JcclxufSIsImltcG9ydCB7IE5ld1BvcywgVG9Mb2NhdGVQb3MgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcbmltcG9ydCB7IEdldEludCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoXCI7XHJcbmltcG9ydCB7IEdldEhhbGZHcmlkTWFwV2lkdGgsIEdldEhhbGZHcmlkTWFwSGVpZ2h0LCBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQsIEJhc2VHcmlkLCBBYnN0cmFjdEdyaWRNYXAgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvZ3JpZG1hcFwiO1xyXG5cclxuLyoqXHJcbiAgKiBncmlkbWFw55qE572R5qC85Y2V5YWDXHJcbiAgKi9cclxuIGNsYXNzIFRpbGVHcmlkIGV4dGVuZHMgQmFzZUdyaWQge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAwLCBoZWlnaHQgPSAwLCByb3dJbmRleCA9IDAsIGNvbEluZGV4ID0gMCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMucm93SW5kZXggPSByb3dJbmRleDtcclxuICAgICAgICB0aGlzLmNvbEluZGV4ID0gY29sSW5kZXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAyZOeTt+egluWcsOWbvu+8jOeUsUdyaWRNYXDmianlsZVcclxuICogc2FtcGxlOlxyXG4gKiBbXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSxcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXVxyXG4gKi9cclxuY2xhc3MgVGlsZU1hcCBleHRlbmRzIEFic3RyYWN0R3JpZE1hcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSBudWxsLCByb3dzID0gMCwgY29sdW1ucyA9IDAsIGdyaWRXaWR0aCA9IDAsIGdyaWRIZWlnaHQgPSAwLCBncmlkcyA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xyXG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoID0gZ3JpZFdpZHRoO1xyXG4gICAgICAgIHRoaXMuZ3JpZEhlaWdodCA9IGdyaWRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncmlkcyA9IGdyaWRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEocG9zID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGdyaWQgPSBnZXRHcmlkV2l0aFBvcyhwb3MsIHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBncmlkID8gZ3JpZC5kYXRhIDogbnVsbDtcclxuICAgIH1cclxuICAgIHNldERhdGEocG9zID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGxldCBncmlkID0gZ2V0R3JpZFdpdGhQb3MocG9zLCB0aGlzKTtcclxuICAgICAgICBpZihncmlkKXtcclxuICAgICAgICAgICAgZ3JpZC5kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRHcmlkKHBvcyA9IG51bGwpe1xyXG4gICAgICAgIHJldHVybiBnZXRHcmlkV2l0aFBvcyhwb3MsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0R3JpZE1hcFdpZHRoKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1ucyAqIHRoaXMuZ3JpZFdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0R3JpZE1hcEhlaWdodCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvd3MgKiB0aGlzLmdyaWRIZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBpdGVyYXRvcihjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuZ3JpZHMuZm9yRWFjaChncmlkID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1RpbGVNYXAocm93cyA9IDAsIGNvbHVtbnMgPSAwLCBncmlkV2lkdGggPSAwLCBncmlkSGVpZ2h0ID0gMCwgcG9zID0gbnVsbCl7XHJcbiAgICBsZXQgZ3JpZHMgPSBbXTtcclxuICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCByb3dzOyByb3dJbmRleCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IGNvbHVtbnM7IGNvbEluZGV4KyspIHtcclxuICAgICAgICAgICAgZ3JpZHMucHVzaChuZXcgVGlsZUdyaWQoZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCByb3dJbmRleCwgY29sSW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwb3MgPSBwb3MgPyBwb3MgOiBOZXdQb3MoKTtcclxuICAgIHJldHVybiBuZXcgVGlsZU1hcChwb3MsIHJvd3MsIGNvbHVtbnMsIGdyaWRXaWR0aCwgZ3JpZEhlaWdodCwgZ3JpZHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0luKHggPSAwLCB5ID0gMCwgdGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHggPiAwICYmIHggPCB0aWxlbWFwLmdldEdyaWRNYXBXaWR0aCgpICYmIHkgPiAwICYmIHkgPCB0aWxlbWFwLmdldEdyaWRNYXBIZWlnaHQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0R3JpZFdpdGhQb3MocG9zID0gbnVsbCwgdGlsZW1hcCA9IG51bGwpe1xyXG4gICAgbGV0IHRQb3MgPSBUb0xvY2F0ZVBvcyhwb3MsIHRpbGVtYXAucG9zKTtcclxuICAgIGlmKCFjaGVja0luKHRQb3MueCwgdFBvcy55LCB0aWxlbWFwKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgY29sdW1uID0gR2V0SW50KHRQb3MueCAvIGdyaWRtYXAuZ3JpZFdpZHRoKTtcclxuICAgIGxldCByb3cgPSBHZXRJbnQodFBvcy55IC8gZ3JpZG1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIHJldHVybiBncmlkbWFwLmdyaWRzW3JvdyAqIGdyaWRtYXAuY29sdW1ucyArIGNvbHVtbl07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Z+656GA5Z2Q5qCHXHJcbiAqIEBwYXJhbSB7Kn0gdGlsZW1hcCBcclxuICovXHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBTdGFydCh0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnggLSBHZXRIYWxmR3JpZE1hcFdpZHRoKHRpbGVtYXApLFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnkgLSBHZXRIYWxmR3JpZE1hcEhlaWdodCh0aWxlbWFwKVxyXG4gICAgKTtcclxufVxyXG5mdW5jdGlvbiBHZXRUaWxlbWFwRW5kKHRpbGVtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueCArIEdldEhhbGZHcmlkTWFwV2lkdGgodGlsZW1hcCksXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueSArIEdldEhhbGZHcmlkTWFwSGVpZ2h0KHRpbGVtYXApXHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBDZW50ZXIodGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1Bvcyh0aWxlbWFwLnBvcy54LCB0aWxlbWFwLnBvcy55KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZUdyaWRTdGFydCh0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXApO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgR2V0R3JpZFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLmNvbEluZGV4LFxyXG4gICAgICAgIHN0YXJ0LnkgKyBHZXRHcmlkSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLnJvd0luZGV4XHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFRpbGVHcmlkRW5kKHRpbGVtYXAgPSBudWxsLCBncmlkID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnQgPSBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyB0aWxlbWFwLmdyaWRXaWR0aCAqIChncmlkLmNvbEluZGV4ICsgMSksXHJcbiAgICAgICAgc3RhcnQueSArIHRpbGVtYXAuZ3JpZEhlaWdodCAqIChncmlkLnJvd0luZGV4ICsgMSlcclxuICAgICk7XHJcbn1cclxuZnVuY3Rpb24gR2V0VGlsZUdyaWRDZW50ZXIodGlsZW1hcCA9IG51bGwsIGdyaWQgPSBudWxsKXtcclxuICAgIGxldCBzdGFydCA9IEdldFRpbGVtYXBTdGFydCh0aWxlbWFwKTtcclxuICAgIGxldCBzID0gIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgdGlsZW1hcC5ncmlkV2lkdGggKiAoZ3JpZC5jb2xJbmRleCArIDAuNSksXHJcbiAgICAgICAgc3RhcnQueSArIHRpbGVtYXAuZ3JpZEhlaWdodCAqIChncmlkLnJvd0luZGV4ICsgMC41KVxyXG4gICAgKTtcclxuICAgIHJldHVybiBzO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3VGlsZU1hcCwgXHJcbiAgICBHZXRUaWxlbWFwU3RhcnQsIEdldFRpbGVtYXBFbmQsIEdldFRpbGVtYXBDZW50ZXIsIFxyXG4gICAgR2V0VGlsZUdyaWRTdGFydCwgR2V0VGlsZUdyaWRFbmQsIEdldFRpbGVHcmlkQ2VudGVyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmib7lh7rkuI5yZWN055u45Lqk55qE5omA5pyJZ3JpZFxyXG4gKiBUT0RPIOacquWumu+8jOWPr+iDveS4jemcgOimgei/meenjeWBmuazlVxyXG4gKi9cclxuZnVuY3Rpb24gR2V0R3JpZHNCeVJlY3QodGlsZU1hcCA9IG51bGwsIHJlY3QgPSBudWxsKXtcclxuICAgIC8v5piv5ZCm5ZyodGlsZW1hcOS4rVxyXG4gICAgaWYoIUlzUmVjdENyb3NzKHRpbGVNYXAucmVjdCwgcmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGdyaWRzID0gW107XHJcbiAgICBsZXQgcG9zU3RhcnQgPSByZWN0LnBvc1N0YXJ0O1xyXG4gICAgbGV0IGNvbHVtblN0YXJ0ID0gcGFyc2VJbnQocG9zU3RhcnQueCAvIHRpbGVNYXAuZ3JpZFdpZHRoKTtcclxuICAgIGxldCByb3dTdGFydCA9IHBhcnNlSW50KHBvc1N0YXJ0LnkgLyB0aWxlTWFwLmdyaWRIZWlnaHQpO1xyXG4gICAgY29sdW1uU3RhcnQgPSBjb2x1bW5TdGFydCA8IDAgPyAwIDogY29sdW1uU3RhcnQ7XHJcbiAgICByb3dTdGFydCA9IHJvd1N0YXJ0IDwgMCA/IDAgOiByb3dTdGFydDtcclxuXHJcbiAgICBsZXQgcG9zRW5kID0gcmVjdC5wb3NFbmQ7XHJcbiAgICBsZXQgY29sdW1uRW5kID0gcGFyc2VJbnQocG9zRW5kLnggLyB0aWxlTWFwLmdyaWRXaWR0aCk7XHJcbiAgICBsZXQgcm93RW5kID0gcGFyc2VJbnQocG9zRW5kLnkgLyB0aWxlTWFwLmdyaWRIZWlnaHQpO1xyXG4gICAgY29sdW1uRW5kID0gY29sdW1uRW5kID4gdGlsZU1hcC5jb2x1bW5zIC0gMSA/IHRpbGVNYXAuY29sdW1ucyAtIDEgOiBjb2x1bW5FbmQ7XHJcbiAgICByb3dFbmQgPSByb3dFbmQgPiB0aWxlTWFwLnJvd3MgLSAxID8gdGlsZU1hcC5yb3dzIC0gMSA6IHJvd0VuZDtcclxuXHJcbiAgICBmb3IobGV0IHJvdz1yb3dTdGFydDsgcm93PD1yb3dFbmQ7IHJvdysrKXtcclxuICAgICAgICBmb3IobGV0IGNvbHVtbj1jb2x1bW5TdGFydDsgY29sdW1uPD1jb2x1bW5FbmQ7IGNvbHVtbisrKXtcclxuICAgICAgICAgICAgZ3JpZHMucHVzaCh0aWxlTWFwLmdyaWRzW3Jvd11bY29sdW1uXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIGdyaWRzO1xyXG59IiwiaW1wb3J0IHsgR2FtZU9iamVjdCB9IGZyb20gXCIuL2Vjc1wiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEV2ZW50S2V5ZG93biA9IDEwMDE7XHJcbmV4cG9ydCBjb25zdCBFdmVudEtleXVwID0gMTAwMjtcclxuZXhwb3J0IGNvbnN0IEV2ZW50VG91Y2hPbiA9IDEwMDM7XHJcbmV4cG9ydCBjb25zdCBFdmVudFRvdWNoT3ZlciA9IDEwMDQ7XHJcblxyXG5leHBvcnQgY29uc3QgRXZlbnRUaWxlbWFwQ3JlYXRlZCA9IDIwMDE7XHJcblxyXG5jbGFzcyBFdmVudCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih0eXBlID0gMCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMudHlwZSA9IHR5cGU7XHJcbiAgICAgICAgdGhpcy5kYXRhID0gZGF0YTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3RXZlbnQodHlwZSA9IDAsIGRhdGEgPSBudWxsKXtcclxuICAgIHJldHVybiBuZXcgRXZlbnQodHlwZSwgZGF0YSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEV2ZW50VHlwZShldmVudCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGV2ZW50LnR5cGU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldEV2ZW50RGF0YShldmVudCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGV2ZW50LmRhdGE7XHJcbn1cclxuXHJcbmNsYXNzIEFic3RyYWN0RXZlbnRMaXN0ZW5lciBleHRlbmRzIEdhbWVPYmplY3Qge1xyXG4gICAgY29uc3RydWN0b3IodHlwZSA9IDAsIG9yZGVyID0gMCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnR5cGUgPSB0eXBlO1xyXG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcclxuICAgIH1cclxuICAgIGhhbmRsZShldmVudCA9IG51bGwpe31cclxufVxyXG5cclxuZnVuY3Rpb24gR2V0RXZlbnRMaXN0ZW5lclR5cGUobGlzdGVuZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0ZW5lci50eXBlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRFdmVudExpc3RlbmVyT3JkZXIobGlzdGVuZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0ZW5lci5vcmRlcjtcclxufVxyXG5cclxuZnVuY3Rpb24gSGFuZGxlRXZlbnRMaXN0ZW5lcihsaXN0ZW5lciA9IG51bGwsIGV2ZW50ID0gbnVsbCl7XHJcbiAgICBsaXN0ZW5lci5oYW5kbGUoZXZlbnQpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgRXZlbnQsIE5ld0V2ZW50LCBHZXRFdmVudFR5cGUsIEdldEV2ZW50RGF0YSxcclxuICAgIEFic3RyYWN0RXZlbnRMaXN0ZW5lciwgR2V0RXZlbnRMaXN0ZW5lclR5cGUsIEdldEV2ZW50TGlzdGVuZXJPcmRlciwgSGFuZGxlRXZlbnRMaXN0ZW5lclxyXG59IiwiaW1wb3J0IHsgR3JpZE1hcEl0ZXJhdG9yLCBTZXRHcmlkRGF0YSB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9ncmlkbWFwXCI7XHJcbmltcG9ydCB7IEdldEludCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoXCI7XHJcbmltcG9ydCB7IE5ld1RpbGVNYXAgfSBmcm9tIFwiLi90aWxlbWFwL2Jhc2VcIjtcclxuaW1wb3J0IHsgTmV3UG9zIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBHZXREZWYgfSBmcm9tIFwiLi4vLi4vZGlyZWN0b3Ivc2VydmljZS9yZXNvdXJjZVwiO1xyXG5pbXBvcnQgeyBEaXNwYXRjaEV2ZW50IH0gZnJvbSBcIi4uLy4uL2RpcmVjdG9yL2Jvb3RcIjtcclxuaW1wb3J0IHsgTmV3RXZlbnQsIEV2ZW50VGlsZW1hcENyZWF0ZWQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb21wb25lbnQvZXZlbnRcIjtcclxuXHJcbi8qKlxyXG4gKiB0aWxlbWFwID0gZ3JpZG1hcCArIHBvc1xyXG4gKiBncmlkbWFw55qE55u45a+55Z2Q5qCH5pivKDAsIDAp77yM5Y2z5bem5LiK6KeSXHJcbiAqIHRpbGVtYXAucG9z5ZKM5YW25LuW5a+56LGh5LiA5qC377yM5LuO5Lit6Ze05byA5aeLXHJcbiAqIGdyaWRQb3PmmK9ncmlk55+p5b2i5Lit6Ze0XHJcbiAqIOS+i+Wmgu+8mnRpbGVtYXAucG9zLnggPSAyMCwgZ3JpZFdpZHRoID0gNTAsIGNvbHVtbiA9IDU7XHJcbiAqIOmCo+S5iGdyaWRbMF3nmoRwb3MueD0gMjAgKyAwKjUwICsgNTAvMiA9IDQ1LCBwb3NTdGFydC54ID0gNDUgLSA1MC8yID0gMjBcclxuICog5ZCM55CGZ3JpZFs0XeeahHBvcy54PSAyMCArIDQqNTAgKyA1MC8yID0gMjQ1LCBwb3NTdGFydC54ID0gMjQ1IC0gNTAvMiA9IDIyMFxyXG4gKiBcclxuICogb3B0aW9uczp7XHJcbiAqICAgICAgZGF0YSA6IFsgICAgICAgICAgICAgICAg5LiA57u05pWw57uEXHJcbiAqICAgICAgICAgIDEsIDEsIDEsIDAsIDAsIDEsXHJcbiAqICAgICAgICAgIDIsIDEsIDAsIDAsIDEsIDIsXHJcbiAqICAgICAgICAgIDIsIDIsIDEsIDEsIDEsIDFcclxuICogICAgICAgICAgXVxyXG4gKiAgICAgIGNvbHVtbnMgOiA2ICAgICDliJfmlbBcclxuICogICAgICBncmlkLXdpZHRoIDogMzJcclxuICogICAgICBncmlkaWhlaWdodCA6IDMyICAgICDmr4/kuKrmoLzlrZDnmoTlrr3pq5hcclxuICogICAgICB4IDogMFxyXG4gKiAgICAgIHkgOiAwICAgICAgICAgICDliJ3lp4vkvY3nva7vvIzpu5jorqTkuLpzdGFnZeS4reW/g++8jOWNsygwLCAwKVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVUaWxlTWFwV2l0aERhdGEob3B0aW9ucyA9IG51bGwpe1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIGRlZmF1bHRUaWxlTWFwRGF0YShvcHRpb25zKTtcclxuICAgIFxyXG4gICAgLy/pqozor4F0aWxlbWFw5pWw5o2u5a6M5pW05oCnXHJcbiAgICBsZXQgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucztcclxuICAgIGxldCByb3dzID0gR2V0SW50KG9wdGlvbnMuZGF0YS5sZW5ndGggLyBjb2x1bW5zKTtcclxuICAgIGlmKHJvd3MgKiBjb2x1bW5zICE9IG9wdGlvbnMuZGF0YS5sZW5ndGgpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJhbTogbGVuKGdyaWRzKTogJWQsIGNvbHVtbnM6ICVkXCIsIG9wdGlvbnMuZGF0YS5sZW5ndGgsIGNvbHVtbnMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IHRpbGVtYXAgPSBOZXdUaWxlTWFwKFxyXG4gICAgICAgIHJvd3MsIGNvbHVtbnMsIG9wdGlvbnNbJ2dyaWQtd2lkdGgnXSwgb3B0aW9uc1snZ3JpZC1oZWlnaHQnXSwgTmV3UG9zKG9wdGlvbnMueCwgb3B0aW9ucy55KSk7XHJcbiAgICBHcmlkTWFwSXRlcmF0b3IodGlsZW1hcCwgZ3JpZCA9PiB7XHJcbiAgICAgICAgbGV0IGRhdGEgPSBHZXREZWYob3B0aW9ucy5kYXRhW2dyaWQucm93SW5kZXggKiBjb2x1bW5zICsgZ3JpZC5jb2xJbmRleF0pO1xyXG4gICAgICAgIFNldEdyaWREYXRhKGdyaWQsIGRhdGEpO1xyXG4gICAgfSk7XHJcbiAgICBEaXNwYXRjaEV2ZW50KFxyXG4gICAgICAgIE5ld0V2ZW50KEV2ZW50VGlsZW1hcENyZWF0ZWQsIHRpbGVtYXApKTtcclxuICAgIHJldHVybiB0aWxlbWFwO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkZWZhdWx0VGlsZU1hcERhdGEob3B0aW9ucyA9IG51bGwpe1xyXG4gICAgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe1xyXG4gICAgICAgIGNvbHVtbnMgOiAxLFxyXG4gICAgICAgIFwiZ3JpZC13aWR0aFwiIDogMzIsXHJcbiAgICAgICAgXCJncmlkLWhlaWdodFwiIDogMzIsXHJcbiAgICAgICAgeCA6IDAsXHJcbiAgICAgICAgeSA6IDAsXHJcbiAgICAgICAgZGF0YSA6IFswXVxyXG4gICAgfSwgb3B0aW9ucyk7XHJcbiAgICBvcHRpb25zWydncmlkLXdpZHRoJ10gPSBvcHRpb25zWydncmlkLXdpZHRoJ10gPiAwID8gb3B0aW9uc1snZ3JpZC13aWR0aCddIDogMzI7XHJcbiAgICBvcHRpb25zWydncmlkLWhlaWdodCddID0gb3B0aW9uc1snZ3JpZC1oZWlnaHQnXSA+IDAgPyBvcHRpb25zWydncmlkLWhlaWdodCddIDogMzI7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIENyZWF0ZVRpbGVNYXBXaXRoRGF0YVxyXG59IiwiaW1wb3J0IHsgRGlzcGF0Y2hFdmVudCB9IGZyb20gXCIuLi8uLi8uLi9kaXJlY3Rvci9ib290XCI7XHJcbmltcG9ydCB7IEV2ZW50S2V5ZG93biwgTmV3RXZlbnQsIEV2ZW50S2V5dXAsIEV2ZW50VG91Y2hPbiwgRXZlbnRUb3VjaE92ZXIgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9jb21wb25lbnQvZXZlbnRcIjtcclxuaW1wb3J0IHsgTmV3UG9zIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxudmFyIF9jYWxsYmFjaztcclxudmFyIF9mcmFtZU5vID0gMDtcclxudmFyIF9kdCA9IDA7XHJcbnZhciBfbGFzdCA9IDA7XHJcbnZhciBfaXNFbmQgPSBmYWxzZTtcclxuZnVuY3Rpb24gcnVuVGljayh0aW1lc3RhbXApIHtcclxuICAgIF9kdCA9IHRpbWVzdGFtcCAtIF9sYXN0O1xyXG4gICAgX2xhc3QgPSB0aW1lc3RhbXA7XHJcbiAgICBfY2FsbGJhY2soX2R0KTtcclxuICAgIGlmKCFfaXNFbmQpe1xyXG4gICAgICAgIF9mcmFtZU5vID0gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBkZWJ1Z1xyXG4gKi9cclxudmFyIHN0YXJ0ID0gbnVsbDtcclxudmFyIGxhc3QgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuZnVuY3Rpb24gcnVuVGljazIoZnBzID0gMCwgb25VcGRhdGVDYWxsYmFjayA9IG51bGwpIHtcclxuICAgIF9pc0VuZCA9IGZhbHNlO1xyXG4gICAgb25VcGRhdGVDYWxsYmFjaztcclxuICAgIGxldCB0aWNrID0gMTAwMCAvIGZwcztcclxuICAgIHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICBzdGFydCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgICAgIGlmKCFfaXNFbmQpe1xyXG4gICAgICAgICAgICBvblVwZGF0ZUNhbGxiYWNrKHN0YXJ0IC0gbGFzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxhc3QgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgIH0sIHRpY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9wKCl7XHJcbiAgICBfaXNFbmQgPSB0cnVlO1xyXG59XHJcblxyXG5cclxuLy/lm6DkuLrmjInkvY/plK7nmoTor53vvIzkvJrkuI3mlq3op6blj5FvbktleWRvd27vvIzmiYDku6XlgZrkuKptYXDliKTmlq1cclxudmFyIF9rZXlEb3duTWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBjYW52YXNPbktleUNhbGxiYWNrKCl7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgaWYoX2tleURvd25NYXAuZ2V0KGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfa2V5RG93bk1hcC5zZXQoY29kZSwgMSk7XHJcbiAgICAgICAgRGlzcGF0Y2hFdmVudChcclxuICAgICAgICAgICAgTmV3RXZlbnQoXHJcbiAgICAgICAgICAgICAgICBFdmVudEtleWRvd24sIGNvZGUpKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBlID0+IHtcclxuICAgICAgICBsZXQgY29kZSA9IGUua2V5Q29kZTtcclxuICAgICAgICBfa2V5RG93bk1hcC5kZWxldGUoY29kZSk7XHJcbiAgICAgICAgRGlzcGF0Y2hFdmVudChcclxuICAgICAgICAgICAgTmV3RXZlbnQoXHJcbiAgICAgICAgICAgICAgICBFdmVudEtleXVwLCBjb2RlKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGh0dHBzOi8vYmxvZy5jc2RuLm5ldC9xcV8xNzYxNjE2OS9hcnRpY2xlL2RldGFpbHMvNzI4MzMwNDRcclxuICovXHJcbmZ1bmN0aW9uIGNhbnZhc09uTW91c2VDYWxsYmFjayhjYW52YXMgPSBudWxsKXtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgKiAoY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCk7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgKiAoY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBEaXNwYXRjaEV2ZW50KFxyXG4gICAgICAgICAgICBOZXdFdmVudChcclxuICAgICAgICAgICAgICAgIEV2ZW50VG91Y2hPbiwgTmV3UG9zKHgsIHkpKSk7XHJcbiAgICB9KTtcclxuICAgIGNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0ICogKGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGgpO1xyXG4gICAgICAgIGxldCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wICogKGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgRGlzcGF0Y2hFdmVudChcclxuICAgICAgICAgICAgTmV3RXZlbnQoXHJcbiAgICAgICAgICAgICAgICBFdmVudFRvdWNoT3ZlciwgTmV3UG9zKHgsIHkpKSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGVuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhldmVudC54LCBldmVudC55KTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy9lbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixkb01vdXNlTW92ZSxmYWxzZSk7XHJcbiAgICAvL2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZG9Nb3VzZU91dCxmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIHJ1blRpY2syLCBzdG9wLCBjYW52YXNPbktleUNhbGxiYWNrLCBjYW52YXNPbk1vdXNlQ2FsbGJhY2tcclxufSIsImltcG9ydCB7IHJ1blRpY2syLCBjYW52YXNPbktleUNhbGxiYWNrLCBjYW52YXNPbk1vdXNlQ2FsbGJhY2sgfSBmcm9tIFwiLi9wcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgR2V0U3ByaXRlRnJhbWVCaXRtYXBEYXRhLCBHZXRTcHJpdGVGcmFtZVN0YXJ0WCwgR2V0U3ByaXRlRnJhbWVTdGFydFksIEdldFNwcml0ZUZyYW1lV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0LCBHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aCwgR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lXCI7XHJcbmltcG9ydCB7IEFic3RyYWN0RW5naW5lIH0gZnJvbSBcIi4uL2Jhc2VcIjtcclxuaW1wb3J0IHsgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQsIEdldFJlY3RIZWlnaHQsIEdldFJlY3RXaWR0aCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuXHJcbi8qKlxyXG4gKiDmtY/op4jlmajnmoRrZXktY29kZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEtFWV9SSUdIVCA9IDM5O1xyXG5leHBvcnQgY29uc3QgS0VZX0xFRlQgPSAzNztcclxuZXhwb3J0IGNvbnN0IEtFWV9VUCA9IDM4O1xyXG5leHBvcnQgY29uc3QgS0VZX0RPV04gPSA0MDtcclxuXHJcbmV4cG9ydCBjb25zdCBLRVlfU1BBQ0UgPSAzMjtcclxuXHJcbmV4cG9ydCBjb25zdCBLRVlfVyA9IDg3O1xyXG5leHBvcnQgY29uc3QgS0VZX0EgPSA2NTtcclxuZXhwb3J0IGNvbnN0IEtFWV9TID0gODM7XHJcbmV4cG9ydCBjb25zdCBLRVlfRCA9IDY4O1xyXG5cclxuY2xhc3MgSDVFbmdpbmUgZXh0ZW5kcyBBYnN0cmFjdEVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmcHMgPSA2MCwgY2FudmFzID0gbnVsbCwgY3R4ID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIoZnBzKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpe1xyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RnJhbWUoY2VudGVyUG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgICAgICAvL+WPguiAg++8mmNvbnRleHQuZHJhd0ltYWdlKGltZyxzeCxzeSxzd2lkdGgsc2hlaWdodCx4LHksd2lkdGgsaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgICAgIEdldFNwcml0ZUZyYW1lQml0bWFwRGF0YShzcHJpdGVGcmFtZSksXHJcbiAgICAgICAgICAgIEdldFNwcml0ZUZyYW1lU3RhcnRYKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVTdGFydFkoc3ByaXRlRnJhbWUpLCBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpLFxyXG4gICAgICAgICAgICBjZW50ZXJQb3MueCAtIEdldFNwcml0ZUZyYW1lSGFsZldpZHRoKHNwcml0ZUZyYW1lKSwgY2VudGVyUG9zLnkgLSBHZXRTcHJpdGVGcmFtZUhhbGZIZWlnaHQoc3ByaXRlRnJhbWUpLCBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVjdChjZW50ZXJQb3MgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChcclxuICAgICAgICAgICAgY2VudGVyUG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKHJlY3QpLCBjZW50ZXJQb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QpLFxyXG4gICAgICAgICAgICBHZXRSZWN0V2lkdGgocmVjdCksIEdldFJlY3RIZWlnaHQocmVjdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdMaW5lKHN0YXJ0UG9zID0gbnVsbCwgZW5kUG9zID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHN0YXJ0UG9zLngsIHN0YXJ0UG9zLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oZW5kUG9zLngsIGVuZFBvcy55KTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0NpcmNsZShjZW50ZXJQb3MgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoY2VudGVyUG9zLngsIGNlbnRlclBvcy55LCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFJlc291cmNlKGltZ1NyYyA9IFwiXCIsIG9uTG9hZENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltZy5zcmMgPSBpbWdTcmM7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb25Mb2FkQ2FsbGJhY2soaW1nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnQob25FbnRlckZyYW1lQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICBydW5UaWNrMih0aGlzLmZwcywgb25FbnRlckZyYW1lQ2FsbGJhY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gTmV3SDVFbmdpbmUod2lkdGggPSAwLCBoZWlnaHQgPSAwLCBmcHMgPSAwKXtcclxuICAgIGxldCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNhbnZhc1wiKTtcclxuICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgY2FudmFzLmhlaWdodCA9IGhlaWdodDtcclxuICAgIGxldCBjdHggPSBjYW52YXMuZ2V0Q29udGV4dChcIjJkXCIpO1xyXG4gICAgY3R4LnN0cm9rZVN0eWxlPVwiIzAwMDBmZlwiOyAgICAgICAgICAvL+eUu+efqeW9ouahhueUqOeahFxyXG4gICAgbGV0IGVuZ2luZSA9IG5ldyBINUVuZ2luZShmcHMsIGNhbnZhcywgY3R4KTtcclxuICAgIGNhbnZhc09uS2V5Q2FsbGJhY2soKTtcclxuICAgIGNhbnZhc09uTW91c2VDYWxsYmFjayhlbmdpbmUuY2FudmFzKTtcclxuICAgIHJldHVybiBlbmdpbmU7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIE5ld0g1RW5naW5lXHJcbn1cclxuXHJcblxyXG5jb25zdCBSYWRpdXMgPSBNYXRoLlBJLzE4MDtcclxuZnVuY3Rpb24gRHJhd0ltYWdlV2l0aEFuZ2xlKGFuZ2xlID0gMCwgaW1nRGF0YSwgc3ggPSAwLCBzeSA9IDAsIHN3aWR0aCA9IDAsIHNoZWlnaHQgPSAwLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC50cmFuc2xhdGUoeCArIHdpZHRoLzIsIHkgKyBoZWlnaHQvMik7XHJcbiAgICBjdHgucm90YXRlKGFuZ2xlICogUmFkaXVzKTtcclxuICAgIERyYXdJbWFnZShpbWdEYXRhLCBzeCwgc3ksIHN3aWR0aCwgc2hlaWdodCwgLXdpZHRoLzIsIC1oZWlnaHQvMiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgIC8vIGN0eC50cmFuc2xhdGUoMTAwLCAxMDApO1xyXG5cdC8vIGN0eC5yb3RhdGUoOTAgKiBNYXRoLlBJLzE4MCk7XHQvL+S7peS4iumdoueahOWBj+enu+eCueS4uuWHhu+8jOi/m+ihjOaXi+i9rFxyXG5cdC8vIGN0eC5kcmF3SW1hZ2UoaSwgMTg3LCAwLCAxODYsIDEzMCwgLTAsIC0wLCAxMDAsIDEwMCk7XHJcbn0iLCJpbXBvcnQgeyBOZXdINUVuZ2luZSB9IGZyb20gXCIuL3dlYi9tb2RlbFwiO1xyXG5cclxuY29uc3QgRW5naW5lV2ViID0gMDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0geyp9IG9wdGlvbnNcclxuICoge1xyXG4gKiAgICAgIHR5cGUgOiAwLFxyXG4gKiAgICAgIHdpZHRoIDogNDAwLFxyXG4gKiAgICAgIGhlaWdodCA6IDQwMCxcclxuICogICAgICBmcHMgOiA2MCxcclxuICogICAgICBrZXlEb3duSGFuZGxlciA6IGZ1bmMsXHJcbiAqICAgICAga2V5VXBIYW5sZXIgOiBmdW5jLFxyXG4gKiAgICAgIG1vdXNlZG93bkhhbmRsZXIgOiBmdW5jLFxyXG4gKiAgICAgIG1vdXNldXBIYW5kbGVyIDogZnVuY1xyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVFbmdpbmVXaXRoRGF0YShvcHRpb25zID0gbnVsbCl7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgICBsZXQgd2lkdGggPSBvcHRpb25zWyd3aWR0aCddO1xyXG4gICAgd2lkdGggPSB3aWR0aCA/IHdpZHRoIDogODAwO1xyXG4gICAgbGV0IGhlaWdodCA9IG9wdGlvbnNbJ2hlaWdodCddO1xyXG4gICAgaGVpZ2h0ID0gaGVpZ2h0ID8gaGVpZ2h0IDogODAwO1xyXG4gICAgbGV0IGZwcyA9IG9wdGlvbnNbJ2ZwcyddO1xyXG4gICAgZnBzID0gZnBzID8gZnBzIDogNjA7XHJcbiAgICBsZXQgdHlwZSA9IG9wdGlvbnNbJ3R5cGUnXTtcclxuICAgIHR5cGUgPSB0eXBlID8gdHlwZSA6IEVuZ2luZVdlYjtcclxuXHJcbiAgICBsZXQgZW5naW5lID0gbnVsbDtcclxuICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICBjYXNlIEVuZ2luZVdlYjpcclxuICAgICAgICAgICAgZW5naW5lID0gTmV3SDVFbmdpbmUod2lkdGgsIGhlaWdodCwgZnBzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy9lcnJvciBsb2dcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIHR5cGVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVuZ2luZTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIENyZWF0ZUVuZ2luZVdpdGhEYXRhXHJcbn0iLCJpbXBvcnQgeyBTZXREZWZhdWx0Q2FtZXJhLCBTZXRFbmdpbmUsIFNldERhdGEsIFNldERlZiwgR2V0Qml0bWFwLCBTZXRTcHJpdGVGcmFtZSwgR2V0RW5naW5lIH0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgQ3JlYXRlQ2FtZXJhV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2NhbWVyYS91dGlsc1wiO1xyXG5pbXBvcnQgeyBpbml0U3lzdGVtcyB9IGZyb20gXCIuL3N5c3RlbVwiO1xyXG5pbXBvcnQgeyBDcmVhdGVUaWxlTWFwV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2dyaWQvdXRpbHNcIjtcclxuaW1wb3J0IHsgQ3JlYXRlRW5naW5lV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2VuZ2luZS91dGlsc1wiO1xyXG5pbXBvcnQgeyBDcmVhdGVCaXRtYXAsIENyZWF0ZVNwcml0ZUZyYW1lIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lXCI7XHJcbmltcG9ydCB7IEVuZ2luZUxvYWRSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9saWIvZW5naW5lL2Jhc2VcIjtcclxuXHJcbi8qKlxyXG4gKiDopoHlhYjliJ3lp4vljJblvJXmk45cclxuICogb3B0aW9ucyB7XHJcbiAqICAgICAgc2NyZWVuLXdpZHRoIDogODAwLFxyXG4gKiAgICAgIHNjcmVlbi1oZWlnaHQgOiA4MDAsXHJcbiAqICAgICAgZnBzIDogNjAsXHJcbiAqIH1cclxuICovXHJcbmZ1bmN0aW9uIGluaXRFbmdpbmUob3B0aW9ucyA9IG51bGwsIGtleURvd25IYW5kbGVyID0gbnVsbCwga2V5VXBIYW5sZXIgPSBudWxsLCB0b3VjaE9uQ2FsbGJhY2sgPSBudWxsLCB0b3VjaE92ZXJDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgU2V0RW5naW5lKFxyXG4gICAgICAgIENyZWF0ZUVuZ2luZVdpdGhEYXRhKG9wdGlvbnMpKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOmAmui/h+WPguaVsOmFjee9ruWIneWni+WMluezu+e7n+i1hOa6kFxyXG4gKiBvcHRpb25zIHtcclxuICogICAgICBkZWJ1ZyA6IGZhbHNlLFxyXG4gKiAgICAgIGZwcyA6IDYwLFxyXG4gKiAgICAgIHRleHR1cmVzIDogW13moLzlvI/op4FMb2FkUmVzb3VyY2UoKeWGhVxyXG4gKiAgICAgIHNjcmVlbi13aWR0aCA6IDgwMCxcclxuICogICAgICBzY3JlZW4taGVpZ2h0IDogODAwLFxyXG4gKiAgICAgIGNhbWVyYSA6IHt9LFxyXG4gKiAgICAgIGVuZ2luZSA6IHt9LFxyXG4gKiAgICAgIGxheWVycyA6IFtcclxuICogICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgdHlwZSA6IDEg5qC85byP5Y+C6ICDdGlsZW1hcOS4gOiKglxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgXVxyXG4gKiAgICAgIGNvbGxpZGUgOiB7fVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0R2FtZShvcHRpb25zID0gbnVsbCkge1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IG9wdGlvbnNbJ3NjcmVlbi13aWR0aCddO1xyXG4gICAgc2NyZWVuV2lkdGggPSBzY3JlZW5XaWR0aCAmJiBzY3JlZW5XaWR0aCA+IDAgPyBzY3JlZW5XaWR0aCA6IDgwMDtcclxuICAgIGxldCBzY3JlZW5IZWlnaHQgPSBvcHRpb25zWydzY3JlZW4taGVpZ2h0J107XHJcbiAgICBzY3JlZW5IZWlnaHQgPSBzY3JlZW5IZWlnaHQgJiYgc2NyZWVuSGVpZ2h0ID4gMCA/IHNjcmVlbkhlaWdodCA6IDgwMDtcclxuXHJcbiAgICAvL+aRhOWDj+aculxyXG4gICAgU2V0RGVmYXVsdENhbWVyYShcclxuICAgICAgICBDcmVhdGVDYW1lcmFXaXRoRGF0YShvcHRpb25zWydjYW1lcmEnXSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkpO1xyXG5cclxuICAgIC8v57O757ufXHJcbiAgICBpbml0U3lzdGVtcyhvcHRpb25zWydkZWJ1ZyddKTtcclxuXHJcbiAgICAvL+W8gOWQr+eisOaSnuezu+e7n1xyXG4gICAgaWYob3B0aW9ucy5jb2xsaWRlKXtcclxuICAgICAgICBPcGVuQ29sbGlkZXIob3B0aW9ucy5jb2xsaWRlKTtcclxuXHJcbiAgICAgICAgLy8gaWYob3B0aW9ucy51c2VUaWxlQ29tYmluZSl7XHJcbiAgICAgICAgLy8gICAgIGxldCByZXN1bHROb2RlcyA9IENyZWF0ZUNvbWJpbmVOb2Rlcyh0aWxlbWFwLCBjb2xsaWRlLmJveEhhbmRsZXIpO1xyXG4gICAgICAgIC8vICAgICByZXN1bHROb2Rlcy5mb3JFYWNoKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb2xsaWRlLmxvYWRDYWxsYmFjayhyZXN1bHQudmFsdWUsIHJlc3VsdC5yZWN0KTtcclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6Ieq5a6a5LmJ5pWw5o2u562JXHJcbiAgICBpbml0RGVmKG9wdGlvbnNbJ2RlZiddKTtcclxuICAgIGluaXREYXRhcyhvcHRpb25zWydkYXRhcyddKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdERlZihvcHRpb25zID0gbnVsbCl7XHJcbiAgICBmb3IobGV0IGtleSBpbiBvcHRpb25zKXtcclxuICAgICAgICBTZXREZWYoa2V5LCBvcHRpb25zW2tleV0pO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICogVE9ETyDkuLTml7bmlrnms5XvvIzku6XlkI7kvJjljJZcclxuICogQHBhcmFtIHsqfSBvcHRpb25zIFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdERhdGFzKGRhdGFzID0gbnVsbCl7XHJcbiAgICBpZighZGF0YXMgfHwgZGF0YXMubGVuZ3RoID09IDApe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRhdGFzLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgICAgICAgaW5pdERhdGFPYmooZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpbml0RGF0YU9iaihvcHRpb25zID0gbnVsbCl7XHJcbiAgICBsZXQgZGF0YU9iaiA9IG51bGw7XHJcbiAgICBpZihvcHRpb25zWyd0aWxlbWFwJ10pe1xyXG4gICAgICAgIGRhdGFPYmogPSBDcmVhdGVUaWxlTWFwV2l0aERhdGEob3B0aW9uc1sndGlsZW1hcCddKTtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gb3B0aW9uc1snbmFtZSddO1xyXG4gICAgaWYobmFtZSl7XHJcbiAgICAgICAgU2V0RGF0YShuYW1lLCBkYXRhT2JqKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb3otYTmupDvvIzliJvlu7rluKdcclxuIFwicmVzXCIgOiB7XHJcblx0XHRcImltZ3NcIiA6IFtcclxuXHRcdFx0XCJyZXMvMy5wbmdcIlxyXG5cdFx0XSxcclxuXHRcdFwiZnJhbWVzXCIgOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcIm5hbWVcIiA6IFwiYnVpbGRpbmcxXCIsXHJcblx0XHRcdFx0XCJyZXNcIiA6IFwicmVzLzMucG5nXCIsXHJcblx0XHRcdFx0XCJhcmVhXCIgOiB7XHJcblx0XHRcdFx0XHRcIndpZHRoXCIgOiAxNTEsXHJcblx0XHRcdFx0XHRcImhlaWdodFwiIDogMTY3XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fSxcclxuICovXHJcbmZ1bmN0aW9uIGxvYWRXaXRoUmVzb3VyY2UocmVzID0gbnVsbCwgT25sb2FkQ2FsbGJhY2sgPSBudWxsLCBPbkNvbXBsZXRlQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGxldCBpbWdzID0gcmVzID8gcmVzWydpbWdzJ10gOiBudWxsO1xyXG4gICAgaWYoaW1ncyAmJiBpbWdzLmxlbmd0aCA+IDApe1xyXG4gICAgICAgIGxvYWRSZXNvdXJjZShpbWdzLCByZXNbJ2ZyYW1lcyddLCBPbmxvYWRDYWxsYmFjaywgT25Db21wbGV0ZUNhbGxiYWNrKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBPbkNvbXBsZXRlQ2FsbGJhY2soKTtcclxufVxyXG5cclxuZnVuY3Rpb24gbG9hZFJlc291cmNlKGltZ3MgPSBudWxsLCBmcmFtZXMgPSBudWxsLCBPbmxvYWRDYWxsYmFjayA9IG51bGwsIE9uQ29tcGxldGVDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgbGV0IF9jb3VudCA9IDA7XHJcbiAgICBsZXQgYml0bWFwcyA9IG5ldyBNYXAoKTtcclxuICAgIGltZ3MuZm9yRWFjaChpbWcgPT57XHJcbiAgICAgICAgRW5naW5lTG9hZFJlc291cmNlKEdldEVuZ2luZSgpLCBpbWcsIGJpdG1hcERhdGEgPT4ge1xyXG4gICAgICAgICAgICBiaXRtYXBzLnNldChpbWcsIENyZWF0ZUJpdG1hcChiaXRtYXBEYXRhLCBiaXRtYXBEYXRhLndpZHRoLCBiaXRtYXBEYXRhLmhlaWdodCkpO1xyXG4gICAgICAgICAgICBfY291bnQrKztcclxuICAgICAgICAgICAgaWYoT25sb2FkQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgT25sb2FkQ2FsbGJhY2soaW1nLCBfY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGltZ3MubGVuZ3RoID09IF9jb3VudCl7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTcHJpdGVGcmFtZXNXaXRoRGF0YShmcmFtZXMsIGJpdG1hcHMpO1xyXG4gICAgICAgICAgICAgICAgaWYoT25Db21wbGV0ZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgICAgICBPbkNvbXBsZXRlQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pXHJcbiAgICB9KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gXCJmcmFtZXNcIiA6IFtcclxuXHRcdHtcclxuXHRcdFx0XCJuYW1lXCIgOiBcImJ1aWxkaW5nMVwiLFxyXG5cdFx0XHRcInJlc1wiIDogXCJyZXMvMy5wbmdcIixcclxuXHRcdFx0XCJhcmVhXCIgOiB7XHJcblx0XHRcdFx0XCJ3aWR0aFwiIDogMTUxLFxyXG5cdFx0XHRcdFwiaGVpZ2h0XCIgOiAxNjdcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdF0sXHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTcHJpdGVGcmFtZXNXaXRoRGF0YShzcHJpdGVGcmFtZURhdGFzID0gbnVsbCwgYml0bWFwcyA9IG51bGwpe1xyXG4gICAgaWYoIXNwcml0ZUZyYW1lRGF0YXMgfHwgc3ByaXRlRnJhbWVEYXRhcy5sZW5ndGggPT0gMCB8fCAhYml0bWFwcyl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgc3ByaXRlRnJhbWVEYXRhcy5mb3JFYWNoKGRhdGEgPT4ge1xyXG4gICAgICAgIGNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEoXHJcbiAgICAgICAgICAgIGRhdGFbJ25hbWUnXSwgXHJcbiAgICAgICAgICAgIGJpdG1hcHMuZ2V0KGRhdGFbJ3JlcyddKSxcclxuICAgICAgICAgICAgZGF0YVsnYXJlYSddXHJcbiAgICAgICAgKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhKG5hbWUgPSBcIlwiLCBiaXRtYXAgPSBudWxsLCBhcmVhID0gbnVsbCl7XHJcbiAgICBpZihuYW1lID09IFwiXCIgfHwgIWJpdG1hcCB8fCAhYXJlYSl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIHBhcmFtLlwiKTtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCB4ID0gYXJlYVsneCddO1xyXG4gICAgbGV0IHkgPSBhcmVhWyd5J107XHJcbiAgICBsZXQgd2lkdGggPSBhcmVhWyd3aWR0aCddO1xyXG4gICAgbGV0IGhlaWdodCA9IGFyZWFbJ2hlaWdodCddO1xyXG4gICAgaWYoIXdpZHRoIHx8ICFoZWlnaHQpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyKFwiZXJyb3IgcGFyYW0uXCIpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGYgPSBDcmVhdGVTcHJpdGVGcmFtZShuYW1lLCBiaXRtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgU2V0U3ByaXRlRnJhbWUobmFtZSwgZik7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIGluaXRFbmdpbmUsIGluaXRHYW1lLCBsb2FkV2l0aFJlc291cmNlXHJcbn0iLCJpbXBvcnQgeyBpbml0R2FtZSwgbG9hZFdpdGhSZXNvdXJjZSwgaW5pdEVuZ2luZSB9IGZyb20gXCIuL3NlcnZpY2UvaW5pdFwiO1xyXG5pbXBvcnQgeyBydW5XaXRoU2NlbmUsIHN0b3BTeXN0ZW0gfSBmcm9tIFwiLi9zZXJ2aWNlL3N5c3RlbVwiO1xyXG5pbXBvcnQgeyBHZXRTY2VuZSwgZ2V0TGlzdGVuZXJMaXN0IH0gZnJvbSBcIi4vc2VydmljZS9yZXNvdXJjZVwiO1xyXG5pbXBvcnQgeyBJbnNlcnRUb0xpc3QsIFJlbW92ZUZyb21MaXN0LCBMaXN0SXRlcmF0b3IgfSBmcm9tIFwiLi4vZm91bmRhdGlvbi9jb250YWluZXIvbGlzdFwiO1xyXG5cclxuLyoqXHJcbiAqIG9wdGlvbnMge1xyXG4gKiAgICAgIHRleHR1cmVzIDog5qC85byP6KeBTG9hZFJlc291cmNlKCnlhoVcclxuICogICAgICBzY3JlZW4gOiB7XHJcbiAqICAgICAgICAgIHdpZHRoIDogODAwLFxyXG4gKiAgICAgICAgICBoZWlnaHQgOiA4MDBcclxuICogICAgICB9LFxyXG4gKiAgICAgIGZwcyA6IDYwLFxyXG4gKiAgICAgIGRlYnVnIDogZmFsc2UsXHJcbiAqICAgICAgY2FtZXJhIDoge1xyXG4gKiAgICAgICAgICB4IDogMCxcclxuICogICAgICAgICAgeSA6IDBcclxuICogICAgICB9LFxyXG4gKiAgICAgIHRpbGVtYXAgOiDmoLzlvI/lj4LogIN0aWxlbWFw5LiA6IqCXHJcbiAqICAgICAga2V5SGFuZGxlciA6IGZ1bmN0aW9uKHR5cGUsIGtleUNvZGUpICAgdHlwZT0xID0gZG93biwgdHlwZT0yID0gdXBcclxuICogICAgICBjb2xsaWRlIDoge1xyXG4gKiAgICAgICAgICB1c2VCb3ggOiBmYWxzZSxcclxuICogICAgICAgICAgdXNlR3JvdXAgOiBmYWxzZSxcclxuICogICAgICAgICAgcGFpcnMgOiBbXHJcbiAqICAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICAgdGVhbTEgOiAxLFxyXG4gKiAgICAgICAgICAgICAgICAgIHRlYW0yIDogMlxyXG4gKiAgICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgICBdLFxyXG4gKiAgICAgICAgICBoYW5kbGVyIDogZnVuY3Rpb24oZHQsIGNvbGxpZGVyMSwgY29sbGlkZXIyKVxyXG4gKiAgICAgIH1cclxuICogfVxyXG4gKiBUT0RPIHNjZW5l5Y+v5Lul5piv5LiA5LiqYWN0aW9uP1xyXG4gKi9cclxuZnVuY3Rpb24gU3RhcnQob3B0aW9ucyA9IG51bGwsIHNjZW5lID0gbnVsbCl7XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7fTtcclxuICAgIGluaXRFbmdpbmUob3B0aW9ucyk7XHJcbiAgICBsb2FkV2l0aFJlc291cmNlKG9wdGlvbnNbJ3JlcyddLCBudWxsLCAoKSA9PiB7XHJcbiAgICAgICAgaW5pdEdhbWUob3B0aW9ucyk7XHJcbiAgICAgICAgcnVuV2l0aFNjZW5lKHNjZW5lKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBTdG9wKCl7XHJcbiAgICBHZXRTY2VuZSgpLm9uRW5kKCk7XHJcbiAgICAvL3N0b3BTeXN0ZW1zKCk7XHJcbiAgICBzdG9wU3lzdGVtKCk7XHJcbiAgICBTdG9wRW5naW5lKGdldEVuZ2luZSgpKTtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEFkZEV2ZW50TGlzdGVuZXIobGlzdGVuZXIgPSBudWxsKXtcclxuICAgIGxldCBsaXNMaXN0ID0gZ2V0TGlzdGVuZXJMaXN0KGxpc3RlbmVyLnR5cGUpO1xyXG4gICAgSW5zZXJ0VG9MaXN0KGxpc0xpc3QsIGxpc3RlbmVyLCBsaXN0ZW5lci5vcmRlcik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFJlbW92ZUV2ZW50TGlzdGVuZXIobGlzdGVuZXIgPSBudWxsKXtcclxuICAgIGxldCBsaXNMaXN0ID0gZ2V0TGlzdGVuZXJMaXN0KGxpc3RlbmVyLnR5cGUpO1xyXG4gICAgUmVtb3ZlRnJvbUxpc3QobGlzTGlzdCwgbGlzdGVuZXIuaWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEaXNwYXRjaEV2ZW50KGV2ZW50ID0gbnVsbCl7XHJcbiAgICBsZXQgbGlzTGlzdCA9IGdldExpc3RlbmVyTGlzdChldmVudC50eXBlKTtcclxuICAgIExpc3RJdGVyYXRvcihsaXNMaXN0LCBsaXN0ZW5lciA9PiB7XHJcbiAgICAgICAgbGlzdGVuZXIuaGFuZGxlKGV2ZW50KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgU3RhcnQsIFN0b3AsXHJcbiAgICBBZGRFdmVudExpc3RlbmVyLCBSZW1vdmVFdmVudExpc3RlbmVyLCBEaXNwYXRjaEV2ZW50XHJcbn0iLCJpbXBvcnQgeyBBZGRUb0xheWVyLCBSZW1vdmVGcm9tTGF5ZXIsIEdldExheWVyIH0gZnJvbSBcIi4vY29tcG9uZW50L2xheWVyXCI7XHJcbmltcG9ydCB7IE5ld0Rpc3BsYXllciB9IGZyb20gXCIuL2NvbXBvbmVudC9yZW5kZXJcIjtcclxuXHJcblxyXG4vKipcclxuICog5Yqg5YWl5riy5p+T6Zif5YiXXHJcbiAqIGxheWVyT3JkZXIgPSDlm77lsYLpobrluo/vvIzmlbDlgLzku47kvY7liLDpq5jpobrluo/muLLmn5NcclxuICogb3JkZXIgPSDoh6rlt7HmiYDlnKjlm77lsYLlhoXnmoTpobrluo9cclxuICogVE9ETyDpnIDopoHliKTmlq3ph43lpI3mgKfvvIzlpoLkuIDkuKplbnRpdHlJZOWkmuasoeeUqOS6huWQjOagt+eahHNwcml0Ze+8jOebuOS6kuimhueblu+8jOmAoOaIkOa1qui0uVxyXG4gKi9cclxuZnVuY3Rpb24gQWRkRGlzcGxheWVyKHNwcml0ZUZyYW1lID0gbnVsbCwgZW50aXR5SWQgPSAwLCBsYXllck9yZGVyID0gMSwgb3JkZXIgPSAwLCBvZmZzZXQgPSBudWxsKSB7XHJcbiAgICBsZXQgZHMgPSBOZXdEaXNwbGF5ZXIoZW50aXR5SWQsIHNwcml0ZUZyYW1lLCBvZmZzZXQsIG9yZGVyLCBsYXllck9yZGVyKTtcclxuICAgIEFkZFRvTGF5ZXIoZHMpO1xyXG4gICAgcmV0dXJuIGRzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVEaXNwbGF5ZXIoZGlzcGxheWVyID0gbnVsbCkge1xyXG4gICAgUmVtb3ZlRnJvbUxheWVyKGRpc3BsYXllcik7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBZGREaXNwbGF5ZXIsIFJlbW92ZURpc3BsYXllclxyXG59IiwiaW1wb3J0IGRhdGEgZnJvbSAnLi9kYXRhJztcclxuaW1wb3J0IHsgR2V0RGF0YSwgR2V0RGVmYXVsdENhbWVyYSwgR2V0U3ByaXRlRnJhbWUgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci9zZXJ2aWNlL3Jlc291cmNlJztcclxuaW1wb3J0IHsgRHJhd1JlY3QsIERyYXdMaW5lLCBEcmF3Q2lyY2xlIH0gZnJvbSAnLi9mcmFtZXdvcmsvZGlyZWN0b3IvcmVuZGVyJztcclxuaW1wb3J0IHsgU3RhcnQsIEFkZEV2ZW50TGlzdGVuZXIgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci9ib290JztcclxuaW1wb3J0IHsgR3JpZE1hcEl0ZXJhdG9yLCBHZXRHcmlkV2lkdGgsIEdldEhhbGZHcmlkV2lkdGgsIEdldEdyaWREYXRhIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9jb250YWluZXIvZ3JpZG1hcCc7XHJcbmltcG9ydCB7IEdldFRpbGVHcmlkQ2VudGVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvbGliL2dyaWQvdGlsZW1hcC9iYXNlJztcclxuaW1wb3J0IHsgTmV3UmVjdCwgTmV3UG9zLCBOZXdWZWMgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWMnO1xyXG5pbXBvcnQgeyBHZXRDYW1lcmFIZWlnaHQsIEdldENhbWVyYVdpZHRoIH0gZnJvbSAnLi9mcmFtZXdvcmsvbGliL2NhbWVyYS9iYXNlJztcclxuaW1wb3J0IHsgQWRkRGlzcGxheWVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvbGliL3ZpZXcvdXRpbHMnO1xyXG5pbXBvcnQgeyBOZXdFbnRpdHlJZCB9IGZyb20gJy4vZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjcyc7XHJcbmltcG9ydCB7IEdldFJlbmRlckNvbXBvbmVudCB9IGZyb20gJy4vZnJhbWV3b3JrL2xpYi92aWV3L2NvbXBvbmVudC9yZW5kZXInO1xyXG5pbXBvcnQgeyBTZXRVbml0UG9zIH0gZnJvbSAnLi9mcmFtZXdvcmsvbGliL3Bvcy9jb21wb25lbnQnO1xyXG5pbXBvcnQgeyBFdmVudEtleWRvd24sIEV2ZW50VG91Y2hPbiwgQWJzdHJhY3RFdmVudExpc3RlbmVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9jb21wb25lbnQvZXZlbnQnO1xyXG5cclxuLy/osKjorrDmlbDmja7pqbHliqjvvIzliIbmuIXkuJrliqHphY3nva7lkozmoYbmnrbpgLvovpHphY3nva5cclxudmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcclxuICAgIHRvdWNoT25DYWxsYmFjayA6IHRvdWNoT25DYWxsYmFjayxcclxuICAgIHRvdWNoT3ZlckNhbGxiYWNrIDogdG91Y2hPdmVyQ2FsbGJhY2ssXHJcbn0pO1xyXG5cclxuZnVuY3Rpb24gdG91Y2hPbkNhbGxiYWNrKHggPSAwLCB5ID0gMCl7XHJcbiAgICBjb25zb2xlLmxvZyh4LCB5KTtcclxufVxyXG5mdW5jdGlvbiB0b3VjaE92ZXJDYWxsYmFjayh4ID0gMCwgeSA9IDApe1xyXG5cclxufVxyXG5cclxuY2xhc3MgTXlTY2VuZSB7XHJcbiAgICBvblN0YXJ0KCl7XHJcbiAgICAgICAgbGV0IHRpbGVtYXAgPSBHZXREYXRhKFwidGlsZTFcIik7XHJcbiAgICAgICAgR3JpZE1hcEl0ZXJhdG9yKHRpbGVtYXAsIGdyaWQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgZGF0YSA9IEdldEdyaWREYXRhKGdyaWQpO1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gR2V0VGlsZUdyaWRDZW50ZXIodGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgICAgIGluaXREaXNwbGF5KGRhdGEsIHBvcyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy9kcmF3KCk7XHJcbiAgICB9XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIGRyYXcoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhdygpe1xyXG4gICAgZHJhd1RpbGUoKTtcclxuICAgIGRyYXdDZW50ZXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd0NlbnRlcigpe1xyXG4gICAgRHJhd0NpcmNsZShOZXdQb3MoKSwgMyk7XHJcbiAgICBEcmF3UmVjdChOZXdQb3MoKSwgTmV3UmVjdChcclxuICAgICAgICBHZXRDYW1lcmFXaWR0aChcclxuICAgICAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpKSxcclxuICAgICAgICBHZXRDYW1lcmFIZWlnaHQoXHJcbiAgICAgICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSkpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1RpbGUoKXtcclxuICAgIGxldCB0aWxlbWFwID0gR2V0RGF0YShcInRpbGUxXCIpO1xyXG4gICAgR3JpZE1hcEl0ZXJhdG9yKHRpbGVtYXAsIGdyaWQgPT4ge1xyXG4gICAgICAgIGxldCBwb3MgPSBHZXRUaWxlR3JpZENlbnRlcih0aWxlbWFwLCBncmlkKTtcclxuICAgICAgICBsZXQgaGFsZldpZHRoID0gR2V0SGFsZkdyaWRXaWR0aChncmlkKTtcclxuICAgICAgICBsZXQgd2lkdGggPSBHZXRHcmlkV2lkdGgoZ3JpZCk7XHJcbiAgICAgICAgLy9jb25zb2xlLmxvZyhcImdbJWQsICVkXTogKCVkLCAlZCksICVkICVkXCIsIGdyaWQucm93SW5kZXgsIGdyaWQuY29sSW5kZXgsIHBvcy54LCBwb3MueSwgaGFsZldpZHRoLCB3aWR0aCk7XHJcbiAgICAgICAgLy9EcmF3UmVjdChwb3MsIE5ld1JlY3Qod2lkdGgsIHdpZHRoKSk7XHJcbiAgICAgICAgdGVzdElzbyhwb3MsIGhhbGZXaWR0aCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGVzdElzbyhwb3MgPSBudWxsLCBoYWxmV2lkdGggPSAwKXtcclxuICAgIGxldCBwb3MxID0gTmV3UG9zKHBvcy54IC0gaGFsZldpZHRoLCBwb3MueSAtIGhhbGZXaWR0aCk7XHJcbiAgICBsZXQgcG9zMWlzbyA9IGdldElzbyhwb3MxKTtcclxuICAgIGxldCBwb3MyID0gTmV3UG9zKHBvcy54ICsgaGFsZldpZHRoLCBwb3MueSAtIGhhbGZXaWR0aCk7XHJcbiAgICBsZXQgcG9zMmlzbyA9IGdldElzbyhwb3MyKTtcclxuICAgIGxldCBwb3MzID0gTmV3UG9zKHBvcy54IC0gaGFsZldpZHRoLCBwb3MueSArIGhhbGZXaWR0aCk7XHJcbiAgICBsZXQgcG9zM2lzbyA9IGdldElzbyhwb3MzKTtcclxuICAgIGxldCBwb3M0ID0gTmV3UG9zKHBvcy54ICsgaGFsZldpZHRoLCBwb3MueSArIGhhbGZXaWR0aCk7XHJcbiAgICBsZXQgcG9zNGlzbyA9IGdldElzbyhwb3M0KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwicDE6KCVkLCAlZCksIGlzbzooJWQsICVkKVwiLCBwb3MxLnggLHBvczEueSwgcG9zMWlzby54LCBwb3MxaXNvLnkpO1xyXG4gICAgLy8gY29uc29sZS5sb2coXCJwMjooJWQsICVkKSwgaXNvOiglZCwgJWQpXCIsIHBvczIueCAscG9zMi55LCBwb3MyaXNvLngsIHBvczJpc28ueSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZyhcInAzOiglZCwgJWQpLCBpc286KCVkLCAlZClcIiwgcG9zMy54ICxwb3MzLnksIHBvczNpc28ueCwgcG9zM2lzby55KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKFwicDQ6KCVkLCAlZCksIGlzbzooJWQsICVkKVwiLCBwb3M0LnggLHBvczQueSwgcG9zNGlzby54LCBwb3M0aXNvLnkpO1xyXG5cclxuICAgIC8vIERyYXdMaW5lKHBvczFpc28sIHBvczJpc28pO1xyXG4gICAgLy8gRHJhd0xpbmUocG9zMmlzbywgcG9zM2lzbyk7XHJcbiAgICAvLyBEcmF3TGluZShwb3MzaXNvLCBwb3M0aXNvKTtcclxuICAgIC8vIERyYXdMaW5lKHBvczRpc28sIHBvczFpc28pO1xyXG5cclxuICAgIERyYXdMaW5lKHBvczFpc28sIHBvczJpc28pO1xyXG4gICAgRHJhd0xpbmUocG9zMmlzbywgcG9zNGlzbyk7XHJcbiAgICBEcmF3TGluZShwb3M0aXNvLCBwb3MzaXNvKTtcclxuICAgIERyYXdMaW5lKHBvczNpc28sIHBvczFpc28pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJc28ocG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIChwb3MueCAtIHBvcy55KSxcclxuICAgICAgICAocG9zLnggKyBwb3MueSkgKiAwLjVcclxuICAgICk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBcIjFcIiA6IHtcclxuXHRcdFx0XCJkaXNwbGF5XCIgOiB7XHJcblx0XHRcdFx0XCJpc29tZXRyaWNcIiA6IHRydWUsXHJcblx0XHRcdFx0XCJmcmFtZVwiIDogXCJidWlsZGluZzFcIlxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdERpc3BsYXkoZGF0YSA9IG51bGwsIHBvcyA9IG51bGwpe1xyXG4gICAgbGV0IGQgPSBkYXRhWydkaXNwbGF5J107XHJcbiAgICBpZighZCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IGlkID0gTmV3RW50aXR5SWQoKTtcclxuICAgIEdldFJlbmRlckNvbXBvbmVudChpZCwge2lzb21ldHJpY3M6dHJ1ZX0pO1xyXG4gICAgU2V0VW5pdFBvcyhpZCwgcG9zLngsIHBvcy55KTtcclxuICAgIEFkZERpc3BsYXllcihcclxuICAgICAgICBHZXRTcHJpdGVGcmFtZShcclxuICAgICAgICAgICAgZFsnZnJhbWUnXSksIGlkLCAxLCAwLFxyXG4gICAgICAgICAgICBOZXdWZWMoXHJcbiAgICAgICAgICAgICAgICBkWydvZmZzZXQteCddLCBkWydvZmZzZXQteSddXHJcbiAgICAgICAgICAgICkpO1xyXG59XHJcblxyXG5cclxuY2xhc3MgS2V5ZG93bkxpc3RlbmVyIGV4dGVuZHMgQWJzdHJhY3RFdmVudExpc3RlbmVye1xyXG4gICAgY29uc3RydWN0b3Iob3JkZXIgPSAwKXtcclxuICAgICAgICBzdXBlcihFdmVudEtleWRvd24sIG9yZGVyKTtcclxuICAgIH1cclxuICAgIGhhbmRsZShldmVudCA9IG51bGwpe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LmRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBNb3VzZWRvd25MaXN0ZW5lciBleHRlbmRzIEFic3RyYWN0RXZlbnRMaXN0ZW5lcntcclxuICAgIGNvbnN0cnVjdG9yKG9yZGVyID0gMCl7XHJcbiAgICAgICAgc3VwZXIoRXZlbnRUb3VjaE9uLCBvcmRlcik7XHJcbiAgICB9XHJcbiAgICBoYW5kbGUoZXZlbnQgPSBudWxsKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhLngsIGV2ZW50LmRhdGEueSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xyXG4gICAgQWRkRXZlbnRMaXN0ZW5lcihuZXcgS2V5ZG93bkxpc3RlbmVyKCkpO1xyXG4gICAgQWRkRXZlbnRMaXN0ZW5lcihuZXcgTW91c2Vkb3duTGlzdGVuZXIoKSk7XHJcbiAgICBTdGFydChvcHRpb25zLCBuZXcgTXlTY2VuZSgpKTtcclxufSkoKSJdLCJzb3VyY2VSb290IjoiIn0=