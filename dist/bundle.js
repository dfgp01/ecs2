!function(t){var n={};function l(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,l),r.l=!0,r.exports}l.m=t,l.c=n,l.d=function(t,n,e){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)l.d(e,r,function(n){return t[n]}.bind(null,r));return e},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s=1)}([function(t){t.exports={debug:!0,def:{0:{},1:{color:"#333333"}},datas:[{name:"tile1",tilemap:{data:[1,1,1,1,0,1,1,1,1],columns:3,gridWidth:80,gridHeight:80}}]}},function(t,n,l){"use strict";l.r(n);var e=l(0),r=new Map;var u=new Map;var i=null;function s(){return i}var o=null;function a(){return o}class c{constructor(t=60){this.fps=t,this.tick=1e3/t}clear(){}drawFrame(t=null,n=null){}drawRect(t=null,n=null){}drawLine(t=null,n=null){}drawCircle(t=null,n=0){}loadResource(t="",n=null){}onKeyCallback(t=null,n=null){}onTouchCallback(t=null,n=null){}start(t=null){}}class h{constructor(t=0,n=0){this.x=t,this.y=n}}function d(t=0,n=0){return new h(t,n)}function f(t=null,n=null){return d(t.x-n.x,t.y-n.y)}class p{constructor(t=0,n=0){this.x=t,this.y=n}}function g(t=0,n=0){return new p(t,n)}class w{constructor(t=0,n=0){this.width=t,this.height=n}}function m(t=0,n=0){return 0==t||0==n?(console.error("rect param error. width:%d, height:%d",t,n),null):new w(t,n)}function v(t=null){return.5*t.width}function _(t=null){return.5*t.height}class k{constructor(t=null,n=null){this.pos=t,this.offset=n}}function b(t=null){return d(t.pos.x+t.offset.x,t.pos.y+t.offset.y)}function H(t=0){return Math.trunc(t)}class M extends k{constructor(t=null,n=null,l=null){super(t,n),this.rect=l}}function C(t=null,n=null,l=null){return n=n||g(),new M(t,n,l)}function R(t=null){return b(t)}function I(t=null){let n=R(t);return d(n.x-v(t.rect),n.y-_(t.rect))}class W{constructor(t=null,n=null){this.rectPosRel=t,this.screenOffset=n}}function L(t=null,n=0,l=0){let e=(t=t||{style:0,datas:[{x:0,y:0}]}).datas[0];return function(t=0,n=0,l=0,e=0){let r=C(d(t,n),null,m(l,e));return new W(r)}(e.x,e.y,n,l)}function G(t=null,n=null){return f(n,function(t=null){return I(t.rectPosRel)}(t))}function P(){!function(t=null){t.clear()}(a())}function S(t=null,n=null){!function(t=null,n=null,l=null){let e=G(t,n);!function(t=null,n=null,l=null){t.drawFrame(n,l)}(a(),e.x,e.y)}(s(),t,n)}function E(t=null,n=null){!function(t=null,n=null,l=null){let e=G(t,n);!function(t=null,n=null,l=null){t.drawRect(n,l)}(a(),e,l)}(s(),t,n)}class O{constructor(){}get(t=0){}firsr(){}last(){}size(){}add(t=null){}push(t=null){}insert(t=null,n=0){}pop(){}pull(){}remove(t=0){}iterator(t=null){}iteratorReverse(t=null){}iteratorCompare(t=null){}}function D(t=null,n=null){t&&n&&t.iterator(n)}class T{constructor(t=null,n=null,l=null,e=0){this.data=t,this.prep=n,this.next=l,this.order=e}}class U extends O{constructor(){super(),this.head=new T,this.tail=new T,this.head.next=this.tail,this.tail.prep=this.head,this._map=new Map,this._size=0,this._delList=[],this._curr=this.head,this._lock=!1}get(t=0){let n=this._map.get(t);return n?n.data:null}first(){let t=this.head.next;return t==this.tail?null:t.data}last(){let t=this.tail.prep;return t==this.head?null:t.data}size(){return this._size}add(t=null){j(this,t,this.tail)}push(t=null){j(this,t,this.head.next)}insert(t=null,n=0){let l=this.head.next;for(;l!=this.tail&&!(n<l.order);)l=l.next;j(this,t,l,n)}pop(){z(this,this.head.next)}pull(){z(this,this.tail.prep)}remove(t=0){z(this,this._map.get(t))}iterator(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail&&!t(n.data);)n=n.next;for(this._lock=!1;this._delList.length>0;)F(this,this._delList.pop())}iteratorReverse(t=null){this._lock=!0;let n=this.tail.prep;for(;n!=this.head&&!t(n.data);)n=n.prep;for(this._lock=!1;this._delList.length>0;)F(this,this._delList.pop())}iteratorCompare(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail;){let l=n.next;for(;l!=this.tail&&!t(n.data,l.data);)l=l.next;n=n.next}for(this._lock=!1;this._delList.length>0;)F(this,this._delList.pop())}}function j(t=null,n=null,l=null,e=0){let r=l.prep,u=new T(n,r,l,e);r.next=u,l.prep=u,t._map.set(n.id,u),t._size++}function z(t=null,n=null){!t||!n||t._size<=0||(t._lock?t._delList.push(n):F(t,n))}function F(t=null,n=null){t._map.delete(keyId);let l=n.prep,e=n.next;l.next=e,e.prep=l,t._size--}function B(){return new U}var K=1;function X(){return K++}class Y{constructor(){this.id=X()}onStart(){}onUpdate(t=0){}onEnd(){}}var A=B();class q{constructor(t=null,n=0,l=0){this.data=t,this.width=n,this.height=l}}function J(t=null){return GetRectWidth(t.rect)}function N(t=null){return GetRectHeight(t.rect)}B();function Q(t=null){return t.spriteFrame}class V extends Y{onUpdate(t=0){P(),function(t=null){D(A,n=>{D(n.list,n=>{t(n)})})}(t=>{IsDisplayISOmetrics(t)?function(t=null){UpdateIsoPos(t),S(function(t=null){return t.isoPos}(t),Q(t))}(camera):function(t=null){S(function(t=null){return b(t.rectPosRel)}(t),Q(t))}(camera)})}}var Z=null;var $=B(),tt=null;function nt(t=!1){Z||(Z=new V),tt=Z}var lt=16,et=41,rt=0,ut=0;function it(t=null){D($,t=>{t.onStart()}),tt.onStart(),t.onStart(),function(t=null,n=null){t.start(n)}(a(),n=>{(rt+=n)>=lt&&(rt-=lt,t.onUpdate(n),D($,t=>{t.onUpdate(n)})),(ut+=n)>=et&&(ut-=et,tt.onUpdate(n))})}class st{constructor(t=0,n=0,l=null){this.width=t,this.height=n,this.data=l}}class ot{getData(t=null){}setData(t=null,n=null){}getGrid(t=null){}getGridMapWidth(){}getGridMapHeight(){}iterator(t=null){}}function at(t=null){return t.width}function ct(t=null){return.5*function(t=null){return t.getGridMapWidth()}(t)}function ht(t=null){return.5*function(t=null){return t.getGridMapHeight()}(t)}function dt(t=null,n=null){t.iterator(n)}class ft extends st{constructor(t=0,n=0,l=0,e=0,r=null){super(t,n,r),this.rowIndex=l,this.colIndex=e}}class pt extends ot{constructor(t=null,n=0,l=0,e=0,r=0,u=null){super(),this.pos=t,this.rows=n,this.columns=l,this.gridWidth=e,this.gridHeight=r,this.grids=u}getData(t=null){let n=gt(t,this);return n?n.data:null}setData(t=null,n=null){let l=gt(t,this);l&&(l.data=n)}getGrid(t=null){return gt(t,this)}getGridMapWidth(){return this.columns*this.gridWidth}getGridMapHeight(){return this.rows*this.gridHeight}iterator(t=null){this.grids.forEach(n=>{t(n)})}}function gt(t=null,n=null){let l=f(t,n.pos);if(!function(t=0,n=0,l=null){return t>0&&t<l.getGridMapWidth()&&n>0&&n<l.getGridMapHeight()}(l.x,l.y,n))return null;let e=H(l.x/gridmap.gridWidth),r=H(l.y/gridmap.gridHeight);return gridmap.grids[r*gridmap.columns+e]}function wt(t=null){return d(t.pos.x-ct(t),t.pos.y-ht(t))}function xt(t=null,n=null){!function(t=null){(t=Object.assign({columns:1,gridWidth:32,gridHeight:32,x:0,y:0,data:[0]},t)).gridWidth=t.gridWidth>0?t.gridWidth:32,t.gridHeight=t.gridHeight>0?t.gridHeight:32}(t);let l=t.columns,e=H(t.data.length/l);if(e*l!=t.data.length)return console.error("error param: len(grids): %d, columns: %d",t.data.length,l),null;let r=function(t=0,n=0,l=0,e=0,r=null){let u=[];for(let r=0;r<t;r++)for(let t=0;t<n;t++)u.push(new ft(l,e,r,t));return r=r||d(),new pt(r,t,n,l,e,u)}(e,l,t.gridWidth,t.gridHeight,d(t.x,t.y));return n&&dt(r,e=>{let u=t.data[e.rowIndex*l+e.colIndex];n(u,r,e)}),r}var mt=!1;var yt=null,vt=(new Date).getTime();var _t=new Map;class kt extends c{constructor(t=60,n=null,l=null){super(t),this.canvas=n,this.ctx=l}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawFrame(t=null,n=null){this.ctx.drawImage(function(t=null){return t.bitmap.data}(n),function(t=null){return t.bitmapX}(n),function(t=null){return t.bitmapY}(n),J(n),N(n),t.x-function(t=null){return GetRectHalfWidth(t.rect)}(n),t.y-function(t=null){return GetRectHalfHeight(t.rect)}(n),J(n),N(n))}drawRect(t=null,n=null){this.ctx.strokeRect(t.x-v(n),t.y-_(n),function(t=null){return t.width}(n),function(t=null){return t.height}(n))}drawLine(t=null,n=null){let l=this.ctx;l.beginPath(),l.moveTo(x1,y1),l.lineTo(x2,y2),l.stroke()}drawCircle(t=null,n=0){let l=this.ctx;l.beginPath(),l.arc(x,y,n,0,2*Math.PI),l.stroke()}loadResource(t="",n=null){let l=new Image;l.src=t,l.onload=function(){n(l)}}onKeyCallback(t=null,n=null){!function(t=null,n=null){window.addEventListener("keydown",n=>{let l=n.keyCode;_t.get(l)||(_t.set(l,1),t(n.keyCode))}),window.addEventListener("keyup",t=>{let l=t.keyCode;_t.delete(l),n(t.keyCode)})}(t,n)}onTouchCallback(t=null,n=null){!function(t=null,n=null,l=null){t.canvas.addEventListener("mousedown",t=>{let l=canvas.getBoundingClientRect(),e=t.clientX-l.left*(canvas.width/l.width),r=t.clientY-l.top*(canvas.height/l.height);n(e,r)}),t.canvas.addEventListener("mouseup",t=>{let n=canvas.getBoundingClientRect(),e=t.clientX-n.left*(canvas.width/n.width),r=t.clientY-n.top*(canvas.height/n.height);l(e,r)})}(this,t,n)}start(t=null){!function(t=0,n=null){mt=!1,setInterval(()=>{yt=(new Date).getTime(),mt||n(yt-vt),vt=(new Date).getTime()},t/1e3)}(this.fps,t)}}Math.PI;const bt=0;function Ht(t=null){let n=(t=t||{}).width;n=n||400;let l=t.height;l=l||400;let e=t.fps;e=e||60;let r=t.type,u=null;switch(r=r||bt){case bt:u=function(t=0,n=0,l=0){let e=document.getElementById("canvas");e.width=t,e.height=n;let r=e.getContext("2d");return r.strokeStyle="#0000ff",new kt(l,e,r)}(n,l,e);break;default:return null}return t.keyDownHandler&&t.keyUpHanler&&u.onKeyCallback(t.keyDownHandler,t.keyUpHanler),t.mousedownHandler&&t.mouseupHandler&&u.onMouseCallback(t.mousedownHandler,t.mouseupHandler),u}function Mt(t=null){let n=t["screen-width"];n=n&&n>0?n:800;let l=t["screen-height"];l=l&&l>0?l:800,function(t=null){i=t}(L(t.camera,n,l)),function(t=null){o=t}(Ht(t.engine)),nt(t.debug),t.collide&&OpenCollider(t.collide),function(t=null){if(!t||0==t.length)return;t.forEach(t=>{!function(t=null){let n=null;t.tilemap&&(n=xt(t.tilemap));let l=t.name;l&&function(t="",n=null,l=!0){u.get(t)&&l?console.error("data: %s exists.",t):u.set(t,n)}(l,n)}(t)})}(t.datas)}function Ct(t=null,n=null){(t=t||{}).textures?function(t=null,n=null,l=null){if(!t||0==t.length)return;let e=0;t.forEach(u=>{EngineLoadResource(a(),u.img,i=>{let s=function(t=null,n=0,l=0){return new q(t,n,l)}(i,i.width,i.height);u.frames.forEach(t=>{!function(t="",n=null,l=null){if(""==t||!n||!l)return console.err("error param."),null;let e=l.x,u=l.y,i=l.width,s=l.height;if(!i||!s)return null;let o=CreateSpriteFrame(t,n,e,u,i,s);!function(t="",n=null,l=!0){r.get(t)&&l?console.error("frame: %s exists.",t):r.set(t,n)}(t,o)}(t.name,s,t.textureArea)}),e++,n&&n(e),t.length==e&&l&&l()})})}(t.textures,null,()=>{Mt(t),it(n)}):(Mt(t),it(n))}class Rt{onStart(){}onUpdate(t=0){!function(){let t=function(t=""){return u.get(t)}("tile1");dt(t,n=>{let l=function(t=null,n=null){let l=wt(t);return d(l.x+t.gridWidth*(n.colIndex+.5),l.y+t.gridHeight*(n.rowIndex+.5))}(t,n),e=(function(t=null){at(t)}(n),at(n));E(l,m(e,e))})}()}}console.log(e),Ct(e,new Rt)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9yZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vb2Zmc2V0L2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9vZmZzZXQvcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9jYW1lcmEvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9jYW1lcmEvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2xpc3QvbGlua2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbXBvbmVudC9lY3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvdmlldy9jb21wb25lbnQvbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi92aWV3L2NvbXBvbmVudC9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvdmlldy9zeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zZXJ2aWNlL3N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29udGFpbmVyL2dyaWRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZ3JpZC90aWxlbWFwL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZ3JpZC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvd2ViL3Byb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvd2ViL21vZGVsLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2VuZ2luZS91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL3NlcnZpY2UvaW5pdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL2Jvb3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfc3ByaXRlRnJhbWVNYXAiLCJNYXAiLCJkYXRhTWFwIiwiZGVmYXVsdENhbWVyYSIsIkdldERlZmF1bHRDYW1lcmEiLCJjdXJyRW5naW5lIiwiR2V0RW5naW5lIiwiQWJzdHJhY3RFbmdpbmUiLCJbb2JqZWN0IE9iamVjdF0iLCJmcHMiLCJ0aGlzIiwidGljayIsImNlbnRlclBvcyIsInNwcml0ZUZyYW1lIiwicmVjdCIsImVuZFBvcyIsInJhZGl1cyIsImltZ1NyYyIsIm9uTG9hZENhbGxiYWNrIiwia2V5RG93bkNhbGxiYWNrIiwia2V5VXBDYWxsYmFjayIsInRvdWNoT25DYWxsYmFjayIsInRvdWNoT3ZlckNhbGxiYWNrIiwib25FbnRlckZyYW1lQ2FsbGJhY2siLCJQb3MiLCJ4IiwieSIsImdlb21ldHJpY19OZXdQb3MiLCJUb0xvY2F0ZVBvcyIsInRhcmdldFBvcyIsInJlZmVyUG9zIiwiVmVjIiwiTmV3VmVjIiwiUmVjdGFuZ2xlIiwid2lkdGgiLCJoZWlnaHQiLCJnZW9tZXRyaWNfTmV3UmVjdCIsImNvbnNvbGUiLCJlcnJvciIsImdlb21ldHJpY19HZXRSZWN0SGFsZldpZHRoIiwiZ2VvbWV0cmljX0dldFJlY3RIYWxmSGVpZ2h0IiwiUG9zT2Zmc2V0UmVsYXRpb24iLCJwb3MiLCJvZmZzZXQiLCJHZXRSZWFsUG9zIiwicG9zT2Zmc2V0UmVsIiwiR2V0SW50IiwibnVtIiwiTWF0aCIsInRydW5jIiwicmVjdF9SZWN0UG9zUmVsYXRpb24iLCJzdXBlciIsIk5ld1JlY3RQb3NSZWxhdGlvbiIsIkdldFJlY3RQb3NDZW50ZXIiLCJyZWN0UG9zVHVwbGUiLCJHZXRSZWN0UG9zU3RhcnQiLCJCYXNlQ2FtZXJhIiwicmVjdFBvc1JlbCIsInNjcmVlbk9mZnNldCIsIkNyZWF0ZUNhbWVyYVdpdGhEYXRhIiwib3B0aW9ucyIsInN0eWxlIiwiZGF0YXMiLCJycCIsIk5ld0NhbWVyYSIsIlRvQ2FtZXJhU3RhcnRQb3MiLCJjYW1lcmEiLCJHZXRDYW1lcmFTdGFydFBvcyIsIkNsZWFyIiwiZW5naW5lIiwiY2xlYXIiLCJFbmdpbmVDbGVhciIsIkRyYXdGcmFtZSIsImNQb3MiLCJkcmF3RnJhbWUiLCJFbmdpbmVEcmF3RnJhbWUiLCJEcmF3RnJhbWVJbkNhbWVyYSIsIkRyYXdSZWN0IiwiZHJhd1JlY3QiLCJFbmdpbmVEcmF3UmVjdCIsIkRyYXdSZWN0SW5DYW1lcmEiLCJBYnN0cmFjdExpc3QiLCJpZCIsImRhdGEiLCJvcmRlciIsImNhbGxiYWNrIiwiTGlzdEl0ZXJhdG9yIiwibGlzdCIsIml0ZXJhdG9yIiwiTGlua05vZGUiLCJwcmVwIiwibmV4dCIsImxpbmtsaXN0X0xpbmtMaXN0IiwiaGVhZCIsInRhaWwiLCJfbWFwIiwiX3NpemUiLCJfZGVsTGlzdCIsIl9jdXJyIiwiX2xvY2siLCJub2RlIiwiYWRkVG9MaW5rIiwicmVtb3ZlV2l0aENoZWNrIiwibGVuZ3RoIiwicmVtb3ZlTm9kZSIsInBvcCIsIm91dE5vZGUiLCJpbk5vZGUiLCJsaW5rIiwic2V0IiwidGFyZ2V0Tm9kZSIsInB1c2giLCJkZWxldGUiLCJrZXlJZCIsIk5ld0xpbmsiLCJlY3NfZW50aXR5SWQiLCJOZXdFbnRpdHlJZCIsIlN5c3RlbSIsImR0IiwibGF5ZXJMaXN0IiwiQml0bWFwIiwiR2V0U3ByaXRlRnJhbWVXaWR0aCIsIkdldFJlY3RXaWR0aCIsIkdldFNwcml0ZUZyYW1lSGVpZ2h0IiwiR2V0UmVjdEhlaWdodCIsIkdldERpc3BsYXlTcHJpdGVGcmFtZSIsImRpc3BsYXllciIsInN5c3RlbV9MYXllclJlbmRlclVwZGF0ZVN5c3RlbSIsImxheWVyIiwiZGlzcGxheVR1cGxlIiwiSXRlcmF0b3JMYXllcnMiLCJJc0Rpc3BsYXlJU09tZXRyaWNzIiwiVXBkYXRlSXNvUG9zIiwiaXNvUG9zIiwiR2V0RGlzcGxheUlzb1BvcyIsImRyYXdJc28iLCJHZXREaXNwbGF5Q2VudGVyUG9zIiwiZHJhdyIsInJlbmRlclN5cyIsImxvZ2ljU3lzdGVtcyIsInJlbmRlclN5c3RlbSIsImluaXRTeXN0ZW1zIiwiZGVidWciLCJsb2dpY1RpY2siLCJyZW5kZXJUaWNrIiwiX3QxIiwiX3QyIiwicnVuV2l0aFNjZW5lIiwic2NlbmUiLCJzeXN0ZW0iLCJvblN0YXJ0Iiwic3RhcnQiLCJFbmdpbmVTdGFydCIsIm9uVXBkYXRlIiwiQmFzZUdyaWQiLCJBYnN0cmFjdEdyaWRNYXAiLCJHZXRHcmlkV2lkdGgiLCJncmlkIiwiR2V0SGFsZkdyaWRNYXBXaWR0aCIsImdyaWRtYXAiLCJnZXRHcmlkTWFwV2lkdGgiLCJHZXRHcmlkTWFwV2lkdGgiLCJHZXRIYWxmR3JpZE1hcEhlaWdodCIsImdldEdyaWRNYXBIZWlnaHQiLCJHZXRHcmlkTWFwSGVpZ2h0IiwiR3JpZE1hcEl0ZXJhdG9yIiwiYmFzZV9UaWxlR3JpZCIsInJvd0luZGV4IiwiY29sSW5kZXgiLCJiYXNlX1RpbGVNYXAiLCJyb3dzIiwiY29sdW1ucyIsImdyaWRXaWR0aCIsImdyaWRIZWlnaHQiLCJncmlkcyIsImdldEdyaWRXaXRoUG9zIiwiZm9yRWFjaCIsInRpbGVtYXAiLCJ0UG9zIiwiY2hlY2tJbiIsImNvbHVtbiIsInJvdyIsIkdldFRpbGVtYXBTdGFydCIsIkNyZWF0ZVRpbGVNYXBXaXRoRGF0YSIsIm9uQ3JlYXRlIiwiYXNzaWduIiwiZGVmYXVsdFRpbGVNYXBEYXRhIiwiTmV3VGlsZU1hcCIsInZhbCIsIl9pc0VuZCIsInByb2Nlc3Nvcl9zdGFydCIsImxhc3QiLCJEYXRlIiwiZ2V0VGltZSIsIl9rZXlEb3duTWFwIiwibW9kZWxfSDVFbmdpbmUiLCJjYW52YXMiLCJjdHgiLCJjbGVhclJlY3QiLCJkcmF3SW1hZ2UiLCJiaXRtYXAiLCJHZXRTcHJpdGVGcmFtZUJpdG1hcERhdGEiLCJiaXRtYXBYIiwiR2V0U3ByaXRlRnJhbWVTdGFydFgiLCJiaXRtYXBZIiwiR2V0U3ByaXRlRnJhbWVTdGFydFkiLCJHZXRSZWN0SGFsZldpZHRoIiwiR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgiLCJHZXRSZWN0SGFsZkhlaWdodCIsIkdldFNwcml0ZUZyYW1lSGFsZkhlaWdodCIsInN0cm9rZVJlY3QiLCJnZW9tZXRyaWNfR2V0UmVjdFdpZHRoIiwiZ2VvbWV0cmljX0dldFJlY3RIZWlnaHQiLCJiZWdpblBhdGgiLCJtb3ZlVG8iLCJ4MSIsInkxIiwibGluZVRvIiwieDIiLCJ5MiIsInN0cm9rZSIsImFyYyIsIlBJIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvZGUiLCJrZXlDb2RlIiwiY2FudmFzT25LZXlDYWxsYmFjayIsIm1vdXNlZG93bkNhbGxiYWNrIiwibW91c2V1cENhbGxiYWNrIiwiZXZlbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJjYW52YXNPbk1vdXNlQ2FsbGJhY2siLCJvblVwZGF0ZUNhbGxiYWNrIiwic2V0SW50ZXJ2YWwiLCJydW5UaWNrMiIsIkVuZ2luZVdlYiIsIkNyZWF0ZUVuZ2luZVdpdGhEYXRhIiwidHlwZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJnZXRDb250ZXh0Iiwic3Ryb2tlU3R5bGUiLCJOZXdINUVuZ2luZSIsImtleURvd25IYW5kbGVyIiwia2V5VXBIYW5sZXIiLCJvbktleUNhbGxiYWNrIiwibW91c2Vkb3duSGFuZGxlciIsIm1vdXNldXBIYW5kbGVyIiwib25Nb3VzZUNhbGxiYWNrIiwiaW5pdEdhbWUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsIlNldERlZmF1bHRDYW1lcmEiLCJlbmdpbmVPYmoiLCJTZXRFbmdpbmUiLCJjb2xsaWRlIiwiT3BlbkNvbGxpZGVyIiwiZGF0YU9iaiIsImNoZWNrIiwiU2V0RGF0YSIsImluaXREYXRhT2JqIiwiaW5pdERhdGFzIiwiU3RhcnQiLCJ0ZXh0dXJlc0RhdGEiLCJPbmxvYWRDYWxsYmFjayIsIk9uQ29tcGxldGVDYWxsYmFjayIsIl9jb3VudCIsIkVuZ2luZUxvYWRSZXNvdXJjZSIsImJpdG1hcERhdGEiLCJDcmVhdGVCaXRtYXAiLCJmcmFtZXMiLCJmcmFtZURhdGEiLCJ0ZXh0dXJlQXJlYURhdGEiLCJlcnIiLCJmIiwiQ3JlYXRlU3ByaXRlRnJhbWUiLCJTZXRTcHJpdGVGcmFtZSIsImNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEiLCJ0ZXh0dXJlQXJlYSIsImxvYWRSZXNvdXJjZSIsIk15U2NlbmUiLCJHZXREYXRhIiwiR2V0VGlsZUdyaWRDZW50ZXIiLCJHZXRIYWxmR3JpZFdpZHRoIiwiZHJhd1RpbGUiLCJsb2ciXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEVBQUEsR0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxHQUFBLENBQ0FHLEVBQUFILEVBQ0FJLEdBQUEsRUFDQUgsUUFBQSxJQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxFQUFBLENBQTBDSyxZQUFBLEVBQUFDLElBQUFMLEtBSzFDWixFQUFBa0IsRUFBQSxTQUFBaEIsR0FDQSxvQkFBQWlCLGVBQUFDLGFBQ0FOLE9BQUFDLGVBQUFiLEVBQUFpQixPQUFBQyxZQUFBLENBQXdEQyxNQUFBLFdBRXhEUCxPQUFBQyxlQUFBYixFQUFBLGNBQWlEbUIsT0FBQSxLQVFqRHJCLEVBQUFzQixFQUFBLFNBQUFELEVBQUFFLEdBRUEsR0FEQSxFQUFBQSxJQUFBRixFQUFBckIsRUFBQXFCLElBQ0EsRUFBQUUsRUFBQSxPQUFBRixFQUNBLEtBQUFFLEdBQUEsaUJBQUFGLFFBQUFHLFdBQUEsT0FBQUgsRUFDQSxJQUFBSSxFQUFBWCxPQUFBWSxPQUFBLE1BR0EsR0FGQTFCLEVBQUFrQixFQUFBTyxHQUNBWCxPQUFBQyxlQUFBVSxFQUFBLFdBQXlDVCxZQUFBLEVBQUFLLFVBQ3pDLEVBQUFF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dlQsRUFBQXFULEdBMUJsQkcsQ0FBQU4sRUFBQWxULEtBQUFpTyxFQUFBaUYsRUFBQU8sZUFFQVosSUFDQUYsR0FDQUEsRUFBQUUsR0FFQUgsRUFBQTFLLFFBQUE2SyxHQUFBRCxHQUNBQSxRQXREQWMsQ0FBQXJPLEVBQUEsbUJBQ1l1TSxHQUFRdk0sR0FDUnVGLEdBQVlDLE1BR2hCK0csR0FBUXZNLEdBQ1J1RixHQUFZQyxJQ25CcEIsTUFBQThJLEdBQ0ExUixXQUdBQSxTQUFBOEcsRUFBQSxJQUtBLFdBQ0EsSUFBQTJELEV6QkhBLFNBQUExTSxFQUFBLElBQ0EsT0FBQTJCLEVBQUFyQixJQUFBTixHeUJFa0I0VCxDQUFPLFNBRXJCOUgsR0FBZVksRUFBQXBCLElBQ25CLElBQUFuSCxFUHVGQSxTQUFBdUksRUFBQSxLQUFBcEIsRUFBQSxNQUNBLElBQUFOLEVBQUErQixHQUFBTCxHQUNBLE9BQVd0SixFQUNYNEgsRUFBQTlILEVBQUF3SixFQUFBTCxXQUFBZixFQUFBVyxTQUFBLElBQ0FqQixFQUFBN0gsRUFBQXVKLEVBQUFKLFlBQUFoQixFQUFBVSxTQUFBLEtPM0ZrQjZILENBQWlCbkgsRUFBQXBCLEdBRW5DM0gsR1JNQSxTQUFBMkgsRUFBQSxNQUNBRCxHQUFBQyxHUVJ3QndJLENBQWdCeEksR0FDcEJELEdBQVlDLElBQ3hCaEYsRUFBUW5DLEVBQU1OLEVBQU9GLFFBWDdCb1EsSUFnQkFqUSxRQUFBa1EsSUFBZ0JwTixHQUNaNkwsR0FBTTdMLEVBQU8sSUFBQStNIiwiZmlsZSI6ImJ1bmRsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAxKTtcbiIsIi8qKlxyXG4gKiDlhajlsYDljZXkvovotYTmupBcclxuICovXHJcblxyXG5cclxuIC8qKlxyXG4gKiDojrflj5bnsr7ngbXluKdcclxuICogVE9ETyBcclxuICog5Y+v6IO95Lya5pS55oiQaWTlvaLlvI9cclxuICog5byV5YWl6buY6K6k6LWE5rqQ5py65Yi277yM5om+5LiN5Yiw5bin5pe255qE6buY6K6k56m65bin77yM5Y+v5Lul5piv5LiA5byg57qi5Y+J5Zu+54mH77yMXHJcbiAqL1xyXG52YXIgX3Nwcml0ZUZyYW1lTWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZShuYW1lID0gXCJcIiwgZGVmYXVsdFZhbHVlID0gdHJ1ZSl7XHJcbiAgICBsZXQgZiA9IF9zcHJpdGVGcmFtZU1hcC5nZXQobmFtZSk7XHJcbiAgICByZXR1cm4gZiA/IGYgOiBcclxuICAgICAgICBkZWZhdWx0VmFsdWUgPyBfc3ByaXRlRnJhbWVNYXAuZ2V0KFwiZGVmYWx1dFwiKSA6IG51bGw7XHJcbn1cclxuZnVuY3Rpb24gU2V0U3ByaXRlRnJhbWUobmFtZSA9IFwiXCIsIHNwcml0ZUZyYW1lID0gbnVsbCwgY2hlY2sgPSB0cnVlKXtcclxuICAgIGxldCBmID0gX3Nwcml0ZUZyYW1lTWFwLmdldChuYW1lKTtcclxuICAgIGlmKGYgJiYgY2hlY2spe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJmcmFtZTogJXMgZXhpc3RzLlwiLCBuYW1lKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBfc3ByaXRlRnJhbWVNYXAuc2V0KG5hbWUsIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDoh6rlrprkuYnmlbDmja5cclxuICovXHJcbnZhciBkYXRhTWFwID0gbmV3IE1hcCgpO1xyXG5mdW5jdGlvbiBHZXREYXRhKG5hbWUgPSBcIlwiKXtcclxuICAgIHJldHVybiBkYXRhTWFwLmdldChuYW1lKTtcclxufVxyXG5mdW5jdGlvbiBTZXREYXRhKG5hbWUgPSBcIlwiLCBkYXRhID0gbnVsbCwgY2hlY2sgPSB0cnVlKXtcclxuICAgIGxldCBkID0gZGF0YU1hcC5nZXQobmFtZSk7XHJcbiAgICBpZihkICYmIGNoZWNrKXtcclxuICAgICAgICBjb25zb2xlLmVycm9yKFwiZGF0YTogJXMgZXhpc3RzLlwiLCBuYW1lKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBkYXRhTWFwLnNldChuYW1lLCBkYXRhKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDmkYTlg4/mnLpcclxuICovXHJcbnZhciBkZWZhdWx0Q2FtZXJhID0gbnVsbDtcclxuZnVuY3Rpb24gU2V0RGVmYXVsdENhbWVyYShjYW1lcmEgPSBudWxsKXtcclxuICAgIGRlZmF1bHRDYW1lcmEgPSBjYW1lcmE7XHJcbn1cclxuZnVuY3Rpb24gR2V0RGVmYXVsdENhbWVyYSgpe1xyXG4gICAgcmV0dXJuIGRlZmF1bHRDYW1lcmE7XHJcbn1cclxuXHJcbnZhciBjYW1lcmFzID0gW107XHJcbmZ1bmN0aW9uIEFkZENhbWVyYShjYW1lcmEgPSBudWxsKXtcclxuICAgIGNhbWVyYXMucHVzaChjYW1lcmEpO1xyXG59XHJcbmZ1bmN0aW9uIEdldENhbWVyYXMoKXtcclxuICAgIHJldHVybiBjYW1lcmFzO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWklumDqOW8leaTjlxyXG4gKi9cclxudmFyIGN1cnJFbmdpbmUgPSBudWxsO1xyXG5mdW5jdGlvbiBTZXRFbmdpbmUoZW5naW5lT2JqID0gbnVsbCl7XHJcbiAgICBjdXJyRW5naW5lID0gZW5naW5lT2JqO1xyXG59XHJcbmZ1bmN0aW9uIEdldEVuZ2luZSgpe1xyXG4gICAgcmV0dXJuIGN1cnJFbmdpbmU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlvZPliY3lnLrmma9cclxuICovXHJcbnZhciBjdXJyU2NlbmUgPSBudWxsO1xyXG5mdW5jdGlvbiBTZXRTY2VuZShzY2VuZSA9IG51bGwpe1xyXG4gICAgY3VyclNjZW5lID0gc2NlbmU7XHJcbn1cclxuZnVuY3Rpb24gR2V0U2NlbmUoKXtcclxuICAgIHJldHVybiBjdXJyU2NlbmU7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBHZXRTcHJpdGVGcmFtZSwgU2V0U3ByaXRlRnJhbWUsIEdldERhdGEsIFNldERhdGEsIFxyXG4gICAgU2V0RGVmYXVsdENhbWVyYSwgR2V0RGVmYXVsdENhbWVyYSwgQWRkQ2FtZXJhLCBHZXRDYW1lcmFzLFxyXG4gICAgU2V0RW5naW5lLCBHZXRFbmdpbmUsIFNldFNjZW5lLCBHZXRTY2VuZVxyXG59IiwiXHJcbi8qKlxyXG4gKiDlpJbpg6jlvJXmk47mir3osaHnsbtcclxuICogeCwgeSDpg73mmK/lsY/luZXlnZDmoIfvvIzms6jmhI9cclxuICovXHJcbmNsYXNzIEFic3RyYWN0RW5naW5lIHtcclxuICAgIGNvbnN0cnVjdG9yKGZwcyA9IDYwKXtcclxuICAgICAgICB0aGlzLmZwcyA9IGZwcztcclxuICAgICAgICB0aGlzLnRpY2sgPSAxMDAwIC8gZnBzO1xyXG4gICAgfVxyXG5cclxuICAgIC8v5riF6Zmk55S75biDXHJcbiAgICBjbGVhcigpe31cclxuXHJcbiAgICAvL+eUu+W4p1xyXG4gICAgZHJhd0ZyYW1lKGNlbnRlclBvcyA9IG51bGwsIHNwcml0ZUZyYW1lID0gbnVsbCl7fVxyXG5cclxuICAgIC8v55S755+p5b2iXHJcbiAgICBkcmF3UmVjdChjZW50ZXJQb3MgPSBudWxsLCByZWN0ID0gbnVsbCl7fVxyXG5cclxuICAgIC8v55S757q/5q61XHJcbiAgICBkcmF3TGluZShjZW50ZXJQb3MgPSBudWxsLCBlbmRQb3MgPSBudWxsKXt9XHJcblxyXG4gICAgLy/nlLvlnIZcclxuICAgIGRyYXdDaXJjbGUoY2VudGVyUG9zID0gbnVsbCwgcmFkaXVzID0gMCl7fVxyXG5cclxuICAgIC8vaW1nU3Jj5piv5Zu+5YOP5Zyw5Z2AXHJcbiAgICBsb2FkUmVzb3VyY2UoaW1nU3JjID0gXCJcIiwgb25Mb2FkQ2FsbGJhY2sgPSBudWxsKXt9XHJcblxyXG4gICAgb25LZXlDYWxsYmFjayhrZXlEb3duQ2FsbGJhY2sgPSBudWxsLCBrZXlVcENhbGxiYWNrID0gbnVsbCl7fVxyXG4gICAgb25Ub3VjaENhbGxiYWNrKHRvdWNoT25DYWxsYmFjayA9IG51bGwsIHRvdWNoT3ZlckNhbGxiYWNrID0gbnVsbCl7fVxyXG4gICAgc3RhcnQob25FbnRlckZyYW1lQ2FsbGJhY2sgPSBudWxsKXt9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZUNsZWFyKGVuZ2luZSA9IG51bGwpe1xyXG4gICAgZW5naW5lLmNsZWFyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZURyYXdGcmFtZShlbmdpbmUgPSBudWxsLCBjZW50ZXJQb3MgPSBudWxsLCBzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgZW5naW5lLmRyYXdGcmFtZShjZW50ZXJQb3MsIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lRHJhd1JlY3QoZW5naW5lID0gbnVsbCwgY2VudGVyUG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgZW5naW5lLmRyYXdSZWN0KGNlbnRlclBvcywgcmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZURyYXdMaW5lKGVuZ2luZSA9IG51bGwsIGNlbnRlclBvcyA9IG51bGwsIGVuZFBvcyA9IG51bGwpe1xyXG4gICAgZW5naW5lLmRyYXdMaW5lKGNlbnRlclBvcywgZW5kUG9zKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lRHJhd0NpcmNsZShlbmdpbmUgPSBudWxsLCBjZW50ZXJQb3MgPSBudWxsLCByYWRpdXMgPSBudWxsKXtcclxuICAgIGVuZ2luZS5kcmF3Q2lyY2xlKGNlbnRlclBvcywgcmFkaXVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lTG9hZFJlc291cmNlKGVuZ2luZSA9IG51bGwsIGltZ1NyYyA9IFwiXCIsIG9uTG9hZENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBlbmdpbmUubG9hZFJlc291cmNlKGltZ1NyYywgb25Mb2FkQ2FsbGJhY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVPbktleUNhbGxiYWNrKGVuZ2luZSA9IG51bGwsIGtleURvd25DYWxsYmFjayA9IG51bGwsIGtleVVwQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGVuZ2luZS5vbktleUNhbGxiYWNrKGtleURvd25DYWxsYmFjaywga2V5VXBDYWxsYmFjayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZU9uVG91Y2hDYWxsYmFjayhlbmdpbmUgPSBudWxsLCB0b3VjaE9uQ2FsbGJhY2sgPSBudWxsLCB0b3VjaE92ZXJDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZW5naW5lLm9uVG91Y2hDYWxsYmFjayh0b3VjaE9uQ2FsbGJhY2ssIHRvdWNoT3ZlckNhbGxiYWNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lU3RhcnQoZW5naW5lID0gbnVsbCwgb25FbnRlckZyYW1lQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGVuZ2luZS5zdGFydChvbkVudGVyRnJhbWVDYWxsYmFjayk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBYnN0cmFjdEVuZ2luZSwgRW5naW5lQ2xlYXIsIFxyXG4gICAgRW5naW5lRHJhd0ZyYW1lLCBFbmdpbmVEcmF3UmVjdCwgRW5naW5lRHJhd0xpbmUsIEVuZ2luZURyYXdDaXJjbGUsXHJcbiAgICBFbmdpbmVMb2FkUmVzb3VyY2UsIEVuZ2luZU9uS2V5Q2FsbGJhY2ssIEVuZ2luZU9uVG91Y2hDYWxsYmFjaywgRW5naW5lU3RhcnRcclxufSIsIi8qKlxyXG4gKiDln7rnoYAyROWdkOagh1xyXG4gKi9cclxuY2xhc3MgUG9zIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdQb3MoeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiBuZXcgUG9zKHgsIHkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVQb3MocG9zID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIHBvcy54ID0geDtcclxuICAgIHBvcy55ID0geTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiuoeeul+ebuOWvueWdkOagh1xyXG4gKiDku6V0YXJnZXRQb3PkuLrlh4bvvIzorqHnrpdyZWZlclBvc+S6jnRhcmdldFBvc+eahOebuOWvueWdkOagh1xyXG4gKiDkuL7kvovvvJpcclxuICogICAgICDmkYTlg4/mnLrkvY3kuo4oNTAsIDUwKeWkhO+8jHJlZmVyUG9zXHJcbiAqICAgICAg5Y2V5L2NQeS9jeS6jigxMjAsIDMwKeWkhO+8jHRhcmdldFBvc1xyXG4gKiAgICAgIOmCo+S5iO+8jOWNleS9jUHlnKjmkYTlg4/mnLrnmoQoMTIwLTUwLCAzMC01MCnlpIRcclxuICovXHJcbmZ1bmN0aW9uIFRvTG9jYXRlUG9zKHRhcmdldFBvcyA9IG51bGwsIHJlZmVyUG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHRhcmdldFBvcy54IC0gcmVmZXJQb3MueCxcclxuICAgICAgICB0YXJnZXRQb3MueSAtIHJlZmVyUG9zLnkpO1xyXG59XHJcblxyXG4vKipcclxuICog5Z+656GA5ZCR6YePXHJcbiAqIGRpc3RhbmNlOiDot53nprvns7vmlbDvvIzms6jmhI/kuI3mmK/lrp7pmYXot53nprvvvIzlj6rnlKjkuo7mr5TovoPot53nprvlpKflsI9cclxuICovXHJcbmNsYXNzIFZlYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICAvL3RoaXMuZGlzdGFuY2UgPSB4ICogeCArIHkgKiB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdWZWMoeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiBuZXcgVmVjKHgsIHkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdWZWNXaXRoUG9zKHBvc1N0YXJ0ID0gbnVsbCwgcG9zRW5kID0gbnVsbCl7XHJcbiAgICByZXR1cm4gbmV3IE5ld1ZlYyhwb3NFbmQueCAtIHBvc1N0YXJ0LngsIHBvc0VuZC55IC0gcG9zU3RhcnQueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZVZlYyh2ZWMgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgdmVjLnggPSB4O1xyXG4gICAgdmVjLnkgPSB5O1xyXG4gICAgLy92ZWMuZGlzdGFuY2UgPSB4ICogeCArIHkgKiB5O1xyXG59XHJcblxyXG4vKipcclxuICog6Led56a757O75pWwXHJcbiAqIOazqOaEj++8jOW5tumdnuWunumZhei3neemu+WAvO+8jOWboOS4uuW8gOagueWPt+iuoeeul+a2iOiAl+Wkp1xyXG4gKiDoi6Xlj6rnlKjkuo7lr7nmr5TlpKflsI/vvIzmraTns7vmlbDljbPlj69cclxuICovXHJcbmZ1bmN0aW9uIEdldFZlY0Rpc3RhbmNlKHZlYyA9IG51bGwpe1xyXG4gICAgLy9yZXR1cm4gdmVjLmRpc3RhbmNlO1xyXG4gICAgcmV0dXJuIHZlYy54ICogdmVjLnggKyB2ZWMueSAqIHZlYy55O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIDJE5Z+656GA55+p5b2i77yM5Y+q5pyJ5a696auYXHJcbiAqIHdpZHRoLCBoZWlnaHQgOiDlrr3pq5hcclxuICovXHJcbmNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLpu5jorqTlsYXkuK3kuo5vd25lclxyXG4gKiDmraTmlrnms5XkuIDoiKznlLFjb2xsaWRlcuiwg+eUqFxyXG4gKi9cclxuZnVuY3Rpb24gTmV3UmVjdCh3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgaWYod2lkdGggPT0gMCB8fCBoZWlnaHQgPT0gMCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcInJlY3QgcGFyYW0gZXJyb3IuIHdpZHRoOiVkLCBoZWlnaHQ6JWRcIiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlUmVjdFNpemUocmVjdCA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICByZWN0LndpZHRoID0gd2lkdGg7XHJcbiAgICByZWN0LmhlaWdodCA9IGhlaWdodDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RXaWR0aChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC53aWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGFsZldpZHRoKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LndpZHRoICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodCAqIDAuNTtcclxufVxyXG5cclxuLy/msYLpnaLnp69cclxuZnVuY3Rpb24gR2V0UmVjdEFyZWEocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggKiByZWN0LmhlaWdodDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWchuW9olxyXG4gKi9cclxuY2xhc3MgQ2lyY2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHJhZGl1cyA9IDApIHtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3Q2lyY2xlKHJhZGl1cyA9IDApe1xyXG4gICAgaWYocmFkaXVzID09IDApe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjaXJjbGUgcGFyYW0gZXJyb3IuIHJhZGl1czolZFwiLCByYWRpdXMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDaXJjbGUocmFkaXVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2lyY2xlUmFkaXVzKGNpcmNsZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGNpcmNsZS5yYWRpdXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZUNpcmNsZShjaXJjbGUgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgIGNpcmNsZS5yYWRpdXMgPSByYWRpdXM7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdQb3MsIFVwZGF0ZVBvcywgVG9Mb2NhdGVQb3MsIFxyXG4gICAgTmV3VmVjLCBOZXdWZWNXaXRoUG9zLCBVcGRhdGVWZWMsIEdldFZlY0Rpc3RhbmNlLFxyXG4gICAgTmV3UmVjdCwgVXBkYXRlUmVjdFNpemUsIEdldFJlY3RXaWR0aCwgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhlaWdodCwgR2V0UmVjdEhhbGZIZWlnaHQsIEdldFJlY3RBcmVhLFxyXG4gICAgTmV3Q2lyY2xlLCBHZXRDaXJjbGVSYWRpdXMsIFVwZGF0ZUNpcmNsZVxyXG59IiwiaW1wb3J0IHsgTmV3UG9zLCBOZXdWZWMgfSBmcm9tIFwiLi4vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxuLyoqXHJcbiAqIFRPRE9cclxuICog5YWI5YaZ77yM5YaN5oWi5oWi6KeE6IyDXHJcbiAqIOi/memHjOS4jeiDveaciXBvc0Nvbe+8jOWboOS4uui/meaYr+WfuuehgOWxglxyXG4gKiBib3gtY29sbGlkZXLnlKjliLBJc1JlY3RzQ3Jvc3NXaXRoVmVj5p2l5qOA5rWL56Kw5pKe77yM6ZyA6KaB6YeN5paw6ICD6JmRXHJcbiAqIOimgeS5iOWwseWBmuaIkGxpYlxyXG4gKi9cclxuY2xhc3MgUG9zT2Zmc2V0UmVsYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IocG9zID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7ICAgICAgIC8v6YCa5bi45piv5oyH5pi+56S65pe255qE5YGP56e76YeP77yM5ZKMd29ybGRQb3Pml6DlhbNcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3UG9zT2Zmc2V0UmVsYXRpb24ocG9zID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgPyBvZmZzZXQgOiBOZXdWZWMoKTtcclxuICAgIHJldHVybiBuZXcgUG9zT2Zmc2V0UmVsYXRpb24ocG9zLCBvZmZzZXQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRQb3MocG9zT2Zmc2V0UmVsID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcG9zT2Zmc2V0UmVsLnBvcztcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0T2Zmc2V0KHBvc09mZnNldFJlbCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHBvc09mZnNldFJlbC5vZmZzZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlYWxQb3MocG9zT2Zmc2V0UmVsID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvc09mZnNldFJlbC5wb3MueCArIHBvc09mZnNldFJlbC5vZmZzZXQueCxcclxuICAgICAgICBwb3NPZmZzZXRSZWwucG9zLnkgKyBwb3NPZmZzZXRSZWwub2Zmc2V0LnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVPZmZzZXQocG9zT2Zmc2V0UmVsID0gbnVsbCwgeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwKXtcclxuICAgIHBvc09mZnNldFJlbC5vZmZzZXQueCA9IHhPZmZzZXQ7XHJcbiAgICBwb3NPZmZzZXRSZWwub2Zmc2V0LnkgPSB5T2Zmc2V0O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgUG9zT2Zmc2V0UmVsYXRpb24sIE5ld1Bvc09mZnNldFJlbGF0aW9uLCBHZXRQb3MsIEdldE9mZnNldCxcclxuICAgIEdldFJlYWxQb3MsIFVwZGF0ZU9mZnNldFxyXG59IiwiY29uc3QgTUFYX0lOVCA9IDIxNDc0ODM2NDcgICAvLyAgMl4zMSAtIDEgPSAyMTQ3NDgzNjQ3XHJcbmZ1bmN0aW9uIEdldE1heEludCgpe1xyXG4gICAgcmV0dXJuIE1BWF9JTlQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFicyh2YWwgPSAwKXtcclxuICAgIHJldHVybiB2YWwgPj0gMCA/IHZhbCA6IC12YWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1heCh2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPiB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1pbih2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPCB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuYvliY3vvJp4IDwgMCA/IE1hdGguY2VpbCh4KSA6IE1hdGguZmxvb3IoeClcclxuICog546w5Zyo77yaTWF0aC50cnVuYyh4KVxyXG4gKiBAcGFyYW0geyp9IG51bSBcclxuICovXHJcbmZ1bmN0aW9uIEdldEludChudW0gPSAwKXtcclxuICAgIHJldHVybiBNYXRoLnRydW5jKG51bSk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIEdldE1heEludCwgQWJzLCBNYXgsIE1pbiwgR2V0SW50XHJcbn0iLCJpbXBvcnQgeyBOZXdWZWMsIE5ld1BvcywgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQgfSBmcm9tIFwiLi4vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBHZXRSZWFsUG9zLCBQb3NPZmZzZXRSZWxhdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcclxuaW1wb3J0IHsgQWJzIH0gZnJvbSBcIi4uL3N0cnVjdHVyZS9tYXRoXCI7XHJcblxyXG4vKipcclxuICog55+p5b2i5LiO5L2N572u55qE5YWz57O75YWD5Lu2XHJcbiAqL1xyXG5jbGFzcyBSZWN0UG9zUmVsYXRpb24gZXh0ZW5kcyBQb3NPZmZzZXRSZWxhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIocG9zLCBvZmZzZXQpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1JlY3RQb3NSZWxhdGlvbihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgPyBvZmZzZXQgOiBOZXdWZWMoKTtcclxuICAgIHJldHVybiBuZXcgUmVjdFBvc1JlbGF0aW9uKHBvcywgb2Zmc2V0LCByZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0UG9zVHVwbGUucmVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRSZWFsUG9zKHJlY3RQb3NUdXBsZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NTdGFydChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBwb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvcy54IC0gR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUucmVjdCksXHJcbiAgICAgICAgcG9zLnkgLSBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUucmVjdClcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NFbmQocmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBwb3MueCArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlLnJlY3QpLFxyXG4gICAgICAgIHBvcy55ICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlLnJlY3QpXHJcbiAgICApO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOebruWJjeeahOacuuWItu+8jOWPr+S7peS9v+eUqOefqeW9ouS4reW/g+eCueS5i+mXtOeahOi3neemu+WIpOaWreaYr+WQpuebuOS6pFxyXG4gKi9cclxuZnVuY3Rpb24gSXNSZWN0c0Nyb3NzKHJlY3RQb3NUdXBsZTEgPSBudWxsLCByZWN0UG9zVHVwbGUyID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgcG9zMiA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMik7XHJcbiAgICBsZXQgdyA9IEFicyhwb3MxLnggLSBwb3MyLngpO1xyXG4gICAgaWYodyA+IEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGggPSBBYnMocG9zMS55IC0gcG9zMi55KTtcclxuICAgIGlmKGggPiBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOmcgOmHjeaWsOiuvuiuoVxyXG4gKiBAcGFyYW0geyp9IHJlY3RQb3NUdXBsZTEgXHJcbiAqIEBwYXJhbSB7Kn0gcmVjdFBvc1R1cGxlMiBcclxuICovXHJcbmZ1bmN0aW9uIElzUmVjdHNDcm9zc1dpdGhWZWMocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKSB7XHJcbiAgICBsZXQgcnAxID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBwb3MxID0gTmV3UG9zKFxyXG4gICAgICAgIHJwMS54ICsgcmVjdFBvc1R1cGxlMS51bml0VmVjLngsXHJcbiAgICAgICAgcnAxLnkgKyByZWN0UG9zVHVwbGUxLnVuaXRWZWMueVxyXG4gICAgKTtcclxuICAgIGxldCBycDIgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IHBvczIgPSBOZXdQb3MoXHJcbiAgICAgICAgcnAyLnggKyByZWN0UG9zVHVwbGUyLnVuaXRWZWMueCxcclxuICAgICAgICBycDIueSArIHJlY3RQb3NUdXBsZTIudW5pdFZlYy55XHJcbiAgICApO1xyXG4gICAgbGV0IHcgPSBBYnMocG9zMS54IC0gcG9zMi54KTtcclxuICAgIGlmKHcgPiBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCBoID0gQWJzKHBvczEueSAtIHBvczIueSk7XHJcbiAgICBpZihoID4gR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogVE9ETyDmnInlvoXkvJjljJZcclxuICog5Lik5Liq55+p5b2i5piv5ZCm55u45Lqk77yM5Z+656GA56Kw5pKe5qOA5rWL77yI6ZyA6KaB5YWI5pu05paw5Z2Q5qCH77yJXHJcbiAqIOWOn+eQhu+8mlxyXG4gKiAg5bemeO+8jOWPluS4pOiAheacgOWkp+WAvFxyXG4gKiAg5Y+zeO+8jOWPluS4pOiAheacgOWwj+WAvFxyXG4gKiAg5aaC5p6c5Y+zeOWkp+S6juW3pnjvvIzliJl46L2055u45LqkXHJcbiAqIFnlkIznkIbvvJpcclxuICogIOS4innvvIzlj5bkuKTogIXmnIDlpKflgLxcclxuICogIOS4i3nvvIzlj5bkuKTogIXmnIDlsI/lgLxcclxuICogIOWmguaenOS4i3nlpKfkuo7kuIp577yM5YiZeei9tOebuOS6pFxyXG4gKiAg55uu5YmN77yM5Y2z5L2/5Lik6L656YeN5Y+g77yM5Lmf5LiN566X55u45Lqk77yM6L+Z5qC36IO96YG/5YWN5b6I5aSa6Zeu6aKYXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdJbm5lclJlY3QocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKXtcclxuICAgIGlmKCFJc1JlY3RzQ3Jvc3MocmVjdFBvc1R1cGxlMSwgcmVjdFBvc1R1cGxlMikpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGFydDEgPSBHZXRSZWN0UG9zU3RhcnQocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgc3RhcnQyID0gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IGVuZDEgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IGVuZDIgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTIpO1xyXG5cclxuICAgIGxldCByMXgxID0gc3RhcnQxLng7XHJcbiAgICBsZXQgcjJ4MSA9IHN0YXJ0Mi54O1xyXG4gICAgbGV0IG1heFgxID0gcjF4MSA+IHIyeDEgPyByMXgxIDogcjJ4MTtcclxuXHJcbiAgICBsZXQgcjF4MiA9IGVuZDEueDtcclxuICAgIGxldCByMngyID0gZW5kMi54O1xyXG4gICAgbGV0IG1pblgyID0gcjF4MiA8IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IHN0YXJ0MS55O1xyXG4gICAgbGV0IHIyeTEgPSBzdGFydDIueTtcclxuICAgIGxldCBtYXhZMSA9IHIxeTEgPiByMnkxID8gcjF5MSA6IHIyeTE7XHJcblxyXG4gICAgbGV0IHIxeTIgPSBlbmQxLnk7XHJcbiAgICBsZXQgcjJ5MiA9IGVuZDIueTtcclxuICAgIGxldCBtaW5ZMiA9IHIxeTIgPCByMnkyID8gcjF5MiA6IHIyeTI7XHJcblxyXG4gICAgbGV0IHdpZHRoID0gbWluWDIgLSBtYXhYMTtcclxuICAgIGxldCBoZWlnaHQgPSBtaW5ZMiAtIG1heFkxO1xyXG4gICAgbGV0IHJlY3QgPSBOZXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXdSZWN0UG9zVHVwbGUoMCwgMCwgXHJcbiAgICAgICAgTmV3UG9zKFxyXG4gICAgICAgICAgICBtYXhYMSArIEdldFJlY3RIYWxmV2lkdGgocmVjdCksXHJcbiAgICAgICAgICAgIG1heFkxICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdClcclxuICAgICAgICApLCBOZXdWZWMoKSwgcmVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkv67lpI3kvY3nva7vvIzmoLnmja5yZWN055qE5Lit5b+D5L2N572u5L+u5aSNdW5pdC5wb3NcclxuICovXHJcbmZ1bmN0aW9uIEZpeFVuaXRQb3MocmVjdFBvc1R1cGxlID0gbnVsbCwgcmVjdFggPSAwLCByZWN0WSA9IDApe1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueCA9IHJlY3RYIC0gcmVjdFBvc1R1cGxlLm9mZnNldC54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLm9mZnNldC55O1xyXG59XHJcblxyXG5mdW5jdGlvbiBGaXhVbml0VmVjKHJlY3RQb3NUdXBsZSA9IG51bGwsIHJlY3RYID0gMCwgcmVjdFkgPSAwKSB7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFZlYy54ID0gcmVjdFggLSByZWN0UG9zVHVwbGUudW5pdFBvcy54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRWZWMueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLnVuaXRQb3MueTsgICAgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja51bml05L2N572u5pu05pawcmVjdOS9jee9ru+8iOS4gOiIrOWcuuaZr+iwg+eUqO+8iVxyXG4gKi9cclxuZnVuY3Rpb24gRml4UmVjdFBvcyhyZWN0UG9zVHVwbGUgPSBudWxsLCB1bml0UG9zWCA9IDAsIHVuaXRQb3NZID0gMCl7XHJcbiAgICByZWN0UG9zVHVwbGUuY2VudGVyLnggPSB1bml0UG9zWCArIHJlY3RQb3NUdXBsZS5vZmZzZXQueDtcclxuICAgIHJlY3RQb3NUdXBsZS5jZW50ZXIueSA9IHVuaXRQb3NZICsgcmVjdFBvc1R1cGxlLm9mZnNldC55O1xyXG59XHJcblxyXG4vKipcclxuICogaW5uZXIucmVjdOS4jeWHhui2iuWHum91dHRlci5yZWN077yM5L+u5q2jaW5ucmVyLnBvc+S9jee9rlxyXG4gKiBpbm5lcuWSjG91dHRlcumDveaYr1JlY3RQb3NUdXBsZVxyXG4gKi9cclxuZnVuY3Rpb24gRml4SW5SZWN0KG91dHRlciA9IG51bGwsIGlubmVyID0gbnVsbCl7XHJcbiAgICBsZXQgY2VudGVyUG9zID0gR2V0UmVjdFBvc0NlbnRlcihpbm5lcik7XHJcbiAgICBsZXQgaW5uZXJTdGFydFBvcyA9IEdldFJlY3RQb3NTdGFydChpbm5lcik7XHJcbiAgICBsZXQgaW5uZXJFbmRQb3MgPSBHZXRSZWN0UG9zRW5kKGlubmVyKTtcclxuICAgIGxldCBvdXR0ZXJTdGFydFBvcyA9IEdldFJlY3RQb3NTdGFydChvdXR0ZXIpO1xyXG4gICAgbGV0IG91dHRlckVuZFBvcyA9IEdldFJlY3RQb3NFbmQob3V0dGVyKTtcclxuXHJcbiAgICBsZXQgeCA9IGNlbnRlclBvcy54O1xyXG4gICAgaWYoaW5uZXJTdGFydFBvcy54IDwgb3V0dGVyU3RhcnRQb3MueCl7XHJcbiAgICAgICAgeCA9IG91dHRlclN0YXJ0UG9zLnggKyBHZXRSZWN0SGFsZldpZHRoKGlubmVyKTtcclxuICAgIH1lbHNlIGlmKGlubmVyRW5kUG9zLnggPiBvdXR0ZXJFbmRQb3MueCl7XHJcbiAgICAgICAgeCA9IG91dHRlckVuZFBvcy54IC0gR2V0UmVjdEhhbGZXaWR0aChpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHkgPSBjZW50ZXJQb3MueTtcclxuICAgIGlmKGlubmVyU3RhcnRQb3MueSA8IG91dHRlclN0YXJ0UG9zLnkpe1xyXG4gICAgICAgIHkgPSBvdXR0ZXJTdGFydFBvcy55ICsgR2V0UmVjdEhhbGZIZWlnaHQoaW5uZXIpO1xyXG4gICAgfWVsc2UgaWYoaW5uZXJFbmRQb3MueSA+IG91dHRlckVuZFBvcy55KXtcclxuICAgICAgICB5ID0gb3V0dGVyU3RhcnRQb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KGlubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBGaXhVbml0UG9zKGlubmVyLCB4LCB5KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlvZPliY3kvY3nva7mmK/lkKblnKjnn6nlvaLkuK3vvIjlkIzmoLfpnIDopoHlhYjmm7TmlrByZWN05L2N572u77yJXHJcbiAqIOWMheWQq+i4qee6v+aDheWGtVxyXG4gKi9cclxuZnVuY3Rpb24gSXNQb3NJblJlY3QocG9zID0gbnVsbCwgcmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnRQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICBsZXQgZW5kUG9zID0gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIHBvcy54ID49IHN0YXJ0UG9zLnggJiYgcG9zLnggPD0gZW5kUG9zLnhcclxuICAgICAgICAmJiBwb3MueSA+PSBzdGFydFBvcy55ICYmIHBvcy55IDw9IGVuZFBvcy55O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3UmVjdFBvc1JlbGF0aW9uLCBHZXRSZWN0LCBHZXRSZWN0UG9zQ2VudGVyLCBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3RQb3NFbmQsXHJcbiAgICBJc1JlY3RzQ3Jvc3MsIElzUG9zSW5SZWN0XHJcbn1cclxuXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLSDku6XkuIvlvoXlrppcclxuXHJcbi8qKlxyXG4gKiDmoLnmja7nur/mrrXkvZznn6nlvaJcclxuICovXHJcbmZ1bmN0aW9uIE5ld091dHRlclJlY3QoeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwKXtcclxuICAgIGxldCB3aWR0aCA9IHgyIC0geDE7XHJcbiAgICBsZXQgaGVpZ2h0ID0geTIgLSB5MTtcclxuICAgIGlmKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGNlbnRlclggPSB4MSArICh4MiAtIHgxKSAqIDAuNTtcclxuICAgIGxldCBjZW50ZXJZID0geTEgKyAoeTIgLSB5MSkgKiAwLjU7XHJcbiAgICBsZXQgcmVjdCA9IE5ld1JlY3REZWZhdWx0KHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgVXBkYXRlUmVjdFBvcyhyZWN0LCBjZW50ZXJYLCBjZW50ZXJZKTtcclxuICAgIHJldHVybiByZWN0O1xyXG59XHJcblxyXG4vKipcclxuICog5Lik5Liq55+p5b2i6Ze055qE5aSW5o6l55+p5b2iXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdPdXR0ZXJSZWN0QnlSZWN0cyhyZWN0MSA9IG51bGwsIHJlY3QyID0gbnVsbCl7XHJcbiAgICBsZXQgcjF4MSA9IEdldFJlY3RYMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ4MSA9IEdldFJlY3RYMShyZWN0Mik7XHJcbiAgICBsZXQgeDEgPSByMXgxIDwgcjJ4MSA/IHIxeDEgOiByMngxO1xyXG4gICAgbGV0IHIxeDIgPSBHZXRSZWN0WDIocmVjdDEpO1xyXG4gICAgbGV0IHIyeDIgPSBHZXRSZWN0WDIocmVjdDIpO1xyXG4gICAgbGV0IHgyID0gcjF4MiA+IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IEdldFJlY3RZMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ5MSA9IEdldFJlY3RZMShyZWN0Mik7XHJcbiAgICBsZXQgeTEgPSByMXkxIDwgcjJ5MSA/IHIxeTEgOiByMnkxO1xyXG4gICAgbGV0IHIxeTIgPSBHZXRSZWN0WTIocmVjdDEpO1xyXG4gICAgbGV0IHIyeTIgPSBHZXRSZWN0WTIocmVjdDIpO1xyXG4gICAgbGV0IHkyID0gcjF5MiA+IHIyeTIgPyByMXkyIDogcjJ5MjtcclxuXHJcbiAgICByZXR1cm4gTmV3T3V0dGVyUmVjdCh4MSwgeTEsIHgyLCB5Mik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog55+p5b2i5o6S5pal77yMdGFyZ2V0UmVjdOS8muiiq2Jsb2NrUmVjdOW8ueWHuuWOu1xyXG4gKiBUT0RP77yM5Lul5ZCO5a6M5ZaE5rOo6YeKXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhFeGNsdWRlUmVjdChibG9ja1JlY3QgPSBudWxsLCB0YXJnZXRSZWN0ID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IGJsb2NrUmVjdC5wb3M7XHJcbiAgICBsZXQgcG9zMiA9IHRhcmdldFJlY3QucG9zO1xyXG4gICAgLy/orqHnrpflhbPns7vvvIzkuIrkuIvlt6blj7NcclxuICAgIGxldCB2eCA9IHBvczEueCAtIHBvczIueDtcclxuICAgIGxldCB2eSA9IHBvczEueSAtIHBvczIueTtcclxuICAgIGxldCB4ID0gdnggPCAwID8gdngqLTEgOiB2eDtcclxuICAgIGxldCB5ID0gdnkgPCAwID8gdnkqLTEgOiB2eTtcclxuICAgIGlmKHggPiB5KXtcclxuICAgICAgICAvL+W3puWPs1xyXG4gICAgICAgIGlmKHZ4ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjlt6ZcclxuICAgICAgICAgICAgcG9zMi54ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnggLSB0YXJnZXRSZWN0LndpZHRoIC0gdGFyZ2V0UmVjdC54T2Zmc2V0O1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5Y+zXHJcbiAgICAgICAgICAgIHBvczIueCA9IGJsb2NrUmVjdC5wb3NFbmQueCAtIHRhcmdldFJlY3QueE9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICAvL+S4iuS4i1xyXG4gICAgICAgIGlmKHZ5ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjkuIpcclxuICAgICAgICAgICAgcG9zMi55ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnkgLSB0YXJnZXRSZWN0LmhlaWdodCAtIHRhcmdldFJlY3QueU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOS4i1xyXG4gICAgICAgICAgICBwb3MyLnkgPSBibG9ja1JlY3QucG9zRW5kLnkgLSB0YXJnZXRSZWN0LnlPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgVXBkYXRlUmVjdCh0YXJnZXRSZWN0KTtcclxufSIsImltcG9ydCB7IE5ld1JlY3RQb3NSZWxhdGlvbiwgR2V0UmVjdFBvc1N0YXJ0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vb2Zmc2V0L3JlY3RcIjtcclxuaW1wb3J0IHsgTmV3UG9zLCBOZXdSZWN0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxuLyoqXHJcbiAqIOaRhOWDj+acuuaKveixoeexu1xyXG4gKiDnm67liY3vvIxDYW1lcmHljbPmmK9SZWN0UG9zVHVwbGXvvIzlj6rmmK/lhbZvZmZzZXQ9MOiAjOW3slxyXG4gKiDlkI7nu63lj6/og73kvJrlop7liqDmlrDlsZ7mgKfvvIzlhYjnlKjkuKrnsbvmnaXlgZpcclxuICovXHJcbmNsYXNzIEJhc2VDYW1lcmEge1xyXG4gICAgY29uc3RydWN0b3IocmVjdFBvc1JlbCA9IG51bGwsIHNjcmVlbk9mZnNldCA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMucmVjdFBvc1JlbCA9IHJlY3RQb3NSZWw7XHJcbiAgICAgICAgdGhpcy5zY3JlZW5PZmZzZXQgPSBzY3JlZW5PZmZzZXQ7ICAgLy/lsY/luZXlt6bkuIrop5LlgY/np7vph49cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3Q2FtZXJhKHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCBwb3MgPSBOZXdQb3MoeCwgeSk7XHJcbiAgICBsZXQgcnAgPSBOZXdSZWN0UG9zUmVsYXRpb24ocG9zLCBudWxsLCBOZXdSZWN0KHdpZHRoLCBoZWlnaHQpKTtcclxuICAgIHJldHVybiBuZXcgQmFzZUNhbWVyYShycCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldENhbWVyYVN0YXJ0UG9zKGNhbWVyYSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlY3RQb3NTdGFydChjYW1lcmEucmVjdFBvc1JlbCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdDYW1lcmEsIEdldENhbWVyYVN0YXJ0UG9zXHJcbn0iLCJpbXBvcnQgeyBOZXdDYW1lcmEsIEdldENhbWVyYVN0YXJ0UG9zIH0gZnJvbSBcIi4vYmFzZVwiO1xyXG5pbXBvcnQgeyBUb0xvY2F0ZVBvcyB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuXHJcbi8qKlxyXG4gKiBvcHRpb25zID0ge1xyXG4gKiAgICAgIHN0eWxlIDogMCxcclxuICogICAgICBkYXRhcyA6IFtcclxuICogICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgeCA6IDAsIHkgOiAwLCAgXHJcbiAqICAgICAgICAgICAgICAvL+aJqeWxle+8mm9mZnNldC14IDogMCwgb2Zmc2V0LXkgOiAwLCB3aWR0aCA6IDAsIGhlaWdodCA6IDBcclxuICogICAgICAgICAgfVxyXG4gKiAgICAgIF1cclxuICogfVxyXG4gKi9cclxuZnVuY3Rpb24gQ3JlYXRlQ2FtZXJhV2l0aERhdGEob3B0aW9ucyA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge1xyXG4gICAgICAgIHN0eWxlIDogMCxcclxuICAgICAgICBkYXRhcyA6IFt7eCA6IDAsIHkgOiAwfV1cclxuICAgIH07XHJcbiAgICAvL1RPRE9cclxuICAgIGxldCBjID0gb3B0aW9ucy5kYXRhc1swXTtcclxuICAgIHJldHVybiBOZXdDYW1lcmEoY1sneCddLCBjWyd5J10sIHdpZHRoLCBoZWlnaHQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBUb0NhbWVyYVN0YXJ0UG9zKGNhbWVyYSA9IG51bGwsIHBvcyA9IG51bGwpe1xyXG4gICAgcmV0dXJuIFRvTG9jYXRlUG9zKFxyXG4gICAgICAgIHBvcywgR2V0Q2FtZXJhU3RhcnRQb3MoY2FtZXJhKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBDcmVhdGVDYW1lcmFXaXRoRGF0YSxcclxuICAgIFRvQ2FtZXJhU3RhcnRQb3NcclxufSIsImltcG9ydCB7IEdldEVuZ2luZSwgR2V0RGVmYXVsdENhbWVyYSB9IGZyb20gXCIuL3Jlc291cmNlXCI7XHJcbmltcG9ydCB7IEVuZ2luZURyYXdGcmFtZSwgRW5naW5lRHJhd1JlY3QsIEVuZ2luZUNsZWFyIH0gZnJvbSBcIi4uL2xpYi9lbmdpbmUvYmFzZVwiO1xyXG5pbXBvcnQgeyBUb0NhbWVyYVN0YXJ0UG9zIH0gZnJvbSBcIi4uL2xpYi9jYW1lcmEvdXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDmuIXpmaTnlLvluINcclxuICovXHJcbmZ1bmN0aW9uIENsZWFyKCl7XHJcbiAgICBFbmdpbmVDbGVhcihHZXRFbmdpbmUoKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOWPr+iDveS8muaUueaIkHNwcml0ZUZyYW1lSWTlj4LmlbBcclxuICovXHJcbmZ1bmN0aW9uIERyYXdGcmFtZShwb3MgPSBudWxsLCBzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgRHJhd0ZyYW1lSW5DYW1lcmEoXHJcbiAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpLCBwb3MsIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd0ZyYW1lSW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIGxldCBjUG9zID0gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEsIHBvcyk7XHJcbiAgICBFbmdpbmVEcmF3RnJhbWUoR2V0RW5naW5lKCksXHJcbiAgICAgICAgY1Bvcy54LCBjUG9zLnksIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd1JlY3QocG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgRHJhd1JlY3RJbkNhbWVyYShcclxuICAgICAgICBHZXREZWZhdWx0Q2FtZXJhKCksIHBvcywgcmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdSZWN0SW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgbGV0IGNQb3MgPSBUb0NhbWVyYVN0YXJ0UG9zKGNhbWVyYSwgcG9zKTtcclxuICAgIEVuZ2luZURyYXdSZWN0KEdldEVuZ2luZSgpLCBjUG9zLCByZWN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqICMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIyMjIOS4i+mdoueahOi/mOayoeaUue+8jOi/kOihjOi1t+adpeWFiFxyXG4qL1xyXG5cclxuZnVuY3Rpb24gRHJhd0xpbmUocG9zID0gbnVsbCwgdmVjID0gbnVsbCl7XHJcbiAgICBEcmF3TGluZUluQ2FtZXJhKFxyXG4gICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSwgcG9zLCB2ZWMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBEcmF3TGluZUluQ2FtZXJhKGNhbWVyYSA9IG51bGwsIHBvcyA9IG51bGwsIHZlYyA9IG51bGwpe1xyXG4gICAgbGV0IGNQb3MgPSBUb0NhbWVyYVBvcyhjYW1lcmEsIHBvcyk7XHJcbiAgICBsZXQgY1BvczIgPSBUb0NhbWVyYVBvcyhjYW1lcmEsIE5ld1Bvcyhwb3MueCArIHZlYy54LCBwb3MueSArIHZlYy55KSk7XHJcbiAgICBFbmdpbmVEcmF3TGluZShnZXRFbmdpbmUoKSxcclxuICAgICAgICBjUG9zLngsIGNQb3MueSwgY1BvczIueCwgY1BvczIueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdDaXJjbGUoY2lyY2xlID0gbnVsbCl7XHJcbiAgICBHZXRFbmdpbmUoKS5kcmF3Q2lyY2xlKFxyXG4gICAgICAgIGNpcmNsZSxcclxuICAgICAgICBHZXRDYW1lcmEoKS50b0NhbWVyYVBvcyhcclxuICAgICAgICAgICAgR2V0Q2lyY2xlUG9zU3RhcnQoY2lyY2xlKSkpO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBDbGVhciwgRHJhd0ZyYW1lLCBEcmF3RnJhbWVJbkNhbWVyYSxcclxuICAgIERyYXdSZWN0LCBEcmF3UmVjdEluQ2FtZXJhXHJcbn0iLCIvKipcclxuICog5oq96LGh5YiX6KGo5pON5L2cXHJcbiAqL1xyXG5jbGFzcyBBYnN0cmFjdExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBnZXQoaWQgPSAwKXt9ICAgICAgICAgIC8v5qC55o2uaWTojrflvpdcclxuICAgIGZpcnNyKCl7fVxyXG4gICAgbGFzdCgpe31cclxuICAgIHNpemUoKXt9ICAgICAgICAgICAgICAgIC8v6L+U5Zue6ZW/5bqmXHJcbiAgICBhZGQoZGF0YSA9IG51bGwpe30gICAgICAvL+WwvumDqOi/veWKoFxyXG4gICAgcHVzaChkYXRhID0gbnVsbCl7fSAgICAgLy/lpLTpg6jov73liqBcclxuICAgIGluc2VydChkYXRhID0gbnVsbCwgb3JkZXIgPSAwKXt9ICAgIC8v5o+S5YWl5Yiw5oyH5a6a6aG65bqP77yM55u45ZCMb3JkZXLpl7TnmoTlhYjlkI7pobrluo/nnIvlhbfkvZPlrp7njrDpgLvovpFcclxuICAgIHBvcCgpe30gICAgICAgICAgICAgICAvL+enu+mZpOWktOmDqOWFg+e0oFxyXG4gICAgcHVsbCgpe30gICAgICAgICAgICAgIC8v56e76Zmk5bC+6YOo5YWD57SgXHJcbiAgICByZW1vdmUoaWQgPSAwKXt9ICAgICAgLy/moLnmja5pZOenu+mZpFxyXG4gICAgaXRlcmF0b3IoY2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBpdGVyYXRvclJldmVyc2UoY2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBpdGVyYXRvckNvbXBhcmUoY2FsbGJhY2sgPSBudWxsKXt9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3REYXRhKGxpc3QgPSBudWxsLCBpZCA9IDAsIHJlcXVpcmVkID0gZmFsc2Upe1xyXG4gICAgbGV0IGRhdGEgPSBsaXN0LmdldChpZCk7XHJcbiAgICBpZighZGF0YSAmJiByZXF1aXJlZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNhbid0IGZpbmQga2V5SWQ6IFwiLCBpZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGlzdEZpcnN0KGxpc3QgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0LmZpcnN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3RMYXN0KGxpc3QgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0Lmxhc3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGlzdFNpemUobGlzdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGxpc3Quc2l6ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0FkZChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoIWxpc3QgfHwgIWRhdGEgfHwgIWRhdGEuaWQpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJhbS5cIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/kuI3og73ph43lpI3mt7vliqBcclxuICAgIGxldCBkID0gR2V0TGlzdERhdGEobGlzdCwgaWQpO1xyXG4gICAgaWYoZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIGlkOiVkIGlzIGV4aXN0XCIsIGlkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwvumDqOi/veWKoFxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBcclxuICovXHJcbmZ1bmN0aW9uIEFkZFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoY2hlY2tBZGQobGlzdCwgZGF0YSkpe1xyXG4gICAgICAgIGxpc3QuYWRkKGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5aS06YOo6L+95YqgXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBkYXRhIFxyXG4gKi9cclxuZnVuY3Rpb24gUHVzaFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoY2hlY2tBZGQobGlzdCwgZGF0YSkpe1xyXG4gICAgICAgIGxpc3QucHVzaChkYXRhKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOagueaNrumhuuW6j+WPt+aPkuWFpVxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBcclxuICogQHBhcmFtIHsqfSBvcmRlciBcclxuICovXHJcbmZ1bmN0aW9uIEluc2VydFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwsIG9yZGVyID0gMCl7XHJcbiAgICBpZihjaGVja0FkZChsaXN0LCBkYXRhKSl7XHJcbiAgICAgICAgbGlzdC5pbnNlcnQoZGF0YSwgb3JkZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5aS06YOo56e76ZmkXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICovXHJcbmZ1bmN0aW9uIFBvcEZyb21MaXN0KGxpc3QgPSBudWxsKXtcclxuICAgIGxpc3QucG9wKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsL7pg6jnp7vpmaRcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKi9cclxuZnVuY3Rpb24gUHVsbEZyb21MaXN0KGxpc3QgPSBudWxsKXtcclxuICAgIGxpc3QucHVsbCgpO1xyXG59XHJcblxyXG4vKipcclxuICog5qC55o2uaWTnp7vpmaRcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGlkIFxyXG4gKi9cclxuZnVuY3Rpb24gUmVtb3ZlRnJvbUxpc3QobGlzdCA9IG51bGwsIGlkID0gMCl7XHJcbiAgICBsaXN0LnJlbW92ZShpZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmraPlkJHpgY3ljoZcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIGZ1bmMoZGF0YSl7IHJldHVybiBib29sfSDoi6Vib29sPXRydWXvvIzliJnnu4jmraLpgY3ljoZcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvcihsaXN0ID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFsaXN0IHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpc3QuaXRlcmF0b3IoY2FsbGJhY2spO1xyXG59XHJcblxyXG4vKipcclxuICog5Y+N5ZCR6YGN5Y6GXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBjYWxsYmFjayBcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvclJldmVyc2UobGlzdCA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighbGlzdCB8fCAhY2FsbGJhY2spIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsaXN0Lml0ZXJhdG9yUmV2ZXJzZShjYWxsYmFjayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlhoXpg6jkvp3mrKHlr7nmr5RcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIGZ1bmMoZGF0YTEsIGRhdGEyKSByZXR1cm4gYm9vbCDoi6Vib29sPXRydWXvvIzliJnnu4jmraLpgY3ljoZcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvckNvbXBhcmUobGlzdCA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighbGluayB8fCAhY2FsbGJhY2spIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsaXN0Lml0ZXJhdG9yQ29tcGFyZShjYWxsYmFjayk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBYnN0cmFjdExpc3QsXHJcbiAgICBHZXRMaXN0RGF0YSwgR2V0TGlzdEZpcnN0LCBHZXRMaXN0TGFzdCwgR2V0TGlzdFNpemUsIFxyXG4gICAgQWRkVG9MaXN0LCBQdXNoVG9MaXN0LCBJbnNlcnRUb0xpc3QsIFBvcEZyb21MaXN0LCBQdWxsRnJvbUxpc3QsIFJlbW92ZUZyb21MaXN0LFxyXG4gICAgTGlzdEl0ZXJhdG9yLCBMaXN0SXRlcmF0b3JSZXZlcnNlLCBMaXN0SXRlcmF0b3JDb21wYXJlXHJcbn0iLCJpbXBvcnQgeyBBYnN0cmFjdExpc3QgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvbGlzdFwiO1xyXG5cclxuY2xhc3MgTGlua05vZGUge1xyXG5cdGNvbnN0cnVjdG9yKGRhdGEgPSBudWxsLCBwcmVwID0gbnVsbCwgbmV4dCA9IG51bGwsIG9yZGVyID0gMCkge1xyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMucHJlcCA9IHByZXA7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcclxuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBMaW5rTGlzdCBleHRlbmRzIEFic3RyYWN0TGlzdCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHRcdHRoaXMuaGVhZCA9IG5ldyBMaW5rTm9kZSgpO1x0XHQvL2VtcHR5IGRhdGEgbm9kZVxyXG5cdFx0dGhpcy50YWlsID0gbmV3IExpbmtOb2RlKCk7XHJcblx0XHR0aGlzLmhlYWQubmV4dCA9IHRoaXMudGFpbDtcclxuXHRcdHRoaXMudGFpbC5wcmVwID0gdGhpcy5oZWFkO1xyXG5cdFx0dGhpcy5fbWFwID0gbmV3IE1hcCgpO1xyXG5cdFx0dGhpcy5fc2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fZGVsTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2N1cnIgPSB0aGlzLmhlYWQ7XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQoaWQgPSAwKXtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX21hcC5nZXQoaWQpO1xyXG4gICAgICAgIHJldHVybiBub2RlID8gbm9kZS5kYXRhIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJzdCgpe1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gdGhpcy50YWlsID8gbnVsbCA6IG5vZGUuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBsYXN0KCl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRhaWwucHJlcDtcclxuICAgICAgICByZXR1cm4gbm9kZSA9PSB0aGlzLmhlYWQgPyBudWxsIDogbm9kZS5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNpemUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGFkZFRvTGluayh0aGlzLCBkYXRhLCB0aGlzLnRhaWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1c2goZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGFkZFRvTGluayh0aGlzLCBkYXRhLCB0aGlzLmhlYWQubmV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zZXJ0KGRhdGEgPSBudWxsLCBvcmRlciA9IDApe1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgd2hpbGUobm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICBpZihvcmRlciA8IG5vZGUub3JkZXIpe1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkVG9MaW5rKHRoaXMsIGRhdGEsIG5vZGUsIG9yZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3AoKXtcclxuICAgICAgICByZW1vdmVXaXRoQ2hlY2sodGhpcywgdGhpcy5oZWFkLm5leHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1bGwoKXtcclxuICAgICAgICByZW1vdmVXaXRoQ2hlY2sodGhpcywgdGhpcy50YWlsLnByZXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShpZCA9IDApe1xyXG4gICAgICAgIHJlbW92ZVdpdGhDaGVjayh0aGlzLCB0aGlzLl9tYXAuZ2V0KGlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0b3IoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICB0aGlzLl9sb2NrID0gdHJ1ZTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuaGVhZC5uZXh0O1xyXG4gICAgICAgIHdoaWxlKG5vZGUgIT0gdGhpcy50YWlsKXtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2sobm9kZS5kYXRhKSl7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUodGhpcy5fZGVsTGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLCB0aGlzLl9kZWxMaXN0LnBvcCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0b3JSZXZlcnNlKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IHRydWU7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRhaWwucHJlcDtcclxuICAgICAgICB3aGlsZShub2RlICE9IHRoaXMuaGVhZCl7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKG5vZGUuZGF0YSkpe1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucHJlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlKHRoaXMuX2RlbExpc3QubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcywgdGhpcy5fZGVsTGlzdC5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdG9yQ29tcGFyZShjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSB0cnVlO1xyXG4gICAgICAgIGxldCBvdXROb2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgd2hpbGUob3V0Tm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICBsZXQgaW5Ob2RlID0gb3V0Tm9kZS5uZXh0O1xyXG4gICAgICAgICAgICB3aGlsZShpbk5vZGUgIT0gdGhpcy50YWlsKXtcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKG91dE5vZGUuZGF0YSwgaW5Ob2RlLmRhdGEpKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluTm9kZSA9IGluTm9kZS5uZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dE5vZGUgPSBvdXROb2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSh0aGlzLl9kZWxMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMsIHRoaXMuX2RlbExpc3QucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9MaW5rKGxpbmsgPSBudWxsLCBkYXRhID0gbnVsbCwgbmV4dCA9IG51bGwsIG9yZGVyID0gMCl7XHJcbiAgICAvL+aWsOiKgueCuei/nuaOpVxyXG4gICAgbGV0IHByZXAgPSBuZXh0LnByZXA7XHJcbiAgICBsZXQgbm9kZSA9IG5ldyBMaW5rTm9kZShkYXRhLCBwcmVwLCBuZXh0LCBvcmRlcik7XHJcbiAgICBwcmVwLm5leHQgPSBub2RlO1xyXG4gICAgbmV4dC5wcmVwID0gbm9kZTtcclxuXHJcbiAgICBsaW5rLl9tYXAuc2V0KGRhdGEuaWQsIG5vZGUpO1xyXG4gICAgbGluay5fc2l6ZSsrO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVXaXRoQ2hlY2sobGluayA9IG51bGwsIHRhcmdldE5vZGUgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rIHx8ICF0YXJnZXROb2RlIHx8IGxpbmsuX3NpemUgPD0gMCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYobGluay5fbG9jayl7XHJcbiAgICAgICAgbGluay5fZGVsTGlzdC5wdXNoKHRhcmdldE5vZGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlbW92ZU5vZGUobGluaywgdGFyZ2V0Tm9kZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU5vZGUobGluayA9IG51bGwsIG5vZGUgPSBudWxsKXtcclxuICAgIGxpbmsuX21hcC5kZWxldGUoa2V5SWQpO1xyXG4gICAgbGV0IHAgPSBub2RlLnByZXA7XHJcbiAgICBsZXQgbiA9IG5vZGUubmV4dDtcclxuICAgIHAubmV4dCA9IG47XHJcbiAgICBuLnByZXAgPSBwO1xyXG4gICAgbGluay5fc2l6ZS0tO1xyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdMaW5rKCl7XHJcbiAgICByZXR1cm4gbmV3IExpbmtMaXN0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdMaW5rXHJcbn0iLCJcclxuLyoqXHJcbiAqIOavj+S4gOenjeaWsOexu+WvueW6lOS4gOS4qklE77yM5L6/5LqO5Zue5pS2XHJcbiAqL1xyXG52YXIgY2x6SWQgPSAxO1xyXG5mdW5jdGlvbiBOZXh0Q2xhc3NJZCgpe1xyXG5cdHJldHVybiBjbHpJZCsrO1xyXG59XHJcblxyXG4vKipcclxuICog5q+P5Liq5a6e5L2T5oul5pyJ5LiA5Liq54us56uLSURcclxuICovXHJcbnZhciBlbnRpdHlJZCA9IDE7XHJcbmZ1bmN0aW9uIE5ld0VudGl0eUlkKCl7XHJcblx0cmV0dXJuIGVudGl0eUlkKys7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmoLlrprov5nkuKrlkI1cclxuICovXHJcbmNsYXNzIERGQ2xhc3Mge1xyXG5cdGNvbnN0cnVjdG9yKGNseklkID0gMCkge1xyXG5cdFx0dGhpcy5jbHpJZCA9IGNseklkO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaLpeaciWlk5bGe5oCn55qE6YO957un5om/5q2k57G777yM5Y2zRUNT5Lit55qERW50aXR5XHJcbiAqL1xyXG5jbGFzcyBHYW1lT2JqZWN0IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuaWQgPSBOZXdFbnRpdHlJZCgpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbipcdFRoZSBiYXNlIENvbXBvbmVudFxyXG4qXHTmr4/kuKplbnRpdHnlr7nmr4/np43nu4Tku7blj6rog73mjIHmnInkuIDkuKpcclxuKi9cclxuY2xhc3MgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDApIHtcclxuXHRcdHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuXHRcdHRoaXMuaWQgPSBlbnRpdHlJZDtcdFx0XHQvL+e7mWxpbmvkvb/nlKhcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qXHRUaGUgYmFzZSBTeXN0ZW1cclxuKi9cclxuY2xhc3MgU3lzdGVtIHtcclxuXHRjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0dGhpcy5pZCA9IE5ld0VudGl0eUlkKCk7XHJcblx0fVxyXG4gICAgb25TdGFydCgpe31cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7fVxyXG4gICAgb25FbmQoKXt9XHJcbn1cclxuXHJcbmV4cG9ydCB7TmV3RW50aXR5SWQsIEdhbWVPYmplY3QsIENvbXBvbmVudCwgU3lzdGVtfSIsImltcG9ydCB7IE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vbGlzdC9saW5rbGlzdFwiO1xyXG5pbXBvcnQgeyBJbnNlcnRUb0xpc3QsIEdldExpc3REYXRhLCBSZW1vdmVGcm9tTGlzdCwgTGlzdEl0ZXJhdG9yIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vY29udGFpbmVyL2xpc3RcIjtcclxuXHJcbi8qKlxyXG4gKiDmmL7npLrlm77lsYJcclxuICogIG9yZGVy6LaK5L2O77yM6LaK5YWI5riy5p+T77yM5ZCO5riy5p+T55qE5Lya6YGu5L2P5YmN6Z2i5riy5p+T55qEXHJcbiAqL1xyXG5jbGFzcyBMYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcmRlciA9IDApe1xyXG4gICAgICAgIHRoaXMuaWQgPSBvcmRlcjtcclxuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gTmV3TGluaygpO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgbGF5ZXJMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBhZGRMYXllcihvcmRlciA9IDApe1xyXG4gICAgbGV0IGxheWVyID0gbmV3IExheWVyKG9yZGVyKTtcclxuICAgIEluc2VydFRvTGlzdChsYXllckxpc3QsIGxheWVyKTtcclxuICAgIHJldHVybiBsYXllcjtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGF5ZXIob3JkZXIgPSAwKXtcclxuICAgIGxldCBsYXllciA9IEdldExpc3REYXRhKGxheWVyTGlzdCwgb3JkZXIpO1xyXG4gICAgaWYoIWxheWVyKXtcclxuICAgICAgICBsYXllciA9IGFkZExheWVyKG9yZGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXllcjtcclxufVxyXG5cclxuZnVuY3Rpb24gSXRlcmF0b3JMYXllcnMoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIExpc3RJdGVyYXRvcihsYXllckxpc3QsIGxheWVyID0+IHtcclxuICAgICAgICBMaXN0SXRlcmF0b3IobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZGlzcGxheVR1cGxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZFRvTGF5ZXIoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgbGF5ZXIgPSBHZXRMYXllcihkaXNwbGF5VHVwbGUubGF5ZXJPcmRlcik7XHJcbiAgICBJbnNlcnRUb0xpc3QobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlLCBkaXNwbGF5VHVwbGUub3JkZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVGcm9tTGF5ZXIoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgbGF5ZXIgPSBHZXRMYXllcihkaXNwbGF5VHVwbGUub3JkZXIpO1xyXG4gICAgUmVtb3ZlRnJvbUxpc3QobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlLmlkKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldExheWVyLCBJdGVyYXRvckxheWVycywgQWRkVG9MYXllciwgUmVtb3ZlRnJvbUxheWVyXHJcbn0iLCIvKipcclxuICogZGF0YeWwseaYr+WbvueJh+aWh+S7tlxyXG4gKiB3aWR0aCwgaGVpZ2h05Y+v6YCJ77yM5pyA5aW95pyJXHJcbiAqL1xyXG5jbGFzcyBCaXRtYXAge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBDcmVhdGVCaXRtYXAoYml0bWFwRGF0YSA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICByZXR1cm4gbmV3IEJpdG1hcChiaXRtYXBEYXRhLCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4gOW8oOWbvuS4reeahOS4gOS4quWMuuWfn++8jOe6ueeQhuW4p+aIlueyvueBteW4p++8jOWNleS+i++8jOWSjOW8leaTjuacieWFs1xyXG4gKiDnsr7ngbXluKfnlKjkuo7moIflh7rkuIDlvKDnurnnkIblm77nmoTmjIflrprlj5bmnZDljLrln5/vvIzku6Xlj4rnm7jlr7nnmoTmmL7npLrkvY3nva5cclxuICovXHJcbmNsYXNzIFNwcml0ZUZyYW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUgPSBcIlwiLCByZWN0ID0gbnVsbCwgYml0bWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnJlY3QgPSByZWN0O1xyXG4gICAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xyXG4gICAgICAgIHRoaXMuYml0bWFwWCA9IHg7XHJcbiAgICAgICAgdGhpcy5iaXRtYXBZID0geTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gQ3JlYXRlU3ByaXRlRnJhbWUobmFtZSA9IFwiXCIsIGJpdG1hcCA9IG51bGwsIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIGxldCBmID0gbmV3IFNwcml0ZUZyYW1lKG5hbWUsIHJlY3QsIGJpdG1hcCwgeCwgeSk7XHJcbiAgICByZXR1cm4gZjtcclxufVxyXG5cclxuLyoqXHJcbiAqIHNwcml0ZUZyYW1l5byA5aeL57uY5Yi255qE5Z2Q5qCH77yM5bem5LiK6KeS5byA5aeL77yM5LiOcG9z5peg5YWzXHJcbiAqIEBwYXJhbSB7Kn0gc3ByaXRlRnJhbWUgXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVN0YXJ0WChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLmJpdG1hcFg7XHJcbn1cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVTdGFydFkoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5iaXRtYXBZO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVJlY3Qoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5yZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdFdpZHRoKHNwcml0ZUZyYW1lLnJlY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlY3RIYWxmV2lkdGgoc3ByaXRlRnJhbWUucmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdEhlaWdodChzcHJpdGVGcmFtZS5yZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdEhhbGZIZWlnaHQoc3ByaXRlRnJhbWUucmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lQml0bWFwRGF0YShzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLmJpdG1hcC5kYXRhO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBDcmVhdGVCaXRtYXAsIENyZWF0ZVNwcml0ZUZyYW1lLCBcclxuICAgIEdldFNwcml0ZUZyYW1lU3RhcnRYLCBHZXRTcHJpdGVGcmFtZVN0YXJ0WSwgR2V0U3ByaXRlRnJhbWVSZWN0LFxyXG4gICAgR2V0U3ByaXRlRnJhbWVXaWR0aCwgR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0LCBHZXRTcHJpdGVGcmFtZUhhbGZIZWlnaHQsXHJcbiAgICBHZXRTcHJpdGVGcmFtZUJpdG1hcERhdGFcclxufSIsImltcG9ydCB7IEdldFJlYWxQb3MsIEdldFBvcywgR2V0T2Zmc2V0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vb2Zmc2V0L2Jhc2VcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjc1wiO1xyXG5pbXBvcnQgeyBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2xpc3QvbGlua2xpc3RcIjtcclxuaW1wb3J0IHsgQWRkVG9MaXN0LCBHZXRMaXN0RGF0YSB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcbmltcG9ydCB7IE5ld1BvcywgVXBkYXRlUG9zIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0UG9zUmVsYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9vZmZzZXQvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRTcHJpdGVGcmFtZVJlY3QgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZnJhbWVcIjtcclxuXHJcbi8qKlxyXG4gKiDmmL7npLrnu4Tku7bvvIzljIXlkKvkuIDkupvmmL7npLrlj4LmlbBcclxuICovXHJcbmNsYXNzIFJlbmRlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBpc29tZXRyaWNzID0gZmFsc2UsIGFuZ2xlID0gMCwgc2NhbGUgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMuaXNvbWV0cmljcyA9IGlzb21ldHJpY3M7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcclxuXHR9XHJcbn1cclxuXHJcbnZhciByZW5kZXJDb21zID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJDb21wb25lbnQoZW50aXR5SWQgPSAwLCBvcHRpb25zID0gbnVsbCkge1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xyXG4gICAgbGV0IGNvbSA9IG5ldyBSZW5kZXJDb21wb25lbnQoZW50aXR5SWQsIG9wdGlvbnMuaXNvbWV0cmljcywgb3B0aW9ucy5hbmdsZSwgb3B0aW9ucy5zY2FsZSk7XHJcbiAgICBBZGRUb0xpc3QocmVuZGVyQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmn6Xmib7muLLmn5PmmL7npLrnu4Tku7bvvIzmmoLml7bov5nmoLfmkJ5cclxuICogb3B0aW9ucyA6IHtcclxuICogICAgICBpc29tZXRyaWMgOiBmYWxzZSxcclxuICogICAgICBhbmdsZSA6IDE4MCxcclxuICogICAgICBzY2FsZSA6IDAuNVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRSZW5kZXJDb21wb25lbnQoZW50aXR5SWQgPSAwLCBvcHRpb25zID0gbnVsbCkge1xyXG4gICAgbGV0IGNvbSA9IEdldExpc3REYXRhKHJlbmRlckNvbXMsIGVudGl0eUlkKTtcclxuICAgIHJldHVybiBjb20gPyBjb20gOiBjcmVhdGVSZW5kZXJDb21wb25lbnQoZW50aXR5SWQsIG9wdGlvbnMpO1xyXG59XHJcblxyXG4vKipcclxuICog5pi+56S65YWD5Lu2XHJcbiAqICDlkoxlbnRpdHnlhbPns7vkuI3lpKfvvIzkuIDkuKplbnRpdHnlj6/ku6Xmi6XmnInlpKfkuo7kuIDkuKpEaXNwbGF5VHVwbGVcclxuICogIOmcgOimgeiuvuiuoeacuuWItumBv+WFjea7peeUqOmXrumimFxyXG4gKi9cclxuY2xhc3MgRGlzcGxheVR1cGxlIGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzcHJpdGVGcmFtZSA9IG51bGwsIHJlbmRlckNvbSA9IG51bGwsIHJlY3RQb3NSZWwgPSBudWxsLCBvcmRlciA9IDAsIGxheWVyT3JkZXIgPSAwKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICB0aGlzLnJlbmRlckNvbSA9IHJlbmRlckNvbTtcclxuICAgICAgICB0aGlzLnJlY3RQb3NSZWwgPSByZWN0UG9zUmVsO1xyXG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcclxuICAgICAgICB0aGlzLmxheWVyT3JkZXIgPSBsYXllck9yZGVyO1xyXG4gICAgICAgIHRoaXMuaXNvUG9zID0gTmV3UG9zKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0Rpc3BsYXllcihlbnRpdHlJZCA9IDAsIHNwcml0ZUZyYW1lID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCwgb3JkZXIgPSAwLCBsYXllck9yZGVyID0gMCl7XHJcbiAgICBsZXQgcmVuZGVyQ29tID0gR2V0UmVuZGVyQ29tcG9uZW50KGVudGl0eUlkKTtcclxuICAgIGxldCBycCA9IE5ld1JlY3RQb3NSZWxhdGlvbihlbnRpdHlJZCwgb2Zmc2V0LCBHZXRTcHJpdGVGcmFtZVJlY3Qoc3ByaXRlRnJhbWUpKTtcclxuICAgIGxldCBkcyA9IG5ldyBEaXNwbGF5VHVwbGUoc3ByaXRlRnJhbWUsIHJlbmRlckNvbSwgcnAsIG9yZGVyLCBsYXllck9yZGVyKTtcclxuICAgIHJldHVybiBkcztcclxufVxyXG5cclxuZnVuY3Rpb24gSXNEaXNwbGF5SVNPbWV0cmljcyhkaXNwbGF5ZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBkaXNwbGF5ZXIucmVuZGVyQ29tLmlzb21ldHJpY3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlTcHJpdGVGcmFtZShkaXNwbGF5ZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBkaXNwbGF5ZXIuc3ByaXRlRnJhbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlDZW50ZXJQb3MoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVhbFBvcyhkaXNwbGF5ZXIucmVjdFBvc1JlbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlJc29Qb3MoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZGlzcGxheWVyLmlzb1BvcztcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlSXNvUG9zKGRpc3BsYXllciA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldFBvcyhkaXNwbGF5VHVwbGUucmVjdFBvc1JlbCk7XHJcbiAgICBsZXQgb2Zmc2V0ID0gR2V0T2Zmc2V0KGRpc3BsYXlUdXBsZS5yZWN0UG9zUmVsKTtcclxuICAgIFVwZGF0ZVBvcyhkaXNwbGF5ZXIuaXNvUG9zLFxyXG4gICAgICAgIChwb3MueCAtIHBvcy55KSAqIDAuNSArIG9mZnNldC54LFxyXG4gICAgICAgIChwb3MueCArIHBvcy55KSAqIDAuNSArIG9mZnNldC55KTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldFJlbmRlckNvbXBvbmVudCwgTmV3RGlzcGxheWVyLCBcclxuICAgIElzRGlzcGxheUlTT21ldHJpY3MsIEdldERpc3BsYXlTcHJpdGVGcmFtZSwgR2V0RGlzcGxheUNlbnRlclBvcyxcclxuICAgIEdldERpc3BsYXlJc29Qb3MsIFVwZGF0ZUlzb1Bvc1xyXG59IiwiaW1wb3J0IHsgRHJhd0ZyYW1lLCBDbGVhciB9IGZyb20gXCIuLi8uLi9kaXJlY3Rvci9yZW5kZXJcIjtcclxuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjc1wiO1xyXG5pbXBvcnQgeyBJdGVyYXRvckxheWVycyB9IGZyb20gXCIuL2NvbXBvbmVudC9sYXllclwiO1xyXG5pbXBvcnQgeyBHZXREaXNwbGF5SXNvUG9zLCBHZXREaXNwbGF5U3ByaXRlRnJhbWUsIEdldERpc3BsYXlDZW50ZXJQb3MgfSBmcm9tIFwiLi9jb21wb25lbnQvcmVuZGVyXCI7XHJcblxyXG4vKipcclxuICog5riy5p+T57O757uf77yM6YC76L6R5q2l6aqk77yaXHJcbiAqIDEuICAg5riF6Zmk55S75biDXHJcbiAqIDIuICAg6YeN5a6a5L2N5pGE5YOP5py6XHJcbiAqIDMuICAg6K6h566X5Y2V5L2N5pi+56S655+p5b2i5piv5ZCm5Zyo5pGE5YOP5py655+p5b2i5YaFXHJcbiAqIDQuICAg6L2s5o2i5Li655S75biD5Z2Q5qCHXHJcbiAqIDUuICAg55S75Ye65Zu+5YOPXHJcbiAqL1xyXG5jbGFzcyBSZW5kZXJVcGRhdGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBDbGVhcigpO1xyXG4gICAgICAgIExpbmtJdGVyYXRvcihHZXREaXNwbGF5TGlzdCgpLCBkaXNwbGF5VHVwbGUgPT4ge1xyXG4gICAgICAgICAgICBsZXQgcG9zID0gR2V0UG9zKGRpc3BsYXlUdXBsZS5lbnRpdHlJZCk7XHJcbiAgICAgICAgICAgIFVwZGF0ZVJlY3RQb3NCeVVuaXQoZGlzcGxheVR1cGxlLmRpc3BsYXlBcmVhLCBwb3MueCwgcG9zLnkpO1xyXG4gICAgICAgICAgICBEcmF3RnJhbWUoZGlzcGxheVR1cGxlLnNwcml0ZUZyYW1lLCBkaXNwbGF5VHVwbGUucG9zKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgTGF5ZXJSZW5kZXJVcGRhdGVTeXN0ZW0gZXh0ZW5kcyBTeXN0ZW0ge1xyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBDbGVhcigpO1xyXG4gICAgICAgIEl0ZXJhdG9yTGF5ZXJzKGRpc3BsYXlUdXBsZSA9PiB7XHJcbiAgICAgICAgICAgIGlmKElzRGlzcGxheUlTT21ldHJpY3MoZGlzcGxheVR1cGxlKSl7XHJcbiAgICAgICAgICAgICAgICBkcmF3SXNvKGNhbWVyYSwgZGlzcGxheVR1cGxlKTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBkcmF3KGNhbWVyYSwgZGlzcGxheVR1cGxlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3SXNvKGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgVXBkYXRlSXNvUG9zKGRpc3BsYXlUdXBsZSk7XHJcbiAgICBEcmF3RnJhbWUoXHJcbiAgICAgICAgR2V0RGlzcGxheUlzb1BvcyhkaXNwbGF5VHVwbGUpLFxyXG4gICAgICAgIEdldERpc3BsYXlTcHJpdGVGcmFtZShkaXNwbGF5VHVwbGUpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZHJhdyhkaXNwbGF5VHVwbGUgPSBudWxsKXtcclxuICAgIERyYXdGcmFtZShcclxuICAgICAgICBHZXREaXNwbGF5Q2VudGVyUG9zKGRpc3BsYXlUdXBsZSksXHJcbiAgICAgICAgR2V0RGlzcGxheVNwcml0ZUZyYW1lKGRpc3BsYXlUdXBsZSkpO1xyXG59XHJcblxyXG52YXIgcmVuZGVyU3lzID0gbnVsbDtcclxuZnVuY3Rpb24gR2V0UmVuZGVyVXBkYXRlU3lzdGVtKCl7XHJcbiAgICBpZighcmVuZGVyU3lzKXtcclxuICAgICAgICByZW5kZXJTeXMgPSBuZXcgTGF5ZXJSZW5kZXJVcGRhdGVTeXN0ZW0oKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZW5kZXJTeXM7XHJcbn1cclxuXHJcbmV4cG9ydCB7R2V0UmVuZGVyVXBkYXRlU3lzdGVtfSIsImltcG9ydCB7IEdldEVuZ2luZSB9IGZyb20gXCIuLi9yZXNvdXJjZVwiO1xyXG5pbXBvcnQgeyBMaXN0SXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvbGlzdFwiO1xyXG5pbXBvcnQgeyBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2xpYi9saXN0L2xpbmtsaXN0XCI7XHJcbmltcG9ydCB7IEVuZ2luZVN0YXJ0IH0gZnJvbSBcIi4uLy4uL2xpYi9lbmdpbmUvYmFzZVwiO1xyXG5pbXBvcnQgeyBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0gfSBmcm9tIFwiLi4vLi4vbGliL3ZpZXcvc3lzdGVtXCI7XHJcblxyXG4vKipcclxuICog5Li757O757uf5YiX6KGoXHJcbiAqL1xyXG52YXIgbG9naWNTeXN0ZW1zID0gTmV3TGluaygpO1xyXG52YXIgcmVuZGVyU3lzdGVtID0gbnVsbDtcclxuZnVuY3Rpb24gaW5pdFN5c3RlbXMoZGVidWcgPSBmYWxzZSl7XHJcbiAgICAvL0luc2VydFRvTGluayhsb2dpY1N5c3RlbXMsIEdldEFjdGlvblN5c3RlbSgpKTtcclxuICAgIC8vSW5zZXJ0VG9MaW5rKGxvZ2ljU3lzdGVtcywgR2V0UG9zVXBkYXRlU3lzdGVtKCkpO1xyXG4gICAgcmVuZGVyU3lzdGVtID0gR2V0UmVuZGVyVXBkYXRlU3lzdGVtKCk7XHJcbn1cclxuXHJcbnZhciBsb2dpY1RpY2sgPSAxNjsgICAgIC8vNjBmcHNcclxudmFyIHJlbmRlclRpY2sgPSA0MTsgICAgLy8yNGZwc1xyXG52YXIgX3QxID0gMDtcclxudmFyIF90MiA9IDA7XHJcbmZ1bmN0aW9uIHJ1bldpdGhTY2VuZShzY2VuZSA9IG51bGwpe1xyXG4gICAgTGlzdEl0ZXJhdG9yKGxvZ2ljU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICBzeXN0ZW0ub25TdGFydCgpO1xyXG4gICAgfSk7XHJcbiAgICByZW5kZXJTeXN0ZW0ub25TdGFydCgpO1xyXG4gICAgc2NlbmUub25TdGFydCgpO1xyXG5cclxuICAgIC8vbWFpbiBsb29wXHJcbiAgICBFbmdpbmVTdGFydChHZXRFbmdpbmUoKSwgZHQgPT4ge1xyXG4gICAgICAgIF90MSArPSBkdDtcclxuICAgICAgICBpZihfdDEgPj0gbG9naWNUaWNrKXtcclxuICAgICAgICAgICAgX3QxIC09IGxvZ2ljVGljaztcclxuICAgICAgICAgICAgc2NlbmUub25VcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICBMaXN0SXRlcmF0b3IobG9naWNTeXN0ZW1zLCBzeXN0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgc3lzdGVtLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfdDIgKz0gZHQ7XHJcbiAgICAgICAgaWYoX3QyID49IHJlbmRlclRpY2spe1xyXG4gICAgICAgICAgICBfdDIgLT0gcmVuZGVyVGljaztcclxuICAgICAgICAgICAgcmVuZGVyU3lzdGVtLm9uVXBkYXRlKGR0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3lzdGVtKHN5c3RlbSA9IG51bGwpe1xyXG4gICAgaWYoIXN5c3RlbSl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgSW5zZXJ0VG9MaW5rKGxvZ2ljU3lzdGVtcywgc3lzdGVtKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcFN5c3RlbSgpe1xyXG4gICAgTGlzdEl0ZXJhdG9yKGxvZ2ljU3lzdGVtcywgc3lzdGVtID0+IHtcclxuICAgICAgICBzeXN0ZW0ub25FbmQoKTtcclxuICAgIH0pO1xyXG4gICAgcmVuZGVyU3lzdGVtLm9uRW5kKCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBpbml0U3lzdGVtcywgcnVuV2l0aFNjZW5lLCBhZGRTeXN0ZW0sIHN0b3BTeXN0ZW1cclxufSIsIlxyXG4gLyoqXHJcbiAgKiBncmlkbWFw55qE572R5qC85Y2V5YWDXHJcbiAgKi9cclxuIGNsYXNzIEJhc2VHcmlkIHtcclxuICAgIGNvbnN0cnVjdG9yKHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcclxuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhOyAgICAgICAvL+WtmOWCqOeahOWvueixoVxyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog572R5qC86KGo5piv5Liq5Z+656GA5LqM5YWD5a655Zmo77yM5bqU5b2S57G75Li65YWD5pWw5o2uXHJcbiAqIHJvd3MgPSDooYzmlbBcclxuICogY29sdW1ucyA9IOWIl+aVsFxyXG4gKiBncmlkV2lkdGgsIGdyaWRIZWlnaHQgPSDmr4/kuKrnvZHmoLznmoTlrr3pq5jojIPlm7TvvIzlu7rorq4xOjFcclxuICogXHJcbiAqL1xyXG5jbGFzcyBBYnN0cmFjdEdyaWRNYXAge1xyXG4gICAgZ2V0RGF0YShwb3MgPSBudWxsKXt9XHJcbiAgICBzZXREYXRhKHBvcyA9IG51bGwsIGRhdGEgPSBudWxsKXt9XHJcbiAgICBnZXRHcmlkKHBvcyA9IG51bGwpe31cclxuICAgIGdldEdyaWRNYXBXaWR0aCgpe31cclxuICAgIGdldEdyaWRNYXBIZWlnaHQoKXt9XHJcbiAgICBpdGVyYXRvcihjYWxsYmFjayA9IG51bGwpe31cclxufVxyXG5cclxuZnVuY3Rpb24gR2V0R3JpZERhdGEoZ3JpZG1hcCA9IG51bGwsIHBvcyA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWRtYXAuZ2V0RGF0YShwb3MpO1xyXG59XHJcbmZ1bmN0aW9uIFNldEdyaWREYXRhKGdyaWRtYXAgPSBudWxsLCBwb3MgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5zZXREYXRhKHBvcywgZGF0YSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZChncmlkbWFwID0gbnVsbCwgcG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXRHcmlkKHBvcyk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Z+656GA5bGe5oCn77ya5a695bqmXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRHcmlkV2lkdGgoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQud2lkdGg7XHJcbn1cclxuZnVuY3Rpb24gR2V0SGFsZkdyaWRXaWR0aChncmlkID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0R3JpZFdpZHRoKGdyaWQpICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldEdyaWRNYXBXaWR0aChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXRHcmlkTWFwV2lkdGgoKTtcclxufVxyXG5mdW5jdGlvbiBHZXRIYWxmR3JpZE1hcFdpZHRoKGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkTWFwV2lkdGgoZ3JpZG1hcCkgKiAwLjU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlsZ7mgKfvvJrpq5jluqZcclxuICovXHJcbmZ1bmN0aW9uIEdldEdyaWRIZWlnaHQoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWQuaGVpZ2h0O1xyXG59XHJcbmZ1bmN0aW9uIEdldEhhbGZHcmlkSGVpZ2h0KGdyaWQgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkSGVpZ2h0KGdyaWQpICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldEdyaWRNYXBIZWlnaHQoZ3JpZG1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGdyaWRtYXAuZ2V0R3JpZE1hcEhlaWdodCgpO1xyXG59XHJcbmZ1bmN0aW9uIEdldEhhbGZHcmlkTWFwSGVpZ2h0KGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkTWFwSGVpZ2h0KGdyaWRtYXApICogMC41O1xyXG59XHJcblxyXG4vKipcclxuICog6YGN5Y6GXHJcbiAqIEBwYXJhbSB7Kn0gZ3JpZG1hcCBcclxuICogQHBhcmFtIHsqfSBjYWxsYmFjayBcclxuICovXHJcbmZ1bmN0aW9uIEdyaWRNYXBJdGVyYXRvcihncmlkbWFwID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGdyaWRtYXAuaXRlcmF0b3IoY2FsbGJhY2spO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgQmFzZUdyaWQsIEFic3RyYWN0R3JpZE1hcCwgR2V0R3JpZERhdGEsIFNldEdyaWREYXRhLCBHZXRHcmlkLFxyXG4gICAgR2V0R3JpZFdpZHRoLCBHZXRIYWxmR3JpZFdpZHRoLCBHZXRHcmlkTWFwV2lkdGgsIEdldEhhbGZHcmlkTWFwV2lkdGgsXHJcbiAgICBHZXRHcmlkSGVpZ2h0LCBHZXRIYWxmR3JpZEhlaWdodCwgR2V0R3JpZE1hcEhlaWdodCwgR2V0SGFsZkdyaWRNYXBIZWlnaHQsXHJcbiAgICBHcmlkTWFwSXRlcmF0b3JcclxufSIsImltcG9ydCB7IE5ld1BvcywgVG9Mb2NhdGVQb3MgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcbmltcG9ydCB7IEdldEludCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoXCI7XHJcbmltcG9ydCB7IEdldEhhbGZHcmlkTWFwV2lkdGgsIEdldEhhbGZHcmlkTWFwSGVpZ2h0LCBHZXRHcmlkV2lkdGgsIEdldEdyaWRIZWlnaHQsIEJhc2VHcmlkLCBBYnN0cmFjdEdyaWRNYXAgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvZ3JpZG1hcFwiO1xyXG5cclxuLyoqXHJcbiAgKiBncmlkbWFw55qE572R5qC85Y2V5YWDXHJcbiAgKi9cclxuIGNsYXNzIFRpbGVHcmlkIGV4dGVuZHMgQmFzZUdyaWQge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAwLCBoZWlnaHQgPSAwLCByb3dJbmRleCA9IDAsIGNvbEluZGV4ID0gMCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKHdpZHRoLCBoZWlnaHQsIGRhdGEpO1xyXG4gICAgICAgIHRoaXMucm93SW5kZXggPSByb3dJbmRleDtcclxuICAgICAgICB0aGlzLmNvbEluZGV4ID0gY29sSW5kZXg7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiAyZOeTt+egluWcsOWbvu+8jOeUsUdyaWRNYXDmianlsZVcclxuICogc2FtcGxlOlxyXG4gKiBbXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSwgMSwgMSwgMSwgXHJcblx0MCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMSwgMSwgMSxcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXVxyXG4gKi9cclxuY2xhc3MgVGlsZU1hcCBleHRlbmRzIEFic3RyYWN0R3JpZE1hcCB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSBudWxsLCByb3dzID0gMCwgY29sdW1ucyA9IDAsIGdyaWRXaWR0aCA9IDAsIGdyaWRIZWlnaHQgPSAwLCBncmlkcyA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKCk7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5yb3dzID0gcm93cztcclxuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xyXG4gICAgICAgIHRoaXMuZ3JpZFdpZHRoID0gZ3JpZFdpZHRoO1xyXG4gICAgICAgIHRoaXMuZ3JpZEhlaWdodCA9IGdyaWRIZWlnaHQ7XHJcbiAgICAgICAgdGhpcy5ncmlkcyA9IGdyaWRzO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEocG9zID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGdyaWQgPSBnZXRHcmlkV2l0aFBvcyhwb3MsIHRoaXMpO1xyXG4gICAgICAgIHJldHVybiBncmlkID8gZ3JpZC5kYXRhIDogbnVsbDtcclxuICAgIH1cclxuICAgIHNldERhdGEocG9zID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGxldCBncmlkID0gZ2V0R3JpZFdpdGhQb3MocG9zLCB0aGlzKTtcclxuICAgICAgICBpZihncmlkKXtcclxuICAgICAgICAgICAgZ3JpZC5kYXRhID0gZGF0YTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBnZXRHcmlkKHBvcyA9IG51bGwpe1xyXG4gICAgICAgIHJldHVybiBnZXRHcmlkV2l0aFBvcyhwb3MsIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgZ2V0R3JpZE1hcFdpZHRoKCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29sdW1ucyAqIHRoaXMuZ3JpZFdpZHRoO1xyXG4gICAgfVxyXG4gICAgZ2V0R3JpZE1hcEhlaWdodCgpe1xyXG4gICAgICAgIHJldHVybiB0aGlzLnJvd3MgKiB0aGlzLmdyaWRIZWlnaHQ7XHJcbiAgICB9XHJcbiAgICBpdGVyYXRvcihjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuZ3JpZHMuZm9yRWFjaChncmlkID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1RpbGVNYXAocm93cyA9IDAsIGNvbHVtbnMgPSAwLCBncmlkV2lkdGggPSAwLCBncmlkSGVpZ2h0ID0gMCwgcG9zID0gbnVsbCl7XHJcbiAgICBsZXQgZ3JpZHMgPSBbXTtcclxuICAgIGZvciAobGV0IHJvd0luZGV4ID0gMDsgcm93SW5kZXggPCByb3dzOyByb3dJbmRleCsrKSB7XHJcbiAgICAgICAgZm9yIChsZXQgY29sSW5kZXggPSAwOyBjb2xJbmRleCA8IGNvbHVtbnM7IGNvbEluZGV4KyspIHtcclxuICAgICAgICAgICAgZ3JpZHMucHVzaChuZXcgVGlsZUdyaWQoZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCByb3dJbmRleCwgY29sSW5kZXgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBwb3MgPSBwb3MgPyBwb3MgOiBOZXdQb3MoKTtcclxuICAgIHJldHVybiBuZXcgVGlsZU1hcChwb3MsIHJvd3MsIGNvbHVtbnMsIGdyaWRXaWR0aCwgZ3JpZEhlaWdodCwgZ3JpZHMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0luKHggPSAwLCB5ID0gMCwgdGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHggPiAwICYmIHggPCB0aWxlbWFwLmdldEdyaWRNYXBXaWR0aCgpICYmIHkgPiAwICYmIHkgPCB0aWxlbWFwLmdldEdyaWRNYXBIZWlnaHQoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0R3JpZFdpdGhQb3MocG9zID0gbnVsbCwgdGlsZW1hcCA9IG51bGwpe1xyXG4gICAgbGV0IHRQb3MgPSBUb0xvY2F0ZVBvcyhwb3MsIHRpbGVtYXAucG9zKTtcclxuICAgIGlmKCFjaGVja0luKHRQb3MueCwgdFBvcy55LCB0aWxlbWFwKSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgY29sdW1uID0gR2V0SW50KHRQb3MueCAvIGdyaWRtYXAuZ3JpZFdpZHRoKTtcclxuICAgIGxldCByb3cgPSBHZXRJbnQodFBvcy55IC8gZ3JpZG1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIHJldHVybiBncmlkbWFwLmdyaWRzW3JvdyAqIGdyaWRtYXAuY29sdW1ucyArIGNvbHVtbl07XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5Z+656GA5Z2Q5qCHXHJcbiAqIEBwYXJhbSB7Kn0gdGlsZW1hcCBcclxuICovXHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBTdGFydCh0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnggLSBHZXRIYWxmR3JpZE1hcFdpZHRoKHRpbGVtYXApLFxyXG4gICAgICAgIHRpbGVtYXAucG9zLnkgLSBHZXRIYWxmR3JpZE1hcEhlaWdodCh0aWxlbWFwKVxyXG4gICAgKTtcclxufVxyXG5mdW5jdGlvbiBHZXRUaWxlbWFwRW5kKHRpbGVtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueCArIEdldEhhbGZHcmlkTWFwV2lkdGgodGlsZW1hcCksXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueSArIEdldEhhbGZHcmlkTWFwSGVpZ2h0KHRpbGVtYXApXHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBDZW50ZXIodGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1Bvcyh0aWxlbWFwLnBvcy54LCB0aWxlbWFwLnBvcy55KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0VGlsZUdyaWRTdGFydCh0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXApO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgR2V0R3JpZFdpZHRoKHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLmNvbEluZGV4LFxyXG4gICAgICAgIHN0YXJ0LnkgKyBHZXRHcmlkSGVpZ2h0KHRpbGVtYXAuZ3JpZG1hcCkgKiBncmlkLnJvd0luZGV4XHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFRpbGVHcmlkRW5kKHRpbGVtYXAgPSBudWxsLCBncmlkID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnQgPSBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyB0aWxlbWFwLmdyaWRXaWR0aCAqIChncmlkLmNvbEluZGV4ICsgMSksXHJcbiAgICAgICAgc3RhcnQueSArIHRpbGVtYXAuZ3JpZEhlaWdodCAqIChncmlkLnJvd0luZGV4ICsgMSlcclxuICAgICk7XHJcbn1cclxuZnVuY3Rpb24gR2V0VGlsZUdyaWRDZW50ZXIodGlsZW1hcCA9IG51bGwsIGdyaWQgPSBudWxsKXtcclxuICAgIGxldCBzdGFydCA9IEdldFRpbGVtYXBTdGFydCh0aWxlbWFwKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgc3RhcnQueCArIHRpbGVtYXAuZ3JpZFdpZHRoICogKGdyaWQuY29sSW5kZXggKyAwLjUpLFxyXG4gICAgICAgIHN0YXJ0LnkgKyB0aWxlbWFwLmdyaWRIZWlnaHQgKiAoZ3JpZC5yb3dJbmRleCArIDAuNSlcclxuICAgICk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdUaWxlTWFwLCBcclxuICAgIEdldFRpbGVtYXBTdGFydCwgR2V0VGlsZW1hcEVuZCwgR2V0VGlsZW1hcENlbnRlciwgXHJcbiAgICBHZXRUaWxlR3JpZFN0YXJ0LCBHZXRUaWxlR3JpZEVuZCwgR2V0VGlsZUdyaWRDZW50ZXJcclxufVxyXG5cclxuLyoqXHJcbiAqIOaJvuWHuuS4jnJlY3Tnm7jkuqTnmoTmiYDmnIlncmlkXHJcbiAqIFRPRE8g5pyq5a6a77yM5Y+v6IO95LiN6ZyA6KaB6L+Z56eN5YGa5rOVXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRHcmlkc0J5UmVjdCh0aWxlTWFwID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgLy/mmK/lkKblnKh0aWxlbWFw5LitXHJcbiAgICBpZighSXNSZWN0Q3Jvc3ModGlsZU1hcC5yZWN0LCByZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgZ3JpZHMgPSBbXTtcclxuICAgIGxldCBwb3NTdGFydCA9IHJlY3QucG9zU3RhcnQ7XHJcbiAgICBsZXQgY29sdW1uU3RhcnQgPSBwYXJzZUludChwb3NTdGFydC54IC8gdGlsZU1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvd1N0YXJ0ID0gcGFyc2VJbnQocG9zU3RhcnQueSAvIHRpbGVNYXAuZ3JpZEhlaWdodCk7XHJcbiAgICBjb2x1bW5TdGFydCA9IGNvbHVtblN0YXJ0IDwgMCA/IDAgOiBjb2x1bW5TdGFydDtcclxuICAgIHJvd1N0YXJ0ID0gcm93U3RhcnQgPCAwID8gMCA6IHJvd1N0YXJ0O1xyXG5cclxuICAgIGxldCBwb3NFbmQgPSByZWN0LnBvc0VuZDtcclxuICAgIGxldCBjb2x1bW5FbmQgPSBwYXJzZUludChwb3NFbmQueCAvIHRpbGVNYXAuZ3JpZFdpZHRoKTtcclxuICAgIGxldCByb3dFbmQgPSBwYXJzZUludChwb3NFbmQueSAvIHRpbGVNYXAuZ3JpZEhlaWdodCk7XHJcbiAgICBjb2x1bW5FbmQgPSBjb2x1bW5FbmQgPiB0aWxlTWFwLmNvbHVtbnMgLSAxID8gdGlsZU1hcC5jb2x1bW5zIC0gMSA6IGNvbHVtbkVuZDtcclxuICAgIHJvd0VuZCA9IHJvd0VuZCA+IHRpbGVNYXAucm93cyAtIDEgPyB0aWxlTWFwLnJvd3MgLSAxIDogcm93RW5kO1xyXG5cclxuICAgIGZvcihsZXQgcm93PXJvd1N0YXJ0OyByb3c8PXJvd0VuZDsgcm93Kyspe1xyXG4gICAgICAgIGZvcihsZXQgY29sdW1uPWNvbHVtblN0YXJ0OyBjb2x1bW48PWNvbHVtbkVuZDsgY29sdW1uKyspe1xyXG4gICAgICAgICAgICBncmlkcy5wdXNoKHRpbGVNYXAuZ3JpZHNbcm93XVtjb2x1bW5dKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZ3JpZHM7XHJcbn0iLCJpbXBvcnQgeyBHcmlkTWFwSXRlcmF0b3IgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvZ3JpZG1hcFwiO1xyXG5pbXBvcnQgeyBHZXRJbnQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvbWF0aFwiO1xyXG5pbXBvcnQgeyBOZXdUaWxlTWFwIH0gZnJvbSBcIi4vdGlsZW1hcC9iYXNlXCI7XHJcbmltcG9ydCB7IE5ld1BvcyB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuXHJcbi8qKlxyXG4gKiB0aWxlbWFwID0gZ3JpZG1hcCArIHBvc1xyXG4gKiBncmlkbWFw55qE55u45a+55Z2Q5qCH5pivKDAsIDAp77yM5Y2z5bem5LiK6KeSXHJcbiAqIHRpbGVtYXAucG9z5ZKM5YW25LuW5a+56LGh5LiA5qC377yM5LuO5Lit6Ze05byA5aeLXHJcbiAqIGdyaWRQb3PmmK9ncmlk55+p5b2i5Lit6Ze0XHJcbiAqIOS+i+Wmgu+8mnRpbGVtYXAucG9zLnggPSAyMCwgZ3JpZFdpZHRoID0gNTAsIGNvbHVtbiA9IDU7XHJcbiAqIOmCo+S5iGdyaWRbMF3nmoRwb3MueD0gMjAgKyAwKjUwICsgNTAvMiA9IDQ1LCBwb3NTdGFydC54ID0gNDUgLSA1MC8yID0gMjBcclxuICog5ZCM55CGZ3JpZFs0XeeahHBvcy54PSAyMCArIDQqNTAgKyA1MC8yID0gMjQ1LCBwb3NTdGFydC54ID0gMjQ1IC0gNTAvMiA9IDIyMFxyXG4gKiBcclxuICogb3B0aW9uczp7XHJcbiAqICAgICAgZGF0YSA6IFsgICAgICAgICAgICAgICAg5LiA57u05pWw57uEXHJcbiAqICAgICAgICAgIDEsIDEsIDEsIDAsIDAsIDEsXHJcbiAqICAgICAgICAgIDIsIDEsIDAsIDAsIDEsIDIsXHJcbiAqICAgICAgICAgIDIsIDIsIDEsIDEsIDEsIDFcclxuICogICAgICAgICAgXVxyXG4gKiAgICAgIGNvbHVtbnMgOiA2ICAgICDliJfmlbBcclxuICogICAgICBncmlkV2lkdGggOiAzMlxyXG4gKiAgICAgIGdyaWRIZWlnaHQgOiAzMiAgICAg5q+P5Liq5qC85a2Q55qE5a696auYXHJcbiAqICAgICAgeCA6IDBcclxuICogICAgICB5IDogMCAgICAgICAgICAg5Yid5aeL5L2N572u77yM6buY6K6k5Li6c3RhZ2XkuK3lv4PvvIzljbMoMCwgMClcclxuICogICAgICBvbkNyZWF0ZSA6IGZ1bmNcclxuICogfVxyXG4gKi9cclxuZnVuY3Rpb24gQ3JlYXRlVGlsZU1hcFdpdGhEYXRhKG9wdGlvbnMgPSBudWxsLCBvbkNyZWF0ZSA9IG51bGwpe1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIGRlZmF1bHRUaWxlTWFwRGF0YShvcHRpb25zKTtcclxuICAgIFxyXG4gICAgLy/pqozor4F0aWxlbWFw5pWw5o2u5a6M5pW05oCnXHJcbiAgICBsZXQgY29sdW1ucyA9IG9wdGlvbnMuY29sdW1ucztcclxuICAgIGxldCByb3dzID0gR2V0SW50KG9wdGlvbnMuZGF0YS5sZW5ndGggLyBjb2x1bW5zKTtcclxuICAgIGlmKHJvd3MgKiBjb2x1bW5zICE9IG9wdGlvbnMuZGF0YS5sZW5ndGgpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJhbTogbGVuKGdyaWRzKTogJWQsIGNvbHVtbnM6ICVkXCIsIG9wdGlvbnMuZGF0YS5sZW5ndGgsIGNvbHVtbnMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IHRpbGVtYXAgPSBOZXdUaWxlTWFwKFxyXG4gICAgICAgIHJvd3MsIGNvbHVtbnMsIG9wdGlvbnMuZ3JpZFdpZHRoLCBvcHRpb25zLmdyaWRIZWlnaHQsIE5ld1BvcyhvcHRpb25zLngsIG9wdGlvbnMueSkpO1xyXG4gICAgaWYob25DcmVhdGUpe1xyXG4gICAgICAgIEdyaWRNYXBJdGVyYXRvcih0aWxlbWFwLCBncmlkID0+IHtcclxuICAgICAgICAgICAgbGV0IHZhbCA9IG9wdGlvbnMuZGF0YVtncmlkLnJvd0luZGV4ICogY29sdW1ucyArIGdyaWQuY29sSW5kZXhdO1xyXG4gICAgICAgICAgICBvbkNyZWF0ZSh2YWwsIHRpbGVtYXAsIGdyaWQpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRpbGVtYXA7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRlZmF1bHRUaWxlTWFwRGF0YShvcHRpb25zID0gbnVsbCl7XHJcbiAgICBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7XHJcbiAgICAgICAgY29sdW1ucyA6IDEsXHJcbiAgICAgICAgZ3JpZFdpZHRoIDogMzIsXHJcbiAgICAgICAgZ3JpZEhlaWdodCA6IDMyLFxyXG4gICAgICAgIHggOiAwLFxyXG4gICAgICAgIHkgOiAwLFxyXG4gICAgICAgIGRhdGEgOiBbMF1cclxuICAgIH0sIG9wdGlvbnMpO1xyXG4gICAgb3B0aW9ucy5ncmlkV2lkdGggPSBvcHRpb25zLmdyaWRXaWR0aCA+IDAgPyBvcHRpb25zLmdyaWRXaWR0aCA6IDMyO1xyXG4gICAgb3B0aW9ucy5ncmlkSGVpZ2h0ID0gb3B0aW9ucy5ncmlkSGVpZ2h0ID4gMCA/IG9wdGlvbnMuZ3JpZEhlaWdodCA6IDMyO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBDcmVhdGVUaWxlTWFwV2l0aERhdGFcclxufSIsIlxyXG52YXIgX2NhbGxiYWNrO1xyXG52YXIgX2ZyYW1lTm8gPSAwO1xyXG52YXIgX2R0ID0gMDtcclxudmFyIF9sYXN0ID0gMDtcclxudmFyIF9pc0VuZCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBydW5UaWNrKHRpbWVzdGFtcCkge1xyXG4gICAgX2R0ID0gdGltZXN0YW1wIC0gX2xhc3Q7XHJcbiAgICBfbGFzdCA9IHRpbWVzdGFtcDtcclxuICAgIF9jYWxsYmFjayhfZHQpO1xyXG4gICAgaWYoIV9pc0VuZCl7XHJcbiAgICAgICAgX2ZyYW1lTm8gPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpY2spO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIGRlYnVnXHJcbiAqL1xyXG52YXIgc3RhcnQgPSBudWxsO1xyXG52YXIgbGFzdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG5mdW5jdGlvbiBydW5UaWNrMihmcHMgPSAwLCBvblVwZGF0ZUNhbGxiYWNrID0gbnVsbCkge1xyXG4gICAgX2lzRW5kID0gZmFsc2U7XHJcbiAgICBvblVwZGF0ZUNhbGxiYWNrO1xyXG4gICAgbGV0IHRpY2sgPSBmcHMgLyAxMDAwO1xyXG4gICAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIHN0YXJ0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICAgICAgaWYoIV9pc0VuZCl7XHJcbiAgICAgICAgICAgIG9uVXBkYXRlQ2FsbGJhY2soc3RhcnQgLSBsYXN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGFzdCA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xyXG4gICAgfSwgdGljayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0b3AoKXtcclxuICAgIF9pc0VuZCA9IHRydWU7XHJcbn1cclxuXHJcblxyXG4vL+WboOS4uuaMieS9j+mUrueahOivne+8jOS8muS4jeaWreinpuWPkW9uS2V5ZG93bu+8jOaJgOS7peWBmuS4qm1hcOWIpOaWrVxyXG52YXIgX2tleURvd25NYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIGNhbnZhc09uS2V5Q2FsbGJhY2soa2V5RG93bkNhbGxiYWNrID0gbnVsbCwga2V5VXBDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIGUgPT4ge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgIGlmKF9rZXlEb3duTWFwLmdldChjb2RlKSl7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgX2tleURvd25NYXAuc2V0KGNvZGUsIDEpO1xyXG4gICAgICAgIGtleURvd25DYWxsYmFjayhlLmtleUNvZGUpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGUgPT4ge1xyXG4gICAgICAgIGxldCBjb2RlID0gZS5rZXlDb2RlO1xyXG4gICAgICAgIF9rZXlEb3duTWFwLmRlbGV0ZShjb2RlKTtcclxuICAgICAgICBrZXlVcENhbGxiYWNrKGUua2V5Q29kZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIGh0dHBzOi8vYmxvZy5jc2RuLm5ldC9xcV8xNzYxNjE2OS9hcnRpY2xlL2RldGFpbHMvNzI4MzMwNDRcclxuICovXHJcbmZ1bmN0aW9uIGNhbnZhc09uTW91c2VDYWxsYmFjayhlbmdpbmUgPSBudWxsLCBtb3VzZWRvd25DYWxsYmFjayA9IG51bGwsIG1vdXNldXBDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vkb3duXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgKiAoY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCk7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgKiAoY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBtb3VzZWRvd25DYWxsYmFjayh4LCB5KTtcclxuICAgIH0pO1xyXG4gICAgZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2V1cFwiLCBldmVudCA9PiB7XHJcbiAgICAgICAgbGV0IHJlY3QgPSBjYW52YXMuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XHJcbiAgICAgICAgbGV0IHggPSBldmVudC5jbGllbnRYIC0gcmVjdC5sZWZ0ICogKGNhbnZhcy53aWR0aCAvIHJlY3Qud2lkdGgpO1xyXG4gICAgICAgIGxldCB5ID0gZXZlbnQuY2xpZW50WSAtIHJlY3QudG9wICogKGNhbnZhcy5oZWlnaHQgLyByZWN0LmhlaWdodCk7XHJcbiAgICAgICAgbW91c2V1cENhbGxiYWNrKHgsIHkpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBlbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBldmVudCA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coZXZlbnQueCwgZXZlbnQueSk7XHJcbiAgICAvLyB9KTtcclxuICAgIC8vZW5naW5lLmNhbnZhcy5hZGRFdmVudExpc3RlbmVyKFwibW91c2Vtb3ZlXCIsZG9Nb3VzZU1vdmUsZmFsc2UpO1xyXG4gICAgLy9lbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW91dFwiLGRvTW91c2VPdXQsZmFsc2UpO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBydW5UaWNrMiwgc3RvcCwgY2FudmFzT25LZXlDYWxsYmFjaywgY2FudmFzT25Nb3VzZUNhbGxiYWNrXHJcbn0iLCJpbXBvcnQgeyBydW5UaWNrMiwgY2FudmFzT25LZXlDYWxsYmFjaywgY2FudmFzT25Nb3VzZUNhbGxiYWNrIH0gZnJvbSBcIi4vcHJvY2Vzc29yXCI7XHJcbmltcG9ydCB7IEdldFNwcml0ZUZyYW1lQml0bWFwRGF0YSwgR2V0U3ByaXRlRnJhbWVTdGFydFgsIEdldFNwcml0ZUZyYW1lU3RhcnRZLCBHZXRTcHJpdGVGcmFtZVdpZHRoLCBHZXRTcHJpdGVGcmFtZUhlaWdodCwgR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgsIEdldFNwcml0ZUZyYW1lSGFsZkhlaWdodCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZVwiO1xyXG5pbXBvcnQgeyBBYnN0cmFjdEVuZ2luZSB9IGZyb20gXCIuLi9iYXNlXCI7XHJcbmltcG9ydCB7IEdldFJlY3RIYWxmV2lkdGgsIEdldFJlY3RIYWxmSGVpZ2h0LCBHZXRSZWN0SGVpZ2h0LCBHZXRSZWN0V2lkdGggfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcblxyXG4vKipcclxuICog5rWP6KeI5Zmo55qEa2V5LWNvZGVcclxuICovXHJcbmV4cG9ydCBjb25zdCBLRVlfUklHSFQgPSAzOTtcclxuZXhwb3J0IGNvbnN0IEtFWV9MRUZUID0gMzc7XHJcbmV4cG9ydCBjb25zdCBLRVlfVVAgPSAzODtcclxuZXhwb3J0IGNvbnN0IEtFWV9ET1dOID0gNDA7XHJcblxyXG5leHBvcnQgY29uc3QgS0VZX1NQQUNFID0gMzI7XHJcblxyXG5leHBvcnQgY29uc3QgS0VZX1cgPSA4NztcclxuZXhwb3J0IGNvbnN0IEtFWV9BID0gNjU7XHJcbmV4cG9ydCBjb25zdCBLRVlfUyA9IDgzO1xyXG5leHBvcnQgY29uc3QgS0VZX0QgPSA2ODtcclxuXHJcbmNsYXNzIEg1RW5naW5lIGV4dGVuZHMgQWJzdHJhY3RFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZnBzID0gNjAsIGNhbnZhcyA9IG51bGwsIGN0eCA9IG51bGwpe1xyXG4gICAgICAgIHN1cGVyKGZwcyk7XHJcbiAgICAgICAgdGhpcy5jYW52YXMgPSBjYW52YXM7XHJcbiAgICAgICAgdGhpcy5jdHggPSBjdHg7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKXtcclxuICAgICAgICB0aGlzLmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5jYW52YXMud2lkdGgsIHRoaXMuY2FudmFzLmhlaWdodCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0ZyYW1lKGNlbnRlclBvcyA9IG51bGwsIHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICAgICAgLy/lj4LogIPvvJpjb250ZXh0LmRyYXdJbWFnZShpbWcsc3gsc3ksc3dpZHRoLHNoZWlnaHQseCx5LHdpZHRoLGhlaWdodCk7XHJcbiAgICAgICAgdGhpcy5jdHguZHJhd0ltYWdlKFxyXG4gICAgICAgICAgICBHZXRTcHJpdGVGcmFtZUJpdG1hcERhdGEoc3ByaXRlRnJhbWUpLFxyXG4gICAgICAgICAgICBHZXRTcHJpdGVGcmFtZVN0YXJ0WChzcHJpdGVGcmFtZSksIEdldFNwcml0ZUZyYW1lU3RhcnRZKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVXaWR0aChzcHJpdGVGcmFtZSksIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lKSxcclxuICAgICAgICAgICAgY2VudGVyUG9zLnggLSBHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aChzcHJpdGVGcmFtZSksIGNlbnRlclBvcy55IC0gR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0KHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVXaWR0aChzcHJpdGVGcmFtZSksIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd1JlY3QoY2VudGVyUG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuY3R4LnN0cm9rZVJlY3QoXHJcbiAgICAgICAgICAgIGNlbnRlclBvcy54IC0gR2V0UmVjdEhhbGZXaWR0aChyZWN0KSwgY2VudGVyUG9zLnkgLSBHZXRSZWN0SGFsZkhlaWdodChyZWN0KSxcclxuICAgICAgICAgICAgR2V0UmVjdFdpZHRoKHJlY3QpLCBHZXRSZWN0SGVpZ2h0KHJlY3QpKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3TGluZShjZW50ZXJQb3MgPSBudWxsLCBlbmRQb3MgPSBudWxsKXtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5tb3ZlVG8oeDEsIHkxKTtcclxuICAgICAgICBjdHgubGluZVRvKHgyLCB5Mik7XHJcbiAgICAgICAgY3R4LnN0cm9rZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdDaXJjbGUoY2VudGVyUG9zID0gbnVsbCwgcmFkaXVzID0gMCl7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHguYXJjKHgsIHksIHJhZGl1cywgMCwgMiAqIE1hdGguUEkpO1xyXG4gICAgICAgIGN0eC5zdHJva2UoKTtcclxuICAgIH1cclxuXHJcbiAgICBsb2FkUmVzb3VyY2UoaW1nU3JjID0gXCJcIiwgb25Mb2FkQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICBsZXQgaW1nID0gbmV3IEltYWdlKCk7XHJcbiAgICAgICAgaW1nLnNyYyA9IGltZ1NyYztcclxuICAgICAgICBpbWcub25sb2FkID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBvbkxvYWRDYWxsYmFjayhpbWcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBvbktleUNhbGxiYWNrKGtleURvd25DYWxsYmFjayA9IG51bGwsIGtleVVwQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICBjYW52YXNPbktleUNhbGxiYWNrKGtleURvd25DYWxsYmFjaywga2V5VXBDYWxsYmFjayk7XHJcbiAgICB9XHJcblxyXG4gICAgb25Ub3VjaENhbGxiYWNrKHRvdWNoT25DYWxsYmFjayA9IG51bGwsIHRvdWNoT3ZlckNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgY2FudmFzT25Nb3VzZUNhbGxiYWNrKHRoaXMsIHRvdWNoT25DYWxsYmFjaywgdG91Y2hPdmVyQ2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXJ0KG9uRW50ZXJGcmFtZUNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgcnVuVGljazIodGhpcy5mcHMsIG9uRW50ZXJGcmFtZUNhbGxiYWNrKTtcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIE5ld0g1RW5naW5lKHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwgZnBzID0gMCl7XHJcbiAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYW52YXNcIik7XHJcbiAgICBjYW52YXMud2lkdGggPSB3aWR0aDtcclxuICAgIGNhbnZhcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuICAgIGN0eC5zdHJva2VTdHlsZT1cIiMwMDAwZmZcIjsgICAgICAgICAgLy/nlLvnn6nlvaLmoYbnlKjnmoRcclxuICAgIHJldHVybiBuZXcgSDVFbmdpbmUoZnBzLCBjYW52YXMsIGN0eCk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIE5ld0g1RW5naW5lXHJcbn1cclxuXHJcblxyXG5jb25zdCBSYWRpdXMgPSBNYXRoLlBJLzE4MDtcclxuZnVuY3Rpb24gRHJhd0ltYWdlV2l0aEFuZ2xlKGFuZ2xlID0gMCwgaW1nRGF0YSwgc3ggPSAwLCBzeSA9IDAsIHN3aWR0aCA9IDAsIHNoZWlnaHQgPSAwLCB4ID0gMCwgeSA9IDAsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgbGV0IGN0eCA9IF9lbmdpbmUuY3R4O1xyXG4gICAgY3R4LnNhdmUoKTtcclxuICAgIGN0eC50cmFuc2xhdGUoeCArIHdpZHRoLzIsIHkgKyBoZWlnaHQvMik7XHJcbiAgICBjdHgucm90YXRlKGFuZ2xlICogUmFkaXVzKTtcclxuICAgIERyYXdJbWFnZShpbWdEYXRhLCBzeCwgc3ksIHN3aWR0aCwgc2hlaWdodCwgLXdpZHRoLzIsIC1oZWlnaHQvMiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgIC8vIGN0eC50cmFuc2xhdGUoMTAwLCAxMDApO1xyXG5cdC8vIGN0eC5yb3RhdGUoOTAgKiBNYXRoLlBJLzE4MCk7XHQvL+S7peS4iumdoueahOWBj+enu+eCueS4uuWHhu+8jOi/m+ihjOaXi+i9rFxyXG5cdC8vIGN0eC5kcmF3SW1hZ2UoaSwgMTg3LCAwLCAxODYsIDEzMCwgLTAsIC0wLCAxMDAsIDEwMCk7XHJcbn0iLCJpbXBvcnQgeyBOZXdINUVuZ2luZSB9IGZyb20gXCIuL3dlYi9tb2RlbFwiO1xyXG5cclxuY29uc3QgRW5naW5lV2ViID0gMDtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0geyp9IG9wdGlvbnNcclxuICoge1xyXG4gKiAgICAgIHR5cGUgOiAwLFxyXG4gKiAgICAgIHdpZHRoIDogNDAwLFxyXG4gKiAgICAgIGhlaWdodCA6IDQwMCxcclxuICogICAgICBmcHMgOiA2MCxcclxuICogICAgICBrZXlEb3duSGFuZGxlciA6IGZ1bmMsXHJcbiAqICAgICAga2V5VXBIYW5sZXIgOiBmdW5jLFxyXG4gKiAgICAgIG1vdXNlZG93bkhhbmRsZXIgOiBmdW5jLFxyXG4gKiAgICAgIG1vdXNldXBIYW5kbGVyIDogZnVuY1xyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVFbmdpbmVXaXRoRGF0YShvcHRpb25zID0gbnVsbCl7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgICBsZXQgd2lkdGggPSBvcHRpb25zWyd3aWR0aCddO1xyXG4gICAgd2lkdGggPSB3aWR0aCA/IHdpZHRoIDogNDAwO1xyXG4gICAgbGV0IGhlaWdodCA9IG9wdGlvbnNbJ2hlaWdodCddO1xyXG4gICAgaGVpZ2h0ID0gaGVpZ2h0ID8gaGVpZ2h0IDogNDAwO1xyXG4gICAgbGV0IGZwcyA9IG9wdGlvbnNbJ2ZwcyddO1xyXG4gICAgZnBzID0gZnBzID8gZnBzIDogNjA7XHJcbiAgICBsZXQgdHlwZSA9IG9wdGlvbnNbJ3R5cGUnXTtcclxuICAgIHR5cGUgPSB0eXBlID8gdHlwZSA6IEVuZ2luZVdlYjtcclxuXHJcbiAgICBsZXQgZW5naW5lID0gbnVsbDtcclxuICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICBjYXNlIEVuZ2luZVdlYjpcclxuICAgICAgICAgICAgZW5naW5lID0gTmV3SDVFbmdpbmUod2lkdGgsIGhlaWdodCwgZnBzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy9lcnJvciBsb2dcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ms6jlhozmjInplK7lm57osINcclxuICAgIGlmKG9wdGlvbnMua2V5RG93bkhhbmRsZXIgJiYgb3B0aW9ucy5rZXlVcEhhbmxlcil7XHJcbiAgICAgICAgZW5naW5lLm9uS2V5Q2FsbGJhY2sob3B0aW9ucy5rZXlEb3duSGFuZGxlciwgb3B0aW9ucy5rZXlVcEhhbmxlcik7XHJcbiAgICB9XHJcbiAgICBpZihvcHRpb25zLm1vdXNlZG93bkhhbmRsZXIgJiYgb3B0aW9ucy5tb3VzZXVwSGFuZGxlcil7XHJcbiAgICAgICAgZW5naW5lLm9uTW91c2VDYWxsYmFjayhvcHRpb25zLm1vdXNlZG93bkhhbmRsZXIsIG9wdGlvbnMubW91c2V1cEhhbmRsZXIpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVuZ2luZTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIENyZWF0ZUVuZ2luZVdpdGhEYXRhXHJcbn0iLCJpbXBvcnQgeyBTZXREZWZhdWx0Q2FtZXJhLCBTZXRFbmdpbmUsIFNldERhdGEgfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgQ3JlYXRlQ2FtZXJhV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2NhbWVyYS91dGlsc1wiO1xyXG5pbXBvcnQgeyBpbml0U3lzdGVtcyB9IGZyb20gXCIuL3N5c3RlbVwiO1xyXG5pbXBvcnQgeyBDcmVhdGVUaWxlTWFwV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2dyaWQvdXRpbHNcIjtcclxuaW1wb3J0IHsgQ3JlYXRlRW5naW5lV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2VuZ2luZS91dGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIOmAmui/h+WPguaVsOmFjee9ruWIneWni+WMluezu+e7n+i1hOa6kFxyXG4gKiBvcHRpb25zIHtcclxuICogICAgICBkZWJ1ZyA6IGZhbHNlLFxyXG4gKiAgICAgIGZwcyA6IDYwLFxyXG4gKiAgICAgIHRleHR1cmVzIDogW13moLzlvI/op4FMb2FkUmVzb3VyY2UoKeWGhVxyXG4gKiAgICAgIHNjcmVlbi13aWR0aCA6IDgwMCxcclxuICogICAgICBzY3JlZW4taGVpZ2h0IDogODAwLFxyXG4gKiAgICAgIGNhbWVyYSA6IHt9LFxyXG4gKiAgICAgIGVuZ2luZSA6IHt9LFxyXG4gKiAgICAgIGxheWVycyA6IFtcclxuICogICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgdHlwZSA6IDEg5qC85byP5Y+C6ICDdGlsZW1hcOS4gOiKglxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgXVxyXG4gKiAgICAgIGNvbGxpZGUgOiB7fVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0R2FtZShvcHRpb25zID0gbnVsbCkge1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IG9wdGlvbnNbJ3NjcmVlbi13aWR0aCddO1xyXG4gICAgc2NyZWVuV2lkdGggPSBzY3JlZW5XaWR0aCAmJiBzY3JlZW5XaWR0aCA+IDAgPyBzY3JlZW5XaWR0aCA6IDgwMDtcclxuICAgIGxldCBzY3JlZW5IZWlnaHQgPSBvcHRpb25zWydzY3JlZW4taGVpZ2h0J107XHJcbiAgICBzY3JlZW5IZWlnaHQgPSBzY3JlZW5IZWlnaHQgJiYgc2NyZWVuSGVpZ2h0ID4gMCA/IHNjcmVlbkhlaWdodCA6IDgwMDtcclxuXHJcbiAgICAvL+aRhOWDj+aculxyXG4gICAgU2V0RGVmYXVsdENhbWVyYShcclxuICAgICAgICBDcmVhdGVDYW1lcmFXaXRoRGF0YShvcHRpb25zWydjYW1lcmEnXSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkpO1xyXG5cclxuICAgIC8v5byV5pOOXHJcbiAgICBTZXRFbmdpbmUoXHJcbiAgICAgICAgQ3JlYXRlRW5naW5lV2l0aERhdGEob3B0aW9uc1snZW5naW5lJ10sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQpKTtcclxuICAgIFxyXG4gICAgLy/ns7vnu59cclxuICAgIGluaXRTeXN0ZW1zKG9wdGlvbnNbJ2RlYnVnJ10pO1xyXG5cclxuICAgIC8v5byA5ZCv56Kw5pKe57O757ufXHJcbiAgICBpZihvcHRpb25zLmNvbGxpZGUpe1xyXG4gICAgICAgIE9wZW5Db2xsaWRlcihvcHRpb25zLmNvbGxpZGUpO1xyXG5cclxuICAgICAgICAvLyBpZihvcHRpb25zLnVzZVRpbGVDb21iaW5lKXtcclxuICAgICAgICAvLyAgICAgbGV0IHJlc3VsdE5vZGVzID0gQ3JlYXRlQ29tYmluZU5vZGVzKHRpbGVtYXAsIGNvbGxpZGUuYm94SGFuZGxlcik7XHJcbiAgICAgICAgLy8gICAgIHJlc3VsdE5vZGVzLmZvckVhY2gocmVzdWx0ID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbGxpZGUubG9hZENhbGxiYWNrKHJlc3VsdC52YWx1ZSwgcmVzdWx0LnJlY3QpO1xyXG4gICAgICAgIC8vICAgICB9KTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9XHJcblxyXG4gICAgLy/oh6rlrprkuYnmlbDmja7nrYlcclxuICAgIGluaXREYXRhcyhvcHRpb25zWydkYXRhcyddKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOS4tOaXtuaWueazle+8jOS7peWQjuS8mOWMllxyXG4gKiBAcGFyYW0geyp9IG9wdGlvbnMgXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0RGF0YXMoZGF0YXMgPSBudWxsKXtcclxuICAgIGlmKCFkYXRhcyB8fCBkYXRhcy5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZGF0YXMuZm9yRWFjaChkYXRhID0+IHtcclxuICAgICAgICBpbml0RGF0YU9iaihkYXRhKTtcclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGluaXREYXRhT2JqKG9wdGlvbnMgPSBudWxsKXtcclxuICAgIGxldCBkYXRhT2JqID0gbnVsbDtcclxuICAgIGlmKG9wdGlvbnNbJ3RpbGVtYXAnXSl7XHJcbiAgICAgICAgZGF0YU9iaiA9IENyZWF0ZVRpbGVNYXBXaXRoRGF0YShvcHRpb25zWyd0aWxlbWFwJ10pO1xyXG4gICAgfVxyXG4gICAgbGV0IG5hbWUgPSBvcHRpb25zWyduYW1lJ107XHJcbiAgICBpZihuYW1lKXtcclxuICAgICAgICBTZXREYXRhKG5hbWUsIGRhdGFPYmopO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBpbml0R2FtZVxyXG59IiwiaW1wb3J0IHsgaW5pdEdhbWUgfSBmcm9tIFwiLi9zZXJ2aWNlL2luaXRcIjtcclxuaW1wb3J0IHsgcnVuV2l0aFNjZW5lLCBzdG9wU3lzdGVtIH0gZnJvbSBcIi4vc2VydmljZS9zeXN0ZW1cIjtcclxuaW1wb3J0IHsgR2V0U2NlbmUsIEdldEVuZ2luZSwgU2V0U3ByaXRlRnJhbWUgfSBmcm9tIFwiLi9yZXNvdXJjZVwiO1xyXG5pbXBvcnQgeyBDcmVhdGVCaXRtYXAgfSBmcm9tIFwiLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZnJhbWVcIjtcclxuXHJcbi8qKlxyXG4gKiBvcHRpb25zIHtcclxuICogICAgICB0ZXh0dXJlcyA6IOagvOW8j+ingUxvYWRSZXNvdXJjZSgp5YaFXHJcbiAqICAgICAgc2NyZWVuIDoge1xyXG4gKiAgICAgICAgICB3aWR0aCA6IDgwMCxcclxuICogICAgICAgICAgaGVpZ2h0IDogODAwXHJcbiAqICAgICAgfSxcclxuICogICAgICBmcHMgOiA2MCxcclxuICogICAgICBkZWJ1ZyA6IGZhbHNlLFxyXG4gKiAgICAgIGNhbWVyYSA6IHtcclxuICogICAgICAgICAgeCA6IDAsXHJcbiAqICAgICAgICAgIHkgOiAwXHJcbiAqICAgICAgfSxcclxuICogICAgICB0aWxlbWFwIDog5qC85byP5Y+C6ICDdGlsZW1hcOS4gOiKglxyXG4gKiAgICAgIGtleUhhbmRsZXIgOiBmdW5jdGlvbih0eXBlLCBrZXlDb2RlKSAgIHR5cGU9MSA9IGRvd24sIHR5cGU9MiA9IHVwXHJcbiAqICAgICAgY29sbGlkZSA6IHtcclxuICogICAgICAgICAgdXNlQm94IDogZmFsc2UsXHJcbiAqICAgICAgICAgIHVzZUdyb3VwIDogZmFsc2UsXHJcbiAqICAgICAgICAgIHBhaXJzIDogW1xyXG4gKiAgICAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICAgIHRlYW0xIDogMSxcclxuICogICAgICAgICAgICAgICAgICB0ZWFtMiA6IDJcclxuICogICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgXSxcclxuICogICAgICAgICAgaGFuZGxlciA6IGZ1bmN0aW9uKGR0LCBjb2xsaWRlcjEsIGNvbGxpZGVyMilcclxuICogICAgICB9XHJcbiAqIH1cclxuICogVE9ETyBzY2VuZeWPr+S7peaYr+S4gOS4qmFjdGlvbj9cclxuICovXHJcbmZ1bmN0aW9uIFN0YXJ0KG9wdGlvbnMgPSBudWxsLCBzY2VuZSA9IG51bGwpe1xyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgICBpZihvcHRpb25zWyd0ZXh0dXJlcyddKXtcclxuICAgICAgICBsb2FkUmVzb3VyY2Uob3B0aW9uc1sndGV4dHVyZXMnXSwgbnVsbCwgKCkgPT4ge1xyXG4gICAgICAgICAgICBpbml0R2FtZShvcHRpb25zKTtcclxuICAgICAgICAgICAgcnVuV2l0aFNjZW5lKHNjZW5lKTtcclxuICAgICAgICB9KTtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIGluaXRHYW1lKG9wdGlvbnMpO1xyXG4gICAgICAgIHJ1bldpdGhTY2VuZShzY2VuZSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFN0b3AoKXtcclxuICAgIEdldFNjZW5lKCkub25FbmQoKTtcclxuICAgIC8vc3RvcFN5c3RlbXMoKTtcclxuICAgIHN0b3BTeXN0ZW0oKTtcclxuICAgIFN0b3BFbmdpbmUoZ2V0RW5naW5lKCkpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOWKoOi9vei1hOa6kO+8jOWIm+W7uueyvueBteW4p1xyXG4gKiB0ZXh0dXJlcyA6IFtcclxuICogICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgaW1nIDogXCJyZXMvYS5wbmdcIixcclxuICogICAgICAgICAgICAgIGZyYW1lcyA6IFtcclxuICogICAgICAgICAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgIG5hbWUgOiBcIndhbGsxXCJcclxuICogICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZUFyZWEgOiB7XHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB4IDogMCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHkgOiAwLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGggOiAwLFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0IDogMFxyXG4gKiAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgICAgICAgXVxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgXSxcclxuICovXHJcbmZ1bmN0aW9uIGxvYWRSZXNvdXJjZSh0ZXh0dXJlc0RhdGEgPSBudWxsLCBPbmxvYWRDYWxsYmFjayA9IG51bGwsIE9uQ29tcGxldGVDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgLy/liqDovb3lm77lg4/lubbliJvlu7rmmL7npLrluKdcclxuICAgIGlmKCF0ZXh0dXJlc0RhdGEgfHwgdGV4dHVyZXNEYXRhLmxlbmd0aCA9PSAwKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBsZXQgX2NvdW50ID0gMDtcclxuICAgIHRleHR1cmVzRGF0YS5mb3JFYWNoKHQgPT57XHJcbiAgICAgICAgRW5naW5lTG9hZFJlc291cmNlKEdldEVuZ2luZSgpLCB0LmltZywgYml0bWFwRGF0YSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBiaXRtYXAgPSBDcmVhdGVCaXRtYXAoYml0bWFwRGF0YSwgYml0bWFwRGF0YS53aWR0aCwgYml0bWFwRGF0YS5oZWlnaHQpO1xyXG4gICAgICAgICAgICB0LmZyYW1lcy5mb3JFYWNoKGZyYW1lRGF0YSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhKGZyYW1lRGF0YS5uYW1lLCBiaXRtYXAsIGZyYW1lRGF0YS50ZXh0dXJlQXJlYSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBfY291bnQrKztcclxuICAgICAgICAgICAgaWYoT25sb2FkQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgT25sb2FkQ2FsbGJhY2soX2NvdW50KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZih0ZXh0dXJlc0RhdGEubGVuZ3RoID09IF9jb3VudCAmJiBPbkNvbXBsZXRlQ2FsbGJhY2spe1xyXG4gICAgICAgICAgICAgICAgT25Db21wbGV0ZUNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEobmFtZSA9IFwiXCIsIGJpdG1hcCA9IG51bGwsIHRleHR1cmVBcmVhRGF0YSA9IG51bGwpe1xyXG4gICAgaWYobmFtZSA9PSBcIlwiIHx8ICFiaXRtYXAgfHwgIXRleHR1cmVBcmVhRGF0YSl7XHJcbiAgICAgICAgY29uc29sZS5lcnIoXCJlcnJvciBwYXJhbS5cIik7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgeCA9IHRleHR1cmVBcmVhRGF0YVsneCddO1xyXG4gICAgbGV0IHkgPSB0ZXh0dXJlQXJlYURhdGFbJ3knXTtcclxuICAgIGxldCB3aWR0aCA9IHRleHR1cmVBcmVhRGF0YVsnd2lkdGgnXTtcclxuICAgIGxldCBoZWlnaHQgPSB0ZXh0dXJlQXJlYURhdGFbJ2hlaWdodCddO1xyXG4gICAgaWYoIXdpZHRoIHx8ICFoZWlnaHQpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGYgPSBDcmVhdGVTcHJpdGVGcmFtZShuYW1lLCBiaXRtYXAsIHgsIHksIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgU2V0U3ByaXRlRnJhbWUobmFtZSwgZik7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBTdGFydCwgU3RvcFxyXG59IiwiaW1wb3J0IG9wdGlvbnMgZnJvbSAnLi9kYXRhJztcclxuaW1wb3J0IHsgR2V0RGF0YSB9IGZyb20gJy4vZnJhbWV3b3JrL2RpcmVjdG9yL3Jlc291cmNlJztcclxuaW1wb3J0IHsgRHJhd1JlY3QgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci9yZW5kZXInO1xyXG5pbXBvcnQgeyBTdGFydCB9IGZyb20gJy4vZnJhbWV3b3JrL2RpcmVjdG9yL2Jvb3QnO1xyXG5pbXBvcnQgeyBHcmlkTWFwSXRlcmF0b3IsIEdldEdyaWRXaWR0aCwgR2V0SGFsZkdyaWRXaWR0aCB9IGZyb20gJy4vZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29udGFpbmVyL2dyaWRtYXAnO1xyXG5pbXBvcnQgeyBHZXRUaWxlR3JpZENlbnRlciB9IGZyb20gJy4vZnJhbWV3b3JrL2xpYi9ncmlkL3RpbGVtYXAvYmFzZSc7XHJcbmltcG9ydCB7IE5ld1JlY3QgfSBmcm9tICcuL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWMnO1xyXG5cclxuLy/osKjorrDmlbDmja7pqbHliqjvvIzliIbmuIXkuJrliqHphY3nva7lkozmoYbmnrbpgLvovpHphY3nva5cclxuLy8gdmFyIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRhdGEsIHtcclxuLy8gICAgIGtleURvd25IYW5kbGVyIDoga2V5RG93bkhhbmRsZXIsXHJcbi8vICAgICBrZXlVcEhhbmxlciA6IGtleVVwSGFubGVyLFxyXG4vLyAgICAgY29sbGlkZSA6IHtcclxuLy8gXHRcdHVzZUJveCA6IHRydWUsXHJcbi8vICAgICAgICAgZ3JvdXAgOiBbXHJcbi8vICAgICAgICAge1xyXG4vLyAgICAgICAgICAgICB0ZWFtMSA6IDEsXHJcbi8vICAgICAgICAgICAgIHRlYW0yIDogMlxyXG4vLyAgICAgICAgIH1dLFxyXG4vLyAgICAgICAgIGNhbGxiYWNrIDogQm94Q2FsbGJhY2tcclxuLy8gXHR9XHJcbi8vIH0pO1xyXG4vLyBvcHRpb25zLnRpbGVtYXAuaW5pdEhhbmRsZXIgPSBpbml0SGFuZGxlcjtcclxuXHJcbmNsYXNzIE15U2NlbmUge1xyXG4gICAgb25TdGFydCgpe1xyXG4gICAgICAgIC8vZHJhd1RpbGUoKTtcclxuICAgIH1cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7XHJcbiAgICAgICAgZHJhd1RpbGUoKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZHJhd1RpbGUoKXtcclxuICAgIGxldCB0aWxlbWFwID0gR2V0RGF0YShcInRpbGUxXCIpO1xyXG4gICAgLy9jb25zb2xlLmxvZyh0aWxlbWFwKTtcclxuICAgIEdyaWRNYXBJdGVyYXRvcih0aWxlbWFwLCBncmlkID0+IHtcclxuICAgICAgICBsZXQgcG9zID0gR2V0VGlsZUdyaWRDZW50ZXIodGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgbGV0IGhhbGZXaWR0aCA9IEdldEhhbGZHcmlkV2lkdGgoZ3JpZCk7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gR2V0R3JpZFdpZHRoKGdyaWQpO1xyXG4gICAgICAgIERyYXdSZWN0KHBvcywgTmV3UmVjdCh3aWR0aCwgd2lkdGgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4oZnVuY3Rpb24gKCl7XHJcbiAgICBjb25zb2xlLmxvZyhvcHRpb25zKTtcclxuICAgIFN0YXJ0KG9wdGlvbnMsIG5ldyBNeVNjZW5lKCkpO1xyXG59KSgpIl0sInNvdXJjZVJvb3QiOiIifQ==