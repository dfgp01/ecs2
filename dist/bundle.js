!function(t){var n={};function l(e){if(n[e])return n[e].exports;var u=n[e]={i:e,l:!1,exports:{}};return t[e].call(u.exports,u,u.exports,l),u.l=!0,u.exports}l.m=t,l.c=n,l.d=function(t,n,e){l.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:e})},l.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},l.t=function(t,n){if(1&n&&(t=l(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(l.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var u in t)l.d(e,u,function(n){return t[n]}.bind(null,u));return e},l.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return l.d(n,"a",n),n},l.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},l.p="",l(l.s=1)}([function(t){t.exports={debug:!0,def:{0:{},1:{color:"#333333"}},datas:[{name:"tile1",tilemap:{data:[1,1,1,1,0,1,1,1,1],columns:3,gridWidth:80,gridHeight:80}}]}},function(t,n,l){"use strict";l.r(n);var e=l(0),u=new Map;var r=new Map;var i=null;function o(){return i}var s=null;function a(){return s}class c{constructor(t=60){this.fps=t,this.tick=1e3/t}clear(){}drawFrame(t=null,n=null){}drawRect(t=null,n=null){}drawLine(t=null,n=null){}drawCircle(t=null,n=0){}loadResource(t="",n=null){}onKeyCallback(t=null,n=null){}onTouchCallback(t=null,n=null){}start(t=null){}}class d{constructor(t=0,n=0){this.x=t,this.y=n}}function h(t=0,n=0){return new d(t,n)}function f(t=null,n=null){return h(t.x-n.x,t.y-n.y)}class p{constructor(t=0,n=0){this.x=t,this.y=n}}function g(t=0,n=0){return new p(t,n)}class x{constructor(t=0,n=0){this.width=t,this.height=n}}function y(t=0,n=0){return 0==t||0==n?(console.error("rect param error. width:%d, height:%d",t,n),null):new x(t,n)}function w(t=null){return t.width}function m(t=null){return t.height}function v(t=null){return.5*t.width}function b(t=null){return.5*t.height}class k{constructor(t=null,n=null){this.pos=t,this.offset=n}}function _(t=null){return h(t.pos.x+t.offset.x,t.pos.y+t.offset.y)}function C(t=0){return Math.trunc(t)}class R extends k{constructor(t=null,n=null,l=null){super(t,n),this.rect=l}}function H(t=null,n=null,l=null){return n=n||g(),new R(t,n,l)}function M(t=null){return t.rect}function P(t=null){return _(t)}function I(t=null){let n=P(t);return h(n.x-v(t.rect),n.y-b(t.rect))}class L{constructor(t=null,n=null){this.rectPosRel=t,this.screenOffset=n}}function O(t=null,n=0,l=0){let e=(t=t||{style:0,datas:[{x:0,y:0}]}).datas[0];return function(t=0,n=0,l=0,e=0){let u=H(h(t,n),null,y(l,e));return new L(u)}(e.x,e.y,n,l)}function W(t=null,n=null){return f(n,function(t=null){return I(t.rectPosRel)}(t))}function G(){!function(t=null){t.clear()}(a())}function S(t=null,n=null){!function(t=null,n=null,l=null){let e=W(t,n);!function(t=null,n=null,l=null){t.drawFrame(n,l)}(a(),e.x,e.y)}(o(),t,n)}function T(t=null,n=null){!function(t=null,n=null,l=null){let e=W(t,n);!function(t=null,n=null,l=null){t.drawRect(n,l)}(a(),e,l)}(o(),t,n)}function E(t=null,n=null){!function(t=null,n=null,l=null){let e=W(t,n),u=W(t,l);!function(t=null,n=null,l=null){t.drawLine(n,l)}(a(),e,u)}(o(),t,n)}function j(t=null,n=0){!function(t=null,n=null,l=0){let e=W(t,n);!function(t=null,n=null,l=0){t.drawCircle(n,l)}(a(),e,l)}(o(),t,n)}class D{constructor(){}get(t=0){}firsr(){}last(){}size(){}add(t=null){}push(t=null){}insert(t=null,n=0){}pop(){}pull(){}remove(t=0){}iterator(t=null){}iteratorReverse(t=null){}iteratorCompare(t=null){}}function z(t=null,n=null){t&&n&&t.iterator(n)}class U{constructor(t=null,n=null,l=null,e=0){this.data=t,this.prep=n,this.next=l,this.order=e}}class F extends D{constructor(){super(),this.head=new U,this.tail=new U,this.head.next=this.tail,this.tail.prep=this.head,this._map=new Map,this._size=0,this._delList=[],this._curr=this.head,this._lock=!1}get(t=0){let n=this._map.get(t);return n?n.data:null}first(){let t=this.head.next;return t==this.tail?null:t.data}last(){let t=this.tail.prep;return t==this.head?null:t.data}size(){return this._size}add(t=null){B(this,t,this.tail)}push(t=null){B(this,t,this.head.next)}insert(t=null,n=0){let l=this.head.next;for(;l!=this.tail&&!(n<l.order);)l=l.next;B(this,t,l,n)}pop(){K(this,this.head.next)}pull(){K(this,this.tail.prep)}remove(t=0){K(this,this._map.get(t))}iterator(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail&&!t(n.data);)n=n.next;for(this._lock=!1;this._delList.length>0;)X(this,this._delList.pop())}iteratorReverse(t=null){this._lock=!0;let n=this.tail.prep;for(;n!=this.head&&!t(n.data);)n=n.prep;for(this._lock=!1;this._delList.length>0;)X(this,this._delList.pop())}iteratorCompare(t=null){this._lock=!0;let n=this.head.next;for(;n!=this.tail;){let l=n.next;for(;l!=this.tail&&!t(n.data,l.data);)l=l.next;n=n.next}for(this._lock=!1;this._delList.length>0;)X(this,this._delList.pop())}}function B(t=null,n=null,l=null,e=0){let u=l.prep,r=new U(n,u,l,e);u.next=r,l.prep=r,t._map.set(n.id,r),t._size++}function K(t=null,n=null){!t||!n||t._size<=0||(t._lock?t._delList.push(n):X(t,n))}function X(t=null,n=null){t._map.delete(keyId);let l=n.prep,e=n.next;l.next=e,e.prep=l,t._size--}function Y(){return new F}var A=1;function q(){return A++}class J{constructor(){this.id=q()}onStart(){}onUpdate(t=0){}onEnd(){}}var N=Y();class Q{constructor(t=null,n=0,l=0){this.data=t,this.width=n,this.height=l}}function V(t=null){return GetRectWidth(t.rect)}function Z(t=null){return GetRectHeight(t.rect)}Y();function $(t=null){return t.spriteFrame}function tt(t=null){let n=function(t=null){return t.pos}(displayTuple.rectPosRel),l=function(t=null){return t.offset}(displayTuple.rectPosRel);!function(t=null,n=0,l=0){t.x=n,t.y=l}(t.isoPos,.5*(n.x-n.y)+l.x,.5*(n.x+n.y)+l.y)}class nt extends J{onUpdate(t=0){G(),function(t=null){z(N,n=>{z(n.list,n=>{t(n)})})}(t=>{IsDisplayISOmetrics(t)?function(t=null){tt(t),S(function(t=null){return t.isoPos}(t),$(t))}(camera):function(t=null){S(function(t=null){return _(t.rectPosRel)}(t),$(t))}(camera)})}}var lt=null;var et=Y(),ut=null;function rt(t=!1){lt||(lt=new nt),ut=lt}var it=16,ot=41,st=0,at=0;function ct(t=null){z(et,t=>{t.onStart()}),ut.onStart(),t.onStart(),function(t=null,n=null){t.start(n)}(a(),n=>{(st+=n)>=it&&(st-=it,t.onUpdate(n),z(et,t=>{t.onUpdate(n)})),(at+=n)>=ot&&(at-=ot,ut.onUpdate(n))})}class dt{constructor(t=0,n=0,l=null){this.width=t,this.height=n,this.data=l}}class ht{getData(t=null){}setData(t=null,n=null){}getGrid(t=null){}getGridMapWidth(){}getGridMapHeight(){}iterator(t=null){}}function ft(t=null){return t.width}function pt(t=null){return.5*function(t=null){return t.getGridMapWidth()}(t)}function gt(t=null){return.5*function(t=null){return t.getGridMapHeight()}(t)}function xt(t=null,n=null){t.iterator(n)}class yt extends dt{constructor(t=0,n=0,l=0,e=0,u=null){super(t,n,u),this.rowIndex=l,this.colIndex=e}}class wt extends ht{constructor(t=null,n=0,l=0,e=0,u=0,r=null){super(),this.pos=t,this.rows=n,this.columns=l,this.gridWidth=e,this.gridHeight=u,this.grids=r}getData(t=null){let n=mt(t,this);return n?n.data:null}setData(t=null,n=null){let l=mt(t,this);l&&(l.data=n)}getGrid(t=null){return mt(t,this)}getGridMapWidth(){return this.columns*this.gridWidth}getGridMapHeight(){return this.rows*this.gridHeight}iterator(t=null){this.grids.forEach(n=>{t(n)})}}function mt(t=null,n=null){let l=f(t,n.pos);if(!function(t=0,n=0,l=null){return t>0&&t<l.getGridMapWidth()&&n>0&&n<l.getGridMapHeight()}(l.x,l.y,n))return null;let e=C(l.x/gridmap.gridWidth),u=C(l.y/gridmap.gridHeight);return gridmap.grids[u*gridmap.columns+e]}function vt(t=null){return h(t.pos.x-pt(t),t.pos.y-gt(t))}function bt(t=null,n=null){!function(t=null){(t=Object.assign({columns:1,gridWidth:32,gridHeight:32,x:0,y:0,data:[0]},t)).gridWidth=t.gridWidth>0?t.gridWidth:32,t.gridHeight=t.gridHeight>0?t.gridHeight:32}(t);let l=t.columns,e=C(t.data.length/l);if(e*l!=t.data.length)return console.error("error param: len(grids): %d, columns: %d",t.data.length,l),null;let u=function(t=0,n=0,l=0,e=0,u=null){let r=[];for(let u=0;u<t;u++)for(let t=0;t<n;t++)r.push(new yt(l,e,u,t));return u=u||h(),new wt(u,t,n,l,e,r)}(e,l,t.gridWidth,t.gridHeight,h(t.x,t.y));return n&&xt(u,e=>{let r=t.data[e.rowIndex*l+e.colIndex];n(r,u,e)}),u}var kt=!1;var _t=null,Ct=(new Date).getTime();var Rt=new Map;class Ht extends c{constructor(t=60,n=null,l=null){super(t),this.canvas=n,this.ctx=l}clear(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}drawFrame(t=null,n=null){this.ctx.drawImage(function(t=null){return t.bitmap.data}(n),function(t=null){return t.bitmapX}(n),function(t=null){return t.bitmapY}(n),V(n),Z(n),t.x-function(t=null){return GetRectHalfWidth(t.rect)}(n),t.y-function(t=null){return GetRectHalfHeight(t.rect)}(n),V(n),Z(n))}drawRect(t=null,n=null){this.ctx.strokeRect(t.x-v(n),t.y-b(n),w(n),m(n))}drawLine(t=null,n=null){let l=this.ctx;l.beginPath(),l.moveTo(t.x,t.y),l.lineTo(n.x,n.y),l.stroke()}drawCircle(t=null,n=0){let l=this.ctx;l.beginPath(),l.arc(t.x,t.y,n,0,2*Math.PI),l.stroke()}loadResource(t="",n=null){let l=new Image;l.src=t,l.onload=function(){n(l)}}onKeyCallback(t=null,n=null){!function(t=null,n=null){window.addEventListener("keydown",n=>{let l=n.keyCode;Rt.get(l)||(Rt.set(l,1),t(n.keyCode))}),window.addEventListener("keyup",t=>{let l=t.keyCode;Rt.delete(l),n(t.keyCode)})}(t,n)}onTouchCallback(t=null,n=null){!function(t=null,n=null,l=null){t.canvas.addEventListener("mousedown",t=>{let l=canvas.getBoundingClientRect(),e=t.clientX-l.left*(canvas.width/l.width),u=t.clientY-l.top*(canvas.height/l.height);n(e,u)}),t.canvas.addEventListener("mouseup",t=>{let n=canvas.getBoundingClientRect(),e=t.clientX-n.left*(canvas.width/n.width),u=t.clientY-n.top*(canvas.height/n.height);l(e,u)})}(this,t,n)}start(t=null){!function(t=0,n=null){kt=!1,setInterval(()=>{_t=(new Date).getTime(),kt||n(_t-Ct),Ct=(new Date).getTime()},1e3/t)}(this.fps,t)}}Math.PI;const Mt=0;function Pt(t=null,n=0,l=0,e=null,u=null,r=null,i=null){let o=(t=t||{}).fps;o=o||60;let s=t.type,a=null;switch(s=s||Mt){case Mt:a=function(t=0,n=0,l=0){let e=document.getElementById("canvas");e.width=t,e.height=n;let u=e.getContext("2d");return u.strokeStyle="#0000ff",new Ht(l,e,u)}(n,l,o);break;default:return null}return e&&u&&a.onKeyCallback(e,u),r&&i&&a.onTouchCallback(r,i),a}function It(t=null){let n=t["screen-width"];n=n&&n>0?n:800;let l=t["screen-height"];l=l&&l>0?l:800,function(t=null){i=t}(O(t.camera,n,l)),function(t=null){s=t}(Pt(t.engine,n,l,t.keyDownHandler,t.keyUpHanler,t.touchOnCallback,t.touchOverCallback)),rt(t.debug),t.collide&&OpenCollider(t.collide),function(t=null){if(!t||0==t.length)return;t.forEach(t=>{!function(t=null){let n=null;t.tilemap&&(n=bt(t.tilemap));let l=t.name;l&&function(t="",n=null,l=!0){r.get(t)&&l?console.error("data: %s exists.",t):r.set(t,n)}(l,n)}(t)})}(t.datas)}function Lt(t=null,n=null){(t=t||{}).textures?function(t=null,n=null,l=null){if(!t||0==t.length)return;let e=0;t.forEach(r=>{EngineLoadResource(a(),r.img,i=>{let o=function(t=null,n=0,l=0){return new Q(t,n,l)}(i,i.width,i.height);r.frames.forEach(t=>{!function(t="",n=null,l=null){if(""==t||!n||!l)return console.err("error param."),null;let e=l.x,r=l.y,i=l.width,o=l.height;if(!i||!o)return null;let s=CreateSpriteFrame(t,n,e,r,i,o);!function(t="",n=null,l=!0){u.get(t)&&l?console.error("frame: %s exists.",t):u.set(t,n)}(t,s)}(t.name,o,t.textureArea)}),e++,n&&n(e),t.length==e&&l&&l()})})}(t.textures,null,()=>{It(t),ct(n)}):(It(t),ct(n))}var Ot=Object.assign(e,{touchOnCallback:function(t=0,n=0){console.log(t,n)},touchOverCallback:function(t=0,n=0){}});class Wt{onStart(){}onUpdate(t=0){(function(){let t=function(t=""){return r.get(t)}("tile1");xt(t,n=>{let l=function(t=null,n=null){let l=vt(t);return h(l.x+t.gridWidth*(n.colIndex+.5),l.y+t.gridHeight*(n.rowIndex+.5))}(t,n),e=function(t=null){return.5*ft(t)}(n),u=ft(n);console.log("g[%d, %d]: (%d, %d), %d %d",n.rowIndex,n.colIndex,l.x,l.y,e,u),function(t=null,n=0){let l=h(t.x-n,t.y-n),e=Gt(l),u=h(t.x+n,t.y-n),r=Gt(u),i=h(t.x-n,t.y+n),o=Gt(i),s=h(t.x+n,t.y+n),a=Gt(s);console.log("p1:(%d, %d), iso:(%d, %d)",l.x,l.y,e.x,e.y),console.log("p2:(%d, %d), iso:(%d, %d)",u.x,u.y,r.x,r.y),console.log("p3:(%d, %d), iso:(%d, %d)",i.x,i.y,o.x,o.y),console.log("p4:(%d, %d), iso:(%d, %d)",s.x,s.y,a.x,a.y),E(e,r),E(r,a),E(a,o),E(o,e)}(l,e)})})(),j(h(),3),T(h(),y(function(t=null){return w(M(t.rectPosRel))}(o()),function(t=null){return m(M(t.rectPosRel))}(o())))}}function Gt(t=null){return h(t.x-t.y,.5*(t.x+t.y))}console.log(Ot),Lt(Ot,new Wt)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9yZXNvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpYy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vb2Zmc2V0L2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvZm91bmRhdGlvbi9vZmZzZXQvcmVjdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9jYW1lcmEvYmFzZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9jYW1lcmEvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0LmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2xpc3QvbGlua2xpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL2NvbXBvbmVudC9lY3MuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvdmlldy9jb21wb25lbnQvbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9mb3VuZGF0aW9uL3N0cnVjdHVyZS9mcmFtZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi92aWV3L2NvbXBvbmVudC9yZW5kZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvdmlldy9zeXN0ZW0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9kaXJlY3Rvci9zZXJ2aWNlL3N5c3RlbS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2ZvdW5kYXRpb24vY29udGFpbmVyL2dyaWRtYXAuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZ3JpZC90aWxlbWFwL2Jhc2UuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2ZyYW1ld29yay9saWIvZ3JpZC91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvd2ViL3Byb2Nlc3Nvci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2xpYi9lbmdpbmUvd2ViL21vZGVsLmpzIiwid2VicGFjazovLy8uL3NyYy9mcmFtZXdvcmsvbGliL2VuZ2luZS91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL3NlcnZpY2UvaW5pdC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvZnJhbWV3b3JrL2RpcmVjdG9yL2Jvb3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL21haW4uanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwiU3ltYm9sIiwidG9TdHJpbmdUYWciLCJ2YWx1ZSIsInQiLCJtb2RlIiwiX19lc01vZHVsZSIsIm5zIiwiY3JlYXRlIiwia2V5IiwiYmluZCIsIm4iLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJfc3ByaXRlRnJhbWVNYXAiLCJNYXAiLCJkYXRhTWFwIiwiZGVmYXVsdENhbWVyYSIsIkdldERlZmF1bHRDYW1lcmEiLCJjdXJyRW5naW5lIiwiR2V0RW5naW5lIiwiQWJzdHJhY3RFbmdpbmUiLCJbb2JqZWN0IE9iamVjdF0iLCJmcHMiLCJ0aGlzIiwidGljayIsImNlbnRlclBvcyIsInNwcml0ZUZyYW1lIiwicmVjdCIsImVuZFBvcyIsInJhZGl1cyIsImltZ1NyYyIsIm9uTG9hZENhbGxiYWNrIiwia2V5RG93bkNhbGxiYWNrIiwia2V5VXBDYWxsYmFjayIsInRvdWNoT25DYWxsYmFjayIsInRvdWNoT3ZlckNhbGxiYWNrIiwib25FbnRlckZyYW1lQ2FsbGJhY2siLCJQb3MiLCJ4IiwieSIsIk5ld1BvcyIsIlRvTG9jYXRlUG9zIiwidGFyZ2V0UG9zIiwicmVmZXJQb3MiLCJWZWMiLCJOZXdWZWMiLCJSZWN0YW5nbGUiLCJ3aWR0aCIsImhlaWdodCIsImdlb21ldHJpY19OZXdSZWN0IiwiY29uc29sZSIsImVycm9yIiwiZ2VvbWV0cmljX0dldFJlY3RXaWR0aCIsImdlb21ldHJpY19HZXRSZWN0SGVpZ2h0IiwiZ2VvbWV0cmljX0dldFJlY3RIYWxmV2lkdGgiLCJnZW9tZXRyaWNfR2V0UmVjdEhhbGZIZWlnaHQiLCJQb3NPZmZzZXRSZWxhdGlvbiIsInBvcyIsIm9mZnNldCIsIkdldFJlYWxQb3MiLCJwb3NPZmZzZXRSZWwiLCJHZXRJbnQiLCJudW0iLCJNYXRoIiwidHJ1bmMiLCJyZWN0X1JlY3RQb3NSZWxhdGlvbiIsInN1cGVyIiwiTmV3UmVjdFBvc1JlbGF0aW9uIiwiR2V0UmVjdCIsInJlY3RQb3NUdXBsZSIsIkdldFJlY3RQb3NDZW50ZXIiLCJHZXRSZWN0UG9zU3RhcnQiLCJCYXNlQ2FtZXJhIiwicmVjdFBvc1JlbCIsInNjcmVlbk9mZnNldCIsIkNyZWF0ZUNhbWVyYVdpdGhEYXRhIiwib3B0aW9ucyIsInN0eWxlIiwiZGF0YXMiLCJycCIsIk5ld0NhbWVyYSIsIlRvQ2FtZXJhU3RhcnRQb3MiLCJjYW1lcmEiLCJHZXRDYW1lcmFTdGFydFBvcyIsIkNsZWFyIiwiZW5naW5lIiwiY2xlYXIiLCJFbmdpbmVDbGVhciIsIkRyYXdGcmFtZSIsImNQb3MiLCJkcmF3RnJhbWUiLCJFbmdpbmVEcmF3RnJhbWUiLCJEcmF3RnJhbWVJbkNhbWVyYSIsIkRyYXdSZWN0IiwiZHJhd1JlY3QiLCJFbmdpbmVEcmF3UmVjdCIsIkRyYXdSZWN0SW5DYW1lcmEiLCJEcmF3TGluZSIsInBvc1N0YXJ0IiwicG9zRW5kIiwiY1BvczEiLCJjUG9zMiIsInN0YXJ0UG9zIiwiZHJhd0xpbmUiLCJFbmdpbmVEcmF3TGluZSIsIkRyYXdMaW5lSW5DYW1lcmEiLCJEcmF3Q2lyY2xlIiwiZHJhd0NpcmNsZSIsIkVuZ2luZURyYXdDaXJjbGUiLCJEcmF3Q2lyY2xlSW5DYW1lcmEiLCJBYnN0cmFjdExpc3QiLCJpZCIsImRhdGEiLCJvcmRlciIsImNhbGxiYWNrIiwiTGlzdEl0ZXJhdG9yIiwibGlzdCIsIml0ZXJhdG9yIiwiTGlua05vZGUiLCJwcmVwIiwibmV4dCIsImxpbmtsaXN0X0xpbmtMaXN0IiwiaGVhZCIsInRhaWwiLCJfbWFwIiwiX3NpemUiLCJfZGVsTGlzdCIsIl9jdXJyIiwiX2xvY2siLCJub2RlIiwiYWRkVG9MaW5rIiwicmVtb3ZlV2l0aENoZWNrIiwibGVuZ3RoIiwicmVtb3ZlTm9kZSIsInBvcCIsIm91dE5vZGUiLCJpbk5vZGUiLCJsaW5rIiwic2V0IiwidGFyZ2V0Tm9kZSIsInB1c2giLCJkZWxldGUiLCJrZXlJZCIsIk5ld0xpbmsiLCJlY3NfZW50aXR5SWQiLCJOZXdFbnRpdHlJZCIsIlN5c3RlbSIsImR0IiwibGF5ZXJMaXN0IiwiQml0bWFwIiwiR2V0U3ByaXRlRnJhbWVXaWR0aCIsIkdldFJlY3RXaWR0aCIsIkdldFNwcml0ZUZyYW1lSGVpZ2h0IiwiR2V0UmVjdEhlaWdodCIsIkdldERpc3BsYXlTcHJpdGVGcmFtZSIsImRpc3BsYXllciIsIlVwZGF0ZUlzb1BvcyIsImJhc2VfR2V0UG9zIiwiZGlzcGxheVR1cGxlIiwiR2V0T2Zmc2V0IiwiVXBkYXRlUG9zIiwiaXNvUG9zIiwic3lzdGVtX0xheWVyUmVuZGVyVXBkYXRlU3lzdGVtIiwibGF5ZXIiLCJJdGVyYXRvckxheWVycyIsIklzRGlzcGxheUlTT21ldHJpY3MiLCJHZXREaXNwbGF5SXNvUG9zIiwiZHJhd0lzbyIsIkdldERpc3BsYXlDZW50ZXJQb3MiLCJkcmF3IiwicmVuZGVyU3lzIiwibG9naWNTeXN0ZW1zIiwicmVuZGVyU3lzdGVtIiwiaW5pdFN5c3RlbXMiLCJkZWJ1ZyIsImxvZ2ljVGljayIsInJlbmRlclRpY2siLCJfdDEiLCJfdDIiLCJydW5XaXRoU2NlbmUiLCJzY2VuZSIsInN5c3RlbSIsIm9uU3RhcnQiLCJzdGFydCIsIkVuZ2luZVN0YXJ0Iiwib25VcGRhdGUiLCJCYXNlR3JpZCIsIkFic3RyYWN0R3JpZE1hcCIsIkdldEdyaWRXaWR0aCIsImdyaWQiLCJHZXRIYWxmR3JpZE1hcFdpZHRoIiwiZ3JpZG1hcCIsImdldEdyaWRNYXBXaWR0aCIsIkdldEdyaWRNYXBXaWR0aCIsIkdldEhhbGZHcmlkTWFwSGVpZ2h0IiwiZ2V0R3JpZE1hcEhlaWdodCIsIkdldEdyaWRNYXBIZWlnaHQiLCJHcmlkTWFwSXRlcmF0b3IiLCJiYXNlX1RpbGVHcmlkIiwicm93SW5kZXgiLCJjb2xJbmRleCIsImJhc2VfVGlsZU1hcCIsInJvd3MiLCJjb2x1bW5zIiwiZ3JpZFdpZHRoIiwiZ3JpZEhlaWdodCIsImdyaWRzIiwiZ2V0R3JpZFdpdGhQb3MiLCJmb3JFYWNoIiwidGlsZW1hcCIsInRQb3MiLCJjaGVja0luIiwiY29sdW1uIiwicm93IiwiR2V0VGlsZW1hcFN0YXJ0IiwiQ3JlYXRlVGlsZU1hcFdpdGhEYXRhIiwib25DcmVhdGUiLCJhc3NpZ24iLCJkZWZhdWx0VGlsZU1hcERhdGEiLCJOZXdUaWxlTWFwIiwidmFsIiwiX2lzRW5kIiwicHJvY2Vzc29yX3N0YXJ0IiwibGFzdCIsIkRhdGUiLCJnZXRUaW1lIiwiX2tleURvd25NYXAiLCJtb2RlbF9INUVuZ2luZSIsImNhbnZhcyIsImN0eCIsImNsZWFyUmVjdCIsImRyYXdJbWFnZSIsImJpdG1hcCIsIkdldFNwcml0ZUZyYW1lQml0bWFwRGF0YSIsImJpdG1hcFgiLCJHZXRTcHJpdGVGcmFtZVN0YXJ0WCIsImJpdG1hcFkiLCJHZXRTcHJpdGVGcmFtZVN0YXJ0WSIsIkdldFJlY3RIYWxmV2lkdGgiLCJHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aCIsIkdldFJlY3RIYWxmSGVpZ2h0IiwiR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0Iiwic3Ryb2tlUmVjdCIsImJlZ2luUGF0aCIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZSIsImFyYyIsIlBJIiwiaW1nIiwiSW1hZ2UiLCJzcmMiLCJvbmxvYWQiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsImNvZGUiLCJrZXlDb2RlIiwiY2FudmFzT25LZXlDYWxsYmFjayIsIm1vdXNlZG93bkNhbGxiYWNrIiwibW91c2V1cENhbGxiYWNrIiwiZXZlbnQiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJjbGllbnRYIiwibGVmdCIsImNsaWVudFkiLCJ0b3AiLCJjYW52YXNPbk1vdXNlQ2FsbGJhY2siLCJvblVwZGF0ZUNhbGxiYWNrIiwic2V0SW50ZXJ2YWwiLCJydW5UaWNrMiIsIkVuZ2luZVdlYiIsIkNyZWF0ZUVuZ2luZVdpdGhEYXRhIiwia2V5RG93bkhhbmRsZXIiLCJrZXlVcEhhbmxlciIsInR5cGUiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiZ2V0Q29udGV4dCIsInN0cm9rZVN0eWxlIiwiTmV3SDVFbmdpbmUiLCJvbktleUNhbGxiYWNrIiwib25Ub3VjaENhbGxiYWNrIiwiaW5pdEdhbWUiLCJzY3JlZW5XaWR0aCIsInNjcmVlbkhlaWdodCIsIlNldERlZmF1bHRDYW1lcmEiLCJlbmdpbmVPYmoiLCJTZXRFbmdpbmUiLCJjb2xsaWRlIiwiT3BlbkNvbGxpZGVyIiwiZGF0YU9iaiIsImNoZWNrIiwiU2V0RGF0YSIsImluaXREYXRhT2JqIiwiaW5pdERhdGFzIiwiU3RhcnQiLCJ0ZXh0dXJlc0RhdGEiLCJPbmxvYWRDYWxsYmFjayIsIk9uQ29tcGxldGVDYWxsYmFjayIsIl9jb3VudCIsIkVuZ2luZUxvYWRSZXNvdXJjZSIsImJpdG1hcERhdGEiLCJDcmVhdGVCaXRtYXAiLCJmcmFtZXMiLCJmcmFtZURhdGEiLCJ0ZXh0dXJlQXJlYURhdGEiLCJlcnIiLCJmIiwiQ3JlYXRlU3ByaXRlRnJhbWUiLCJTZXRTcHJpdGVGcmFtZSIsImNyZWF0ZVNwcml0ZUZyYW1lV2l0aERhdGEiLCJ0ZXh0dXJlQXJlYSIsImxvYWRSZXNvdXJjZSIsIm1haW5fb3B0aW9ucyIsImxvZyIsIk15U2NlbmUiLCJHZXREYXRhIiwiR2V0VGlsZUdyaWRDZW50ZXIiLCJoYWxmV2lkdGgiLCJHZXRIYWxmR3JpZFdpZHRoIiwicG9zMSIsInBvczFpc28iLCJnZXRJc28iLCJwb3MyIiwicG9zMmlzbyIsInBvczMiLCJwb3MzaXNvIiwicG9zNCIsInBvczRpc28iLCJ0ZXN0SXNvIiwiZHJhd1RpbGUiLCJHZXRDYW1lcmFXaWR0aCIsIkdldENhbWVyYUhlaWdodCJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsRUFBQSxHQUdBLFNBQUFDLEVBQUFDLEdBR0EsR0FBQUYsRUFBQUUsR0FDQSxPQUFBRixFQUFBRSxHQUFBQyxRQUdBLElBQUFDLEVBQUFKLEVBQUFFLEdBQUEsQ0FDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxRQUFBLElBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFBVSxFQUFBLFNBQUFSLEVBQUFTLEVBQUFDLEdBQ0FaLEVBQUFhLEVBQUFYLEVBQUFTLElBQ0FHLE9BQUFDLGVBQUFiLEVBQUFTLEVBQUEsQ0FBMENLLFlBQUEsRUFBQUMsSUFBQUwsS0FLMUNaLEVBQUFrQixFQUFBLFNBQUFoQixHQUNBLG9CQUFBaUIsZUFBQUMsYUFDQU4sT0FBQUMsZUFBQWIs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QVFvTyxFQUFBSSxHQUNSeE8sRUFBUXdPLEVBQUFGLEdBQ1J0TyxFQUFRc08sRUFBQUwsR0F4QlpRLENBQUFqUixFQUFBc1EsTUFyQkFZLEdBS0lqTyxFQUFXbEUsSUFBTSxHQUNqQnFELEVBQVNyRCxJQUFVUyxFbkJkdkIsU0FBQWlDLEVBQUEsTUFDQSxPQUFXOUIsRUFDSGdCLEVBQU9jLEVBQUFULGFtQmFQbVEsQ0FDSTNULEtuQlhaLFNBQUFpRSxFQUFBLE1BQ0EsT0FBVzdCLEVBQ0hlLEVBQU9jLEVBQUFULGFtQlVQb1EsQ0FDSTVULFFBc0NaLFNBQUFrVCxHQUFBMVEsRUFBQSxNQUNBLE9BQVdqQixFQUNYaUIsRUFBQW5CLEVBQUFtQixFQUFBbEIsRUFDQSxJQUFBa0IsRUFBQW5CLEVBQUFtQixFQUFBbEIsSUFLQVcsUUFBQXlRLElBQWdCRCxJQUNabEIsR0FBTWtCLEdBQU8sSUFBQUUiLCJmaWxlIjoiYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDEpO1xuIiwiLyoqXHJcbiAqIOWFqOWxgOWNleS+i+i1hOa6kFxyXG4gKi9cclxuXHJcblxyXG4gLyoqXHJcbiAqIOiOt+WPlueyvueBteW4p1xyXG4gKiBUT0RPIFxyXG4gKiDlj6/og73kvJrmlLnmiJBpZOW9ouW8j1xyXG4gKiDlvJXlhaXpu5jorqTotYTmupDmnLrliLbvvIzmib7kuI3liLDluKfml7bnmoTpu5jorqTnqbrluKfvvIzlj6/ku6XmmK/kuIDlvKDnuqLlj4nlm77niYfvvIxcclxuICovXHJcbnZhciBfc3ByaXRlRnJhbWVNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lKG5hbWUgPSBcIlwiLCBkZWZhdWx0VmFsdWUgPSB0cnVlKXtcclxuICAgIGxldCBmID0gX3Nwcml0ZUZyYW1lTWFwLmdldChuYW1lKTtcclxuICAgIHJldHVybiBmID8gZiA6IFxyXG4gICAgICAgIGRlZmF1bHRWYWx1ZSA/IF9zcHJpdGVGcmFtZU1hcC5nZXQoXCJkZWZhbHV0XCIpIDogbnVsbDtcclxufVxyXG5mdW5jdGlvbiBTZXRTcHJpdGVGcmFtZShuYW1lID0gXCJcIiwgc3ByaXRlRnJhbWUgPSBudWxsLCBjaGVjayA9IHRydWUpe1xyXG4gICAgbGV0IGYgPSBfc3ByaXRlRnJhbWVNYXAuZ2V0KG5hbWUpO1xyXG4gICAgaWYoZiAmJiBjaGVjayl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImZyYW1lOiAlcyBleGlzdHMuXCIsIG5hbWUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIF9zcHJpdGVGcmFtZU1hcC5zZXQobmFtZSwgc3ByaXRlRnJhbWUpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOiHquWumuS5ieaVsOaNrlxyXG4gKi9cclxudmFyIGRhdGFNYXAgPSBuZXcgTWFwKCk7XHJcbmZ1bmN0aW9uIEdldERhdGEobmFtZSA9IFwiXCIpe1xyXG4gICAgcmV0dXJuIGRhdGFNYXAuZ2V0KG5hbWUpO1xyXG59XHJcbmZ1bmN0aW9uIFNldERhdGEobmFtZSA9IFwiXCIsIGRhdGEgPSBudWxsLCBjaGVjayA9IHRydWUpe1xyXG4gICAgbGV0IGQgPSBkYXRhTWFwLmdldChuYW1lKTtcclxuICAgIGlmKGQgJiYgY2hlY2spe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJkYXRhOiAlcyBleGlzdHMuXCIsIG5hbWUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRhdGFNYXAuc2V0KG5hbWUsIGRhdGEpO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOaRhOWDj+aculxyXG4gKi9cclxudmFyIGRlZmF1bHRDYW1lcmEgPSBudWxsO1xyXG5mdW5jdGlvbiBTZXREZWZhdWx0Q2FtZXJhKGNhbWVyYSA9IG51bGwpe1xyXG4gICAgZGVmYXVsdENhbWVyYSA9IGNhbWVyYTtcclxufVxyXG5mdW5jdGlvbiBHZXREZWZhdWx0Q2FtZXJhKCl7XHJcbiAgICByZXR1cm4gZGVmYXVsdENhbWVyYTtcclxufVxyXG5cclxudmFyIGNhbWVyYXMgPSBbXTtcclxuZnVuY3Rpb24gQWRkQ2FtZXJhKGNhbWVyYSA9IG51bGwpe1xyXG4gICAgY2FtZXJhcy5wdXNoKGNhbWVyYSk7XHJcbn1cclxuZnVuY3Rpb24gR2V0Q2FtZXJhcygpe1xyXG4gICAgcmV0dXJuIGNhbWVyYXM7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog5aSW6YOo5byV5pOOXHJcbiAqL1xyXG52YXIgY3VyckVuZ2luZSA9IG51bGw7XHJcbmZ1bmN0aW9uIFNldEVuZ2luZShlbmdpbmVPYmogPSBudWxsKXtcclxuICAgIGN1cnJFbmdpbmUgPSBlbmdpbmVPYmo7XHJcbn1cclxuZnVuY3Rpb24gR2V0RW5naW5lKCl7XHJcbiAgICByZXR1cm4gY3VyckVuZ2luZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOW9k+WJjeWcuuaZr1xyXG4gKi9cclxudmFyIGN1cnJTY2VuZSA9IG51bGw7XHJcbmZ1bmN0aW9uIFNldFNjZW5lKHNjZW5lID0gbnVsbCl7XHJcbiAgICBjdXJyU2NlbmUgPSBzY2VuZTtcclxufVxyXG5mdW5jdGlvbiBHZXRTY2VuZSgpe1xyXG4gICAgcmV0dXJuIGN1cnJTY2VuZTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldFNwcml0ZUZyYW1lLCBTZXRTcHJpdGVGcmFtZSwgR2V0RGF0YSwgU2V0RGF0YSwgXHJcbiAgICBTZXREZWZhdWx0Q2FtZXJhLCBHZXREZWZhdWx0Q2FtZXJhLCBBZGRDYW1lcmEsIEdldENhbWVyYXMsXHJcbiAgICBTZXRFbmdpbmUsIEdldEVuZ2luZSwgU2V0U2NlbmUsIEdldFNjZW5lXHJcbn0iLCJcclxuLyoqXHJcbiAqIOWklumDqOW8leaTjuaKveixoeexu1xyXG4gKiB4LCB5IOmDveaYr+Wxj+W5leWdkOagh++8jOazqOaEj1xyXG4gKi9cclxuY2xhc3MgQWJzdHJhY3RFbmdpbmUge1xyXG4gICAgY29uc3RydWN0b3IoZnBzID0gNjApe1xyXG4gICAgICAgIHRoaXMuZnBzID0gZnBzO1xyXG4gICAgICAgIHRoaXMudGljayA9IDEwMDAgLyBmcHM7XHJcbiAgICB9XHJcblxyXG4gICAgLy/muIXpmaTnlLvluINcclxuICAgIGNsZWFyKCl7fVxyXG5cclxuICAgIC8v55S75binXHJcbiAgICBkcmF3RnJhbWUoY2VudGVyUG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXt9XHJcblxyXG4gICAgLy/nlLvnn6nlvaJcclxuICAgIGRyYXdSZWN0KGNlbnRlclBvcyA9IG51bGwsIHJlY3QgPSBudWxsKXt9XHJcblxyXG4gICAgLy/nlLvnur/mrrVcclxuICAgIGRyYXdMaW5lKGNlbnRlclBvcyA9IG51bGwsIGVuZFBvcyA9IG51bGwpe31cclxuXHJcbiAgICAvL+eUu+WchlxyXG4gICAgZHJhd0NpcmNsZShjZW50ZXJQb3MgPSBudWxsLCByYWRpdXMgPSAwKXt9XHJcblxyXG4gICAgLy9pbWdTcmPmmK/lm77lg4/lnLDlnYBcclxuICAgIGxvYWRSZXNvdXJjZShpbWdTcmMgPSBcIlwiLCBvbkxvYWRDYWxsYmFjayA9IG51bGwpe31cclxuXHJcbiAgICBvbktleUNhbGxiYWNrKGtleURvd25DYWxsYmFjayA9IG51bGwsIGtleVVwQ2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBvblRvdWNoQ2FsbGJhY2sodG91Y2hPbkNhbGxiYWNrID0gbnVsbCwgdG91Y2hPdmVyQ2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBzdGFydChvbkVudGVyRnJhbWVDYWxsYmFjayA9IG51bGwpe31cclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lQ2xlYXIoZW5naW5lID0gbnVsbCl7XHJcbiAgICBlbmdpbmUuY2xlYXIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lRHJhd0ZyYW1lKGVuZ2luZSA9IG51bGwsIGNlbnRlclBvcyA9IG51bGwsIHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICBlbmdpbmUuZHJhd0ZyYW1lKGNlbnRlclBvcywgc3ByaXRlRnJhbWUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVEcmF3UmVjdChlbmdpbmUgPSBudWxsLCBjZW50ZXJQb3MgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICBlbmdpbmUuZHJhd1JlY3QoY2VudGVyUG9zLCByZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lRHJhd0xpbmUoZW5naW5lID0gbnVsbCwgc3RhcnRQb3MgPSBudWxsLCBlbmRQb3MgPSBudWxsKXtcclxuICAgIGVuZ2luZS5kcmF3TGluZShzdGFydFBvcywgZW5kUG9zKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lRHJhd0NpcmNsZShlbmdpbmUgPSBudWxsLCBjZW50ZXJQb3MgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgIGVuZ2luZS5kcmF3Q2lyY2xlKGNlbnRlclBvcywgcmFkaXVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lTG9hZFJlc291cmNlKGVuZ2luZSA9IG51bGwsIGltZ1NyYyA9IFwiXCIsIG9uTG9hZENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBlbmdpbmUubG9hZFJlc291cmNlKGltZ1NyYywgb25Mb2FkQ2FsbGJhY2spO1xyXG59XHJcblxyXG5mdW5jdGlvbiBFbmdpbmVPbktleUNhbGxiYWNrKGVuZ2luZSA9IG51bGwsIGtleURvd25DYWxsYmFjayA9IG51bGwsIGtleVVwQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGVuZ2luZS5vbktleUNhbGxiYWNrKGtleURvd25DYWxsYmFjaywga2V5VXBDYWxsYmFjayk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEVuZ2luZU9uVG91Y2hDYWxsYmFjayhlbmdpbmUgPSBudWxsLCB0b3VjaE9uQ2FsbGJhY2sgPSBudWxsLCB0b3VjaE92ZXJDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZW5naW5lLm9uVG91Y2hDYWxsYmFjayh0b3VjaE9uQ2FsbGJhY2ssIHRvdWNoT3ZlckNhbGxiYWNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRW5naW5lU3RhcnQoZW5naW5lID0gbnVsbCwgb25FbnRlckZyYW1lQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGVuZ2luZS5zdGFydChvbkVudGVyRnJhbWVDYWxsYmFjayk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBYnN0cmFjdEVuZ2luZSwgRW5naW5lQ2xlYXIsIFxyXG4gICAgRW5naW5lRHJhd0ZyYW1lLCBFbmdpbmVEcmF3UmVjdCwgRW5naW5lRHJhd0xpbmUsIEVuZ2luZURyYXdDaXJjbGUsXHJcbiAgICBFbmdpbmVMb2FkUmVzb3VyY2UsIEVuZ2luZU9uS2V5Q2FsbGJhY2ssIEVuZ2luZU9uVG91Y2hDYWxsYmFjaywgRW5naW5lU3RhcnRcclxufSIsIi8qKlxyXG4gKiDln7rnoYAyROWdkOagh1xyXG4gKi9cclxuY2xhc3MgUG9zIHtcclxuICAgIGNvbnN0cnVjdG9yKHggPSAwLCB5ID0gMCl7XHJcbiAgICAgICAgdGhpcy54ID0geDtcclxuICAgICAgICB0aGlzLnkgPSB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdQb3MoeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiBuZXcgUG9zKHgsIHkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVQb3MocG9zID0gbnVsbCwgeCA9IDAsIHkgPSAwKXtcclxuICAgIHBvcy54ID0geDtcclxuICAgIHBvcy55ID0geTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOiuoeeul+ebuOWvueWdkOagh1xyXG4gKiDku6V0YXJnZXRQb3PkuLrlh4bvvIzorqHnrpdyZWZlclBvc+S6jnRhcmdldFBvc+eahOebuOWvueWdkOagh1xyXG4gKiDkuL7kvovvvJpcclxuICogICAgICDmkYTlg4/mnLrkvY3kuo4oNTAsIDUwKeWkhO+8jHJlZmVyUG9zXHJcbiAqICAgICAg5Y2V5L2NQeS9jeS6jigxMjAsIDMwKeWkhO+8jHRhcmdldFBvc1xyXG4gKiAgICAgIOmCo+S5iO+8jOWNleS9jUHlnKjmkYTlg4/mnLrnmoQoMTIwLTUwLCAzMC01MCnlpIRcclxuICovXHJcbmZ1bmN0aW9uIFRvTG9jYXRlUG9zKHRhcmdldFBvcyA9IG51bGwsIHJlZmVyUG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHRhcmdldFBvcy54IC0gcmVmZXJQb3MueCxcclxuICAgICAgICB0YXJnZXRQb3MueSAtIHJlZmVyUG9zLnkpO1xyXG59XHJcblxyXG4vKipcclxuICog5Z+656GA5ZCR6YePXHJcbiAqIGRpc3RhbmNlOiDot53nprvns7vmlbDvvIzms6jmhI/kuI3mmK/lrp7pmYXot53nprvvvIzlj6rnlKjkuo7mr5TovoPot53nprvlpKflsI9cclxuICovXHJcbmNsYXNzIFZlYyB7XHJcbiAgICBjb25zdHJ1Y3Rvcih4ID0gMCwgeSA9IDApe1xyXG4gICAgICAgIHRoaXMueCA9IHg7XHJcbiAgICAgICAgdGhpcy55ID0geTtcclxuICAgICAgICAvL3RoaXMuZGlzdGFuY2UgPSB4ICogeCArIHkgKiB5O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdWZWMoeCA9IDAsIHkgPSAwKXtcclxuICAgIHJldHVybiBuZXcgVmVjKHgsIHkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdWZWNXaXRoUG9zKHBvc1N0YXJ0ID0gbnVsbCwgcG9zRW5kID0gbnVsbCl7XHJcbiAgICByZXR1cm4gbmV3IE5ld1ZlYyhwb3NFbmQueCAtIHBvc1N0YXJ0LngsIHBvc0VuZC55IC0gcG9zU3RhcnQueSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZVZlYyh2ZWMgPSBudWxsLCB4ID0gMCwgeSA9IDApe1xyXG4gICAgdmVjLnggPSB4O1xyXG4gICAgdmVjLnkgPSB5O1xyXG4gICAgLy92ZWMuZGlzdGFuY2UgPSB4ICogeCArIHkgKiB5O1xyXG59XHJcblxyXG4vKipcclxuICog6Led56a757O75pWwXHJcbiAqIOazqOaEj++8jOW5tumdnuWunumZhei3neemu+WAvO+8jOWboOS4uuW8gOagueWPt+iuoeeul+a2iOiAl+Wkp1xyXG4gKiDoi6Xlj6rnlKjkuo7lr7nmr5TlpKflsI/vvIzmraTns7vmlbDljbPlj69cclxuICovXHJcbmZ1bmN0aW9uIEdldFZlY0Rpc3RhbmNlKHZlYyA9IG51bGwpe1xyXG4gICAgLy9yZXR1cm4gdmVjLmRpc3RhbmNlO1xyXG4gICAgcmV0dXJuIHZlYy54ICogdmVjLnggKyB2ZWMueSAqIHZlYy55O1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIDJE5Z+656GA55+p5b2i77yM5Y+q5pyJ5a696auYXHJcbiAqIHdpZHRoLCBoZWlnaHQgOiDlrr3pq5hcclxuICovXHJcbmNsYXNzIFJlY3RhbmdsZSB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcclxuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XHJcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnn6nlvaLpu5jorqTlsYXkuK3kuo5vd25lclxyXG4gKiDmraTmlrnms5XkuIDoiKznlLFjb2xsaWRlcuiwg+eUqFxyXG4gKi9cclxuZnVuY3Rpb24gTmV3UmVjdCh3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgaWYod2lkdGggPT0gMCB8fCBoZWlnaHQgPT0gMCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcInJlY3QgcGFyYW0gZXJyb3IuIHdpZHRoOiVkLCBoZWlnaHQ6JWRcIiwgd2lkdGgsIGhlaWdodCk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gbmV3IFJlY3RhbmdsZSh3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlUmVjdFNpemUocmVjdCA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICByZWN0LndpZHRoID0gd2lkdGg7XHJcbiAgICByZWN0LmhlaWdodCA9IGhlaWdodDtcclxufVxyXG5cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RXaWR0aChyZWN0ID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcmVjdC53aWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodDtcclxufVxyXG5mdW5jdGlvbiBHZXRSZWN0SGFsZldpZHRoKHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LndpZHRoICogMC41O1xyXG59XHJcbmZ1bmN0aW9uIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0LmhlaWdodCAqIDAuNTtcclxufVxyXG5cclxuLy/msYLpnaLnp69cclxuZnVuY3Rpb24gR2V0UmVjdEFyZWEocmVjdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHJlY3Qud2lkdGggKiByZWN0LmhlaWdodDtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWchuW9olxyXG4gKi9cclxuY2xhc3MgQ2lyY2xlIHtcclxuICAgIGNvbnN0cnVjdG9yKHJhZGl1cyA9IDApIHtcclxuICAgICAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3Q2lyY2xlKHJhZGl1cyA9IDApe1xyXG4gICAgaWYocmFkaXVzID09IDApe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJjaXJjbGUgcGFyYW0gZXJyb3IuIHJhZGl1czolZFwiLCByYWRpdXMpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIG5ldyBDaXJjbGUocmFkaXVzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2lyY2xlUmFkaXVzKGNpcmNsZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGNpcmNsZS5yYWRpdXM7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFVwZGF0ZUNpcmNsZShjaXJjbGUgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgIGNpcmNsZS5yYWRpdXMgPSByYWRpdXM7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdQb3MsIFVwZGF0ZVBvcywgVG9Mb2NhdGVQb3MsIFxyXG4gICAgTmV3VmVjLCBOZXdWZWNXaXRoUG9zLCBVcGRhdGVWZWMsIEdldFZlY0Rpc3RhbmNlLFxyXG4gICAgTmV3UmVjdCwgVXBkYXRlUmVjdFNpemUsIEdldFJlY3RXaWR0aCwgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhlaWdodCwgR2V0UmVjdEhhbGZIZWlnaHQsIEdldFJlY3RBcmVhLFxyXG4gICAgTmV3Q2lyY2xlLCBHZXRDaXJjbGVSYWRpdXMsIFVwZGF0ZUNpcmNsZVxyXG59IiwiaW1wb3J0IHsgTmV3UG9zLCBOZXdWZWMgfSBmcm9tIFwiLi4vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxuLyoqXHJcbiAqIFRPRE9cclxuICog5YWI5YaZ77yM5YaN5oWi5oWi6KeE6IyDXHJcbiAqIOi/memHjOS4jeiDveaciXBvc0Nvbe+8jOWboOS4uui/meaYr+WfuuehgOWxglxyXG4gKiBib3gtY29sbGlkZXLnlKjliLBJc1JlY3RzQ3Jvc3NXaXRoVmVj5p2l5qOA5rWL56Kw5pKe77yM6ZyA6KaB6YeN5paw6ICD6JmRXHJcbiAqIOimgeS5iOWwseWBmuaIkGxpYlxyXG4gKi9cclxuY2xhc3MgUG9zT2Zmc2V0UmVsYXRpb24ge1xyXG4gICAgY29uc3RydWN0b3IocG9zID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5wb3MgPSBwb3M7XHJcbiAgICAgICAgdGhpcy5vZmZzZXQgPSBvZmZzZXQ7ICAgICAgIC8v6YCa5bi45piv5oyH5pi+56S65pe255qE5YGP56e76YeP77yM5ZKMd29ybGRQb3Pml6DlhbNcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3UG9zT2Zmc2V0UmVsYXRpb24ocG9zID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgPyBvZmZzZXQgOiBOZXdWZWMoKTtcclxuICAgIHJldHVybiBuZXcgUG9zT2Zmc2V0UmVsYXRpb24ocG9zLCBvZmZzZXQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRQb3MocG9zT2Zmc2V0UmVsID0gbnVsbCl7XHJcbiAgICByZXR1cm4gcG9zT2Zmc2V0UmVsLnBvcztcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0T2Zmc2V0KHBvc09mZnNldFJlbCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHBvc09mZnNldFJlbC5vZmZzZXQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlYWxQb3MocG9zT2Zmc2V0UmVsID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvc09mZnNldFJlbC5wb3MueCArIHBvc09mZnNldFJlbC5vZmZzZXQueCxcclxuICAgICAgICBwb3NPZmZzZXRSZWwucG9zLnkgKyBwb3NPZmZzZXRSZWwub2Zmc2V0LnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBVcGRhdGVPZmZzZXQocG9zT2Zmc2V0UmVsID0gbnVsbCwgeE9mZnNldCA9IDAsIHlPZmZzZXQgPSAwKXtcclxuICAgIHBvc09mZnNldFJlbC5vZmZzZXQueCA9IHhPZmZzZXQ7XHJcbiAgICBwb3NPZmZzZXRSZWwub2Zmc2V0LnkgPSB5T2Zmc2V0O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgUG9zT2Zmc2V0UmVsYXRpb24sIE5ld1Bvc09mZnNldFJlbGF0aW9uLCBHZXRQb3MsIEdldE9mZnNldCxcclxuICAgIEdldFJlYWxQb3MsIFVwZGF0ZU9mZnNldFxyXG59IiwiY29uc3QgTUFYX0lOVCA9IDIxNDc0ODM2NDcgICAvLyAgMl4zMSAtIDEgPSAyMTQ3NDgzNjQ3XHJcbmZ1bmN0aW9uIEdldE1heEludCgpe1xyXG4gICAgcmV0dXJuIE1BWF9JTlQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFicyh2YWwgPSAwKXtcclxuICAgIHJldHVybiB2YWwgPj0gMCA/IHZhbCA6IC12YWw7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1heCh2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPiB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE1pbih2YWwxID0gMCwgdmFsMiA9IDApe1xyXG4gICAgcmV0dXJuIHZhbDEgPCB2YWwyID8gdmFsMSA6IHZhbDI7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkuYvliY3vvJp4IDwgMCA/IE1hdGguY2VpbCh4KSA6IE1hdGguZmxvb3IoeClcclxuICog546w5Zyo77yaTWF0aC50cnVuYyh4KVxyXG4gKiBAcGFyYW0geyp9IG51bSBcclxuICovXHJcbmZ1bmN0aW9uIEdldEludChudW0gPSAwKXtcclxuICAgIHJldHVybiBNYXRoLnRydW5jKG51bSk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIEdldE1heEludCwgQWJzLCBNYXgsIE1pbiwgR2V0SW50XHJcbn0iLCJpbXBvcnQgeyBOZXdWZWMsIE5ld1BvcywgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQgfSBmcm9tIFwiLi4vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBHZXRSZWFsUG9zLCBQb3NPZmZzZXRSZWxhdGlvbiB9IGZyb20gXCIuL2Jhc2VcIjtcclxuaW1wb3J0IHsgQWJzIH0gZnJvbSBcIi4uL3N0cnVjdHVyZS9tYXRoXCI7XHJcblxyXG4vKipcclxuICog55+p5b2i5LiO5L2N572u55qE5YWz57O75YWD5Lu2XHJcbiAqL1xyXG5jbGFzcyBSZWN0UG9zUmVsYXRpb24gZXh0ZW5kcyBQb3NPZmZzZXRSZWxhdGlvbiB7XHJcbiAgICBjb25zdHJ1Y3Rvcihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIocG9zLCBvZmZzZXQpO1xyXG4gICAgICAgIHRoaXMucmVjdCA9IHJlY3Q7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld1JlY3RQb3NSZWxhdGlvbihwb3MgPSBudWxsLCBvZmZzZXQgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICBvZmZzZXQgPSBvZmZzZXQgPyBvZmZzZXQgOiBOZXdWZWMoKTtcclxuICAgIHJldHVybiBuZXcgUmVjdFBvc1JlbGF0aW9uKHBvcywgb2Zmc2V0LCByZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiByZWN0UG9zVHVwbGUucmVjdDtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRSZWFsUG9zKHJlY3RQb3NUdXBsZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NTdGFydChyZWN0UG9zVHVwbGUgPSBudWxsKXtcclxuICAgIGxldCBwb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHBvcy54IC0gR2V0UmVjdEhhbGZXaWR0aChyZWN0UG9zVHVwbGUucmVjdCksXHJcbiAgICAgICAgcG9zLnkgLSBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUucmVjdClcclxuICAgICk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFJlY3RQb3NFbmQocmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBwb3MueCArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlLnJlY3QpLFxyXG4gICAgICAgIHBvcy55ICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlLnJlY3QpXHJcbiAgICApO1xyXG59XHJcblxyXG5cclxuLyoqXHJcbiAqIOebruWJjeeahOacuuWItu+8jOWPr+S7peS9v+eUqOefqeW9ouS4reW/g+eCueS5i+mXtOeahOi3neemu+WIpOaWreaYr+WQpuebuOS6pFxyXG4gKi9cclxuZnVuY3Rpb24gSXNSZWN0c0Nyb3NzKHJlY3RQb3NUdXBsZTEgPSBudWxsLCByZWN0UG9zVHVwbGUyID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgcG9zMiA9IEdldFJlY3RQb3NDZW50ZXIocmVjdFBvc1R1cGxlMik7XHJcbiAgICBsZXQgdyA9IEFicyhwb3MxLnggLSBwb3MyLngpO1xyXG4gICAgaWYodyA+IEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmV2lkdGgocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgbGV0IGggPSBBYnMocG9zMS55IC0gcG9zMi55KTtcclxuICAgIGlmKGggPiBHZXRSZWN0SGFsZkhlaWdodChyZWN0UG9zVHVwbGUxLnJlY3QpICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMi5yZWN0KSl7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHRydWU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOmcgOmHjeaWsOiuvuiuoVxyXG4gKiBAcGFyYW0geyp9IHJlY3RQb3NUdXBsZTEgXHJcbiAqIEBwYXJhbSB7Kn0gcmVjdFBvc1R1cGxlMiBcclxuICovXHJcbmZ1bmN0aW9uIElzUmVjdHNDcm9zc1dpdGhWZWMocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKSB7XHJcbiAgICBsZXQgcnAxID0gR2V0UmVjdFBvc0NlbnRlcihyZWN0UG9zVHVwbGUxKTtcclxuICAgIGxldCBwb3MxID0gTmV3UG9zKFxyXG4gICAgICAgIHJwMS54ICsgcmVjdFBvc1R1cGxlMS51bml0VmVjLngsXHJcbiAgICAgICAgcnAxLnkgKyByZWN0UG9zVHVwbGUxLnVuaXRWZWMueVxyXG4gICAgKTtcclxuICAgIGxldCBycDIgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IHBvczIgPSBOZXdQb3MoXHJcbiAgICAgICAgcnAyLnggKyByZWN0UG9zVHVwbGUyLnVuaXRWZWMueCxcclxuICAgICAgICBycDIueSArIHJlY3RQb3NUdXBsZTIudW5pdFZlYy55XHJcbiAgICApO1xyXG4gICAgbGV0IHcgPSBBYnMocG9zMS54IC0gcG9zMi54KTtcclxuICAgIGlmKHcgPiBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTEucmVjdCkgKyBHZXRSZWN0SGFsZldpZHRoKHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGxldCBoID0gQWJzKHBvczEueSAtIHBvczIueSk7XHJcbiAgICBpZihoID4gR2V0UmVjdEhhbGZIZWlnaHQocmVjdFBvc1R1cGxlMS5yZWN0KSArIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3RQb3NUdXBsZTIucmVjdCkpe1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogVE9ETyDmnInlvoXkvJjljJZcclxuICog5Lik5Liq55+p5b2i5piv5ZCm55u45Lqk77yM5Z+656GA56Kw5pKe5qOA5rWL77yI6ZyA6KaB5YWI5pu05paw5Z2Q5qCH77yJXHJcbiAqIOWOn+eQhu+8mlxyXG4gKiAg5bemeO+8jOWPluS4pOiAheacgOWkp+WAvFxyXG4gKiAg5Y+zeO+8jOWPluS4pOiAheacgOWwj+WAvFxyXG4gKiAg5aaC5p6c5Y+zeOWkp+S6juW3pnjvvIzliJl46L2055u45LqkXHJcbiAqIFnlkIznkIbvvJpcclxuICogIOS4innvvIzlj5bkuKTogIXmnIDlpKflgLxcclxuICogIOS4i3nvvIzlj5bkuKTogIXmnIDlsI/lgLxcclxuICogIOWmguaenOS4i3nlpKfkuo7kuIp577yM5YiZeei9tOebuOS6pFxyXG4gKiAg55uu5YmN77yM5Y2z5L2/5Lik6L656YeN5Y+g77yM5Lmf5LiN566X55u45Lqk77yM6L+Z5qC36IO96YG/5YWN5b6I5aSa6Zeu6aKYXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdJbm5lclJlY3QocmVjdFBvc1R1cGxlMSA9IG51bGwsIHJlY3RQb3NUdXBsZTIgPSBudWxsKXtcclxuICAgIGlmKCFJc1JlY3RzQ3Jvc3MocmVjdFBvc1R1cGxlMSwgcmVjdFBvc1R1cGxlMikpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIGxldCBzdGFydDEgPSBHZXRSZWN0UG9zU3RhcnQocmVjdFBvc1R1cGxlMSk7XHJcbiAgICBsZXQgc3RhcnQyID0gR2V0UmVjdFBvc1N0YXJ0KHJlY3RQb3NUdXBsZTIpO1xyXG4gICAgbGV0IGVuZDEgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTEpO1xyXG4gICAgbGV0IGVuZDIgPSBHZXRSZWN0UG9zRW5kKHJlY3RQb3NUdXBsZTIpO1xyXG5cclxuICAgIGxldCByMXgxID0gc3RhcnQxLng7XHJcbiAgICBsZXQgcjJ4MSA9IHN0YXJ0Mi54O1xyXG4gICAgbGV0IG1heFgxID0gcjF4MSA+IHIyeDEgPyByMXgxIDogcjJ4MTtcclxuXHJcbiAgICBsZXQgcjF4MiA9IGVuZDEueDtcclxuICAgIGxldCByMngyID0gZW5kMi54O1xyXG4gICAgbGV0IG1pblgyID0gcjF4MiA8IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IHN0YXJ0MS55O1xyXG4gICAgbGV0IHIyeTEgPSBzdGFydDIueTtcclxuICAgIGxldCBtYXhZMSA9IHIxeTEgPiByMnkxID8gcjF5MSA6IHIyeTE7XHJcblxyXG4gICAgbGV0IHIxeTIgPSBlbmQxLnk7XHJcbiAgICBsZXQgcjJ5MiA9IGVuZDIueTtcclxuICAgIGxldCBtaW5ZMiA9IHIxeTIgPCByMnkyID8gcjF5MiA6IHIyeTI7XHJcblxyXG4gICAgbGV0IHdpZHRoID0gbWluWDIgLSBtYXhYMTtcclxuICAgIGxldCBoZWlnaHQgPSBtaW5ZMiAtIG1heFkxO1xyXG4gICAgbGV0IHJlY3QgPSBOZXdSZWN0KDAsIDAsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgaWYoIXJlY3Qpe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBOZXdSZWN0UG9zVHVwbGUoMCwgMCwgXHJcbiAgICAgICAgTmV3UG9zKFxyXG4gICAgICAgICAgICBtYXhYMSArIEdldFJlY3RIYWxmV2lkdGgocmVjdCksXHJcbiAgICAgICAgICAgIG1heFkxICsgR2V0UmVjdEhhbGZIZWlnaHQocmVjdClcclxuICAgICAgICApLCBOZXdWZWMoKSwgcmVjdCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDkv67lpI3kvY3nva7vvIzmoLnmja5yZWN055qE5Lit5b+D5L2N572u5L+u5aSNdW5pdC5wb3NcclxuICovXHJcbmZ1bmN0aW9uIEZpeFVuaXRQb3MocmVjdFBvc1R1cGxlID0gbnVsbCwgcmVjdFggPSAwLCByZWN0WSA9IDApe1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueCA9IHJlY3RYIC0gcmVjdFBvc1R1cGxlLm9mZnNldC54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRQb3MueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLm9mZnNldC55O1xyXG59XHJcblxyXG5mdW5jdGlvbiBGaXhVbml0VmVjKHJlY3RQb3NUdXBsZSA9IG51bGwsIHJlY3RYID0gMCwgcmVjdFkgPSAwKSB7XHJcbiAgICByZWN0UG9zVHVwbGUudW5pdFZlYy54ID0gcmVjdFggLSByZWN0UG9zVHVwbGUudW5pdFBvcy54O1xyXG4gICAgcmVjdFBvc1R1cGxlLnVuaXRWZWMueSA9IHJlY3RZIC0gcmVjdFBvc1R1cGxlLnVuaXRQb3MueTsgICAgXHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmoLnmja51bml05L2N572u5pu05pawcmVjdOS9jee9ru+8iOS4gOiIrOWcuuaZr+iwg+eUqO+8iVxyXG4gKi9cclxuZnVuY3Rpb24gRml4UmVjdFBvcyhyZWN0UG9zVHVwbGUgPSBudWxsLCB1bml0UG9zWCA9IDAsIHVuaXRQb3NZID0gMCl7XHJcbiAgICByZWN0UG9zVHVwbGUuY2VudGVyLnggPSB1bml0UG9zWCArIHJlY3RQb3NUdXBsZS5vZmZzZXQueDtcclxuICAgIHJlY3RQb3NUdXBsZS5jZW50ZXIueSA9IHVuaXRQb3NZICsgcmVjdFBvc1R1cGxlLm9mZnNldC55O1xyXG59XHJcblxyXG4vKipcclxuICogaW5uZXIucmVjdOS4jeWHhui2iuWHum91dHRlci5yZWN077yM5L+u5q2jaW5ucmVyLnBvc+S9jee9rlxyXG4gKiBpbm5lcuWSjG91dHRlcumDveaYr1JlY3RQb3NUdXBsZVxyXG4gKi9cclxuZnVuY3Rpb24gRml4SW5SZWN0KG91dHRlciA9IG51bGwsIGlubmVyID0gbnVsbCl7XHJcbiAgICBsZXQgY2VudGVyUG9zID0gR2V0UmVjdFBvc0NlbnRlcihpbm5lcik7XHJcbiAgICBsZXQgaW5uZXJTdGFydFBvcyA9IEdldFJlY3RQb3NTdGFydChpbm5lcik7XHJcbiAgICBsZXQgaW5uZXJFbmRQb3MgPSBHZXRSZWN0UG9zRW5kKGlubmVyKTtcclxuICAgIGxldCBvdXR0ZXJTdGFydFBvcyA9IEdldFJlY3RQb3NTdGFydChvdXR0ZXIpO1xyXG4gICAgbGV0IG91dHRlckVuZFBvcyA9IEdldFJlY3RQb3NFbmQob3V0dGVyKTtcclxuXHJcbiAgICBsZXQgeCA9IGNlbnRlclBvcy54O1xyXG4gICAgaWYoaW5uZXJTdGFydFBvcy54IDwgb3V0dGVyU3RhcnRQb3MueCl7XHJcbiAgICAgICAgeCA9IG91dHRlclN0YXJ0UG9zLnggKyBHZXRSZWN0SGFsZldpZHRoKGlubmVyKTtcclxuICAgIH1lbHNlIGlmKGlubmVyRW5kUG9zLnggPiBvdXR0ZXJFbmRQb3MueCl7XHJcbiAgICAgICAgeCA9IG91dHRlckVuZFBvcy54IC0gR2V0UmVjdEhhbGZXaWR0aChpbm5lcik7XHJcbiAgICB9XHJcblxyXG4gICAgbGV0IHkgPSBjZW50ZXJQb3MueTtcclxuICAgIGlmKGlubmVyU3RhcnRQb3MueSA8IG91dHRlclN0YXJ0UG9zLnkpe1xyXG4gICAgICAgIHkgPSBvdXR0ZXJTdGFydFBvcy55ICsgR2V0UmVjdEhhbGZIZWlnaHQoaW5uZXIpO1xyXG4gICAgfWVsc2UgaWYoaW5uZXJFbmRQb3MueSA+IG91dHRlckVuZFBvcy55KXtcclxuICAgICAgICB5ID0gb3V0dGVyU3RhcnRQb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KGlubmVyKTtcclxuICAgIH1cclxuXHJcbiAgICBGaXhVbml0UG9zKGlubmVyLCB4LCB5KTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDlvZPliY3kvY3nva7mmK/lkKblnKjnn6nlvaLkuK3vvIjlkIzmoLfpnIDopoHlhYjmm7TmlrByZWN05L2N572u77yJXHJcbiAqIOWMheWQq+i4qee6v+aDheWGtVxyXG4gKi9cclxuZnVuY3Rpb24gSXNQb3NJblJlY3QocG9zID0gbnVsbCwgcmVjdFBvc1R1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnRQb3MgPSBHZXRSZWN0UG9zQ2VudGVyKHJlY3RQb3NUdXBsZSk7XHJcbiAgICBsZXQgZW5kUG9zID0gR2V0UmVjdFBvc0VuZChyZWN0UG9zVHVwbGUpO1xyXG4gICAgcmV0dXJuIHBvcy54ID49IHN0YXJ0UG9zLnggJiYgcG9zLnggPD0gZW5kUG9zLnhcclxuICAgICAgICAmJiBwb3MueSA+PSBzdGFydFBvcy55ICYmIHBvcy55IDw9IGVuZFBvcy55O1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3UmVjdFBvc1JlbGF0aW9uLCBHZXRSZWN0LCBHZXRSZWN0UG9zQ2VudGVyLCBHZXRSZWN0UG9zU3RhcnQsIEdldFJlY3RQb3NFbmQsXHJcbiAgICBJc1JlY3RzQ3Jvc3MsIElzUG9zSW5SZWN0XHJcbn1cclxuXHJcblxyXG5cclxuLy8tLS0tLS0tLS0tLS0tLS0tLSDku6XkuIvlvoXlrppcclxuXHJcbi8qKlxyXG4gKiDmoLnmja7nur/mrrXkvZznn6nlvaJcclxuICovXHJcbmZ1bmN0aW9uIE5ld091dHRlclJlY3QoeDEgPSAwLCB5MSA9IDAsIHgyID0gMCwgeTIgPSAwKXtcclxuICAgIGxldCB3aWR0aCA9IHgyIC0geDE7XHJcbiAgICBsZXQgaGVpZ2h0ID0geTIgLSB5MTtcclxuICAgIGlmKHdpZHRoIDw9IDAgfHwgaGVpZ2h0IDw9IDApe1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IGNlbnRlclggPSB4MSArICh4MiAtIHgxKSAqIDAuNTtcclxuICAgIGxldCBjZW50ZXJZID0geTEgKyAoeTIgLSB5MSkgKiAwLjU7XHJcbiAgICBsZXQgcmVjdCA9IE5ld1JlY3REZWZhdWx0KHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgVXBkYXRlUmVjdFBvcyhyZWN0LCBjZW50ZXJYLCBjZW50ZXJZKTtcclxuICAgIHJldHVybiByZWN0O1xyXG59XHJcblxyXG4vKipcclxuICog5Lik5Liq55+p5b2i6Ze055qE5aSW5o6l55+p5b2iXHJcbiAqL1xyXG5mdW5jdGlvbiBOZXdPdXR0ZXJSZWN0QnlSZWN0cyhyZWN0MSA9IG51bGwsIHJlY3QyID0gbnVsbCl7XHJcbiAgICBsZXQgcjF4MSA9IEdldFJlY3RYMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ4MSA9IEdldFJlY3RYMShyZWN0Mik7XHJcbiAgICBsZXQgeDEgPSByMXgxIDwgcjJ4MSA/IHIxeDEgOiByMngxO1xyXG4gICAgbGV0IHIxeDIgPSBHZXRSZWN0WDIocmVjdDEpO1xyXG4gICAgbGV0IHIyeDIgPSBHZXRSZWN0WDIocmVjdDIpO1xyXG4gICAgbGV0IHgyID0gcjF4MiA+IHIyeDIgPyByMXgyIDogcjJ4MjtcclxuXHJcbiAgICBsZXQgcjF5MSA9IEdldFJlY3RZMShyZWN0MSk7XHJcbiAgICBsZXQgcjJ5MSA9IEdldFJlY3RZMShyZWN0Mik7XHJcbiAgICBsZXQgeTEgPSByMXkxIDwgcjJ5MSA/IHIxeTEgOiByMnkxO1xyXG4gICAgbGV0IHIxeTIgPSBHZXRSZWN0WTIocmVjdDEpO1xyXG4gICAgbGV0IHIyeTIgPSBHZXRSZWN0WTIocmVjdDIpO1xyXG4gICAgbGV0IHkyID0gcjF5MiA+IHIyeTIgPyByMXkyIDogcjJ5MjtcclxuXHJcbiAgICByZXR1cm4gTmV3T3V0dGVyUmVjdCh4MSwgeTEsIHgyLCB5Mik7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICog55+p5b2i5o6S5pal77yMdGFyZ2V0UmVjdOS8muiiq2Jsb2NrUmVjdOW8ueWHuuWOu1xyXG4gKiBUT0RP77yM5Lul5ZCO5a6M5ZaE5rOo6YeKXHJcbiAqL1xyXG5mdW5jdGlvbiBGaXhFeGNsdWRlUmVjdChibG9ja1JlY3QgPSBudWxsLCB0YXJnZXRSZWN0ID0gbnVsbCl7XHJcbiAgICBsZXQgcG9zMSA9IGJsb2NrUmVjdC5wb3M7XHJcbiAgICBsZXQgcG9zMiA9IHRhcmdldFJlY3QucG9zO1xyXG4gICAgLy/orqHnrpflhbPns7vvvIzkuIrkuIvlt6blj7NcclxuICAgIGxldCB2eCA9IHBvczEueCAtIHBvczIueDtcclxuICAgIGxldCB2eSA9IHBvczEueSAtIHBvczIueTtcclxuICAgIGxldCB4ID0gdnggPCAwID8gdngqLTEgOiB2eDtcclxuICAgIGxldCB5ID0gdnkgPCAwID8gdnkqLTEgOiB2eTtcclxuICAgIGlmKHggPiB5KXtcclxuICAgICAgICAvL+W3puWPs1xyXG4gICAgICAgIGlmKHZ4ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjlt6ZcclxuICAgICAgICAgICAgcG9zMi54ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnggLSB0YXJnZXRSZWN0LndpZHRoIC0gdGFyZ2V0UmVjdC54T2Zmc2V0O1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAvL3JlY3Qy5Zyo5Y+zXHJcbiAgICAgICAgICAgIHBvczIueCA9IGJsb2NrUmVjdC5wb3NFbmQueCAtIHRhcmdldFJlY3QueE9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICAvL+S4iuS4i1xyXG4gICAgICAgIGlmKHZ5ID4gMCl7XHJcbiAgICAgICAgICAgIC8vcmVjdDLlnKjkuIpcclxuICAgICAgICAgICAgcG9zMi55ID0gYmxvY2tSZWN0LnBvc1N0YXJ0LnkgLSB0YXJnZXRSZWN0LmhlaWdodCAtIHRhcmdldFJlY3QueU9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgLy9yZWN0MuWcqOS4i1xyXG4gICAgICAgICAgICBwb3MyLnkgPSBibG9ja1JlY3QucG9zRW5kLnkgLSB0YXJnZXRSZWN0LnlPZmZzZXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgVXBkYXRlUmVjdCh0YXJnZXRSZWN0KTtcclxufSIsImltcG9ydCB7IE5ld1JlY3RQb3NSZWxhdGlvbiwgR2V0UmVjdFBvc1N0YXJ0LCBHZXRSZWN0IH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vb2Zmc2V0L3JlY3RcIjtcclxuaW1wb3J0IHsgTmV3UG9zLCBOZXdSZWN0LCBHZXRSZWN0V2lkdGgsIEdldFJlY3RIZWlnaHQgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljXCI7XHJcblxyXG4vKipcclxuICog5pGE5YOP5py65oq96LGh57G7XHJcbiAqIOebruWJje+8jENhbWVyYeWNs+aYr1JlY3RQb3NUdXBsZe+8jOWPquaYr+WFtm9mZnNldD0w6ICM5beyXHJcbiAqIOWQjue7reWPr+iDveS8muWinuWKoOaWsOWxnuaAp++8jOWFiOeUqOS4quexu+adpeWBmlxyXG4gKi9cclxuY2xhc3MgQmFzZUNhbWVyYSB7XHJcbiAgICBjb25zdHJ1Y3RvcihyZWN0UG9zUmVsID0gbnVsbCwgc2NyZWVuT2Zmc2V0ID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5yZWN0UG9zUmVsID0gcmVjdFBvc1JlbDtcclxuICAgICAgICB0aGlzLnNjcmVlbk9mZnNldCA9IHNjcmVlbk9mZnNldDsgICAvL+Wxj+W5leW3puS4iuinkuWBj+enu+mHj1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdDYW1lcmEoeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApe1xyXG4gICAgbGV0IHBvcyA9IE5ld1Bvcyh4LCB5KTtcclxuICAgIGxldCBycCA9IE5ld1JlY3RQb3NSZWxhdGlvbihwb3MsIG51bGwsIE5ld1JlY3Qod2lkdGgsIGhlaWdodCkpO1xyXG4gICAgcmV0dXJuIG5ldyBCYXNlQ2FtZXJhKHJwKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2FtZXJhU3RhcnRQb3MoY2FtZXJhID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdFBvc1N0YXJ0KGNhbWVyYS5yZWN0UG9zUmVsKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2FtZXJhV2lkdGgoY2FtZXJhID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdFdpZHRoKFxyXG4gICAgICAgIEdldFJlY3QoY2FtZXJhLnJlY3RQb3NSZWwpKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0Q2FtZXJhSGVpZ2h0KGNhbWVyYSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlY3RIZWlnaHQoXHJcbiAgICAgICAgR2V0UmVjdChjYW1lcmEucmVjdFBvc1JlbCkpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgTmV3Q2FtZXJhLCBHZXRDYW1lcmFTdGFydFBvcyxcclxuICAgIEdldENhbWVyYVdpZHRoLCBHZXRDYW1lcmFIZWlnaHRcclxufSIsImltcG9ydCB7IE5ld0NhbWVyYSwgR2V0Q2FtZXJhU3RhcnRQb3MgfSBmcm9tIFwiLi9iYXNlXCI7XHJcbmltcG9ydCB7IFRvTG9jYXRlUG9zIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxuLyoqXHJcbiAqIG9wdGlvbnMgPSB7XHJcbiAqICAgICAgc3R5bGUgOiAwLFxyXG4gKiAgICAgIGRhdGFzIDogW1xyXG4gKiAgICAgICAgICB7XHJcbiAqICAgICAgICAgICAgICB4IDogMCwgeSA6IDAsICBcclxuICogICAgICAgICAgICAgIC8v5omp5bGV77yab2Zmc2V0LXggOiAwLCBvZmZzZXQteSA6IDAsIHdpZHRoIDogMCwgaGVpZ2h0IDogMFxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgXVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVDYW1lcmFXaXRoRGF0YShvcHRpb25zID0gbnVsbCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIC8v6buY6K6k5YC8XHJcbiAgICBvcHRpb25zID0gb3B0aW9ucyA/IG9wdGlvbnMgOiB7XHJcbiAgICAgICAgc3R5bGUgOiAwLFxyXG4gICAgICAgIGRhdGFzIDogW3t4IDogMCwgeSA6IDB9XVxyXG4gICAgfTtcclxuICAgIC8vVE9ET1xyXG4gICAgbGV0IGMgPSBvcHRpb25zLmRhdGFzWzBdO1xyXG4gICAgcmV0dXJuIE5ld0NhbWVyYShjWyd4J10sIGNbJ3knXSwgd2lkdGgsIGhlaWdodCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIFRvQ2FtZXJhU3RhcnRQb3MoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gVG9Mb2NhdGVQb3MoXHJcbiAgICAgICAgcG9zLCBHZXRDYW1lcmFTdGFydFBvcyhjYW1lcmEpKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIENyZWF0ZUNhbWVyYVdpdGhEYXRhLFxyXG4gICAgVG9DYW1lcmFTdGFydFBvc1xyXG59IiwiaW1wb3J0IHsgR2V0RW5naW5lLCBHZXREZWZhdWx0Q2FtZXJhIH0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgRW5naW5lRHJhd0ZyYW1lLCBFbmdpbmVEcmF3UmVjdCwgRW5naW5lQ2xlYXIsIEVuZ2luZURyYXdMaW5lLCBFbmdpbmVEcmF3Q2lyY2xlIH0gZnJvbSBcIi4uL2xpYi9lbmdpbmUvYmFzZVwiO1xyXG5pbXBvcnQgeyBUb0NhbWVyYVN0YXJ0UG9zIH0gZnJvbSBcIi4uL2xpYi9jYW1lcmEvdXRpbHNcIjtcclxuXHJcbi8qKlxyXG4gKiDmuIXpmaTnlLvluINcclxuICovXHJcbmZ1bmN0aW9uIENsZWFyKCl7XHJcbiAgICBFbmdpbmVDbGVhcihHZXRFbmdpbmUoKSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUT0RPIOWPr+iDveS8muaUueaIkHNwcml0ZUZyYW1lSWTlj4LmlbBcclxuICovXHJcbmZ1bmN0aW9uIERyYXdGcmFtZShwb3MgPSBudWxsLCBzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgRHJhd0ZyYW1lSW5DYW1lcmEoXHJcbiAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpLCBwb3MsIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd0ZyYW1lSW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIGxldCBjUG9zID0gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEsIHBvcyk7XHJcbiAgICBFbmdpbmVEcmF3RnJhbWUoR2V0RW5naW5lKCksXHJcbiAgICAgICAgY1Bvcy54LCBjUG9zLnksIHNwcml0ZUZyYW1lKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd1JlY3QocG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgRHJhd1JlY3RJbkNhbWVyYShcclxuICAgICAgICBHZXREZWZhdWx0Q2FtZXJhKCksIHBvcywgcmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdSZWN0SW5DYW1lcmEoY2FtZXJhID0gbnVsbCwgcG9zID0gbnVsbCwgcmVjdCA9IG51bGwpe1xyXG4gICAgbGV0IGNQb3MgPSBUb0NhbWVyYVN0YXJ0UG9zKGNhbWVyYSwgcG9zKTtcclxuICAgIEVuZ2luZURyYXdSZWN0KEdldEVuZ2luZSgpLCBjUG9zLCByZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd0xpbmUocG9zU3RhcnQgPSBudWxsLCBwb3NFbmQgPSBudWxsKXtcclxuICAgIERyYXdMaW5lSW5DYW1lcmEoXHJcbiAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpLCBwb3NTdGFydCwgcG9zRW5kKTtcclxufVxyXG5cclxuZnVuY3Rpb24gRHJhd0xpbmVJbkNhbWVyYShjYW1lcmEgPSBudWxsLCBwb3NTdGFydCA9IG51bGwsIHBvc0VuZCA9IG51bGwpe1xyXG4gICAgbGV0IGNQb3MxID0gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEsIHBvc1N0YXJ0KTtcclxuICAgIGxldCBjUG9zMiA9IFRvQ2FtZXJhU3RhcnRQb3MoY2FtZXJhLCBwb3NFbmQpO1xyXG4gICAgRW5naW5lRHJhd0xpbmUoR2V0RW5naW5lKCksIGNQb3MxLCBjUG9zMik7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdDaXJjbGUocG9zID0gbnVsbCwgcmFkaXVzID0gMCl7XHJcbiAgICBEcmF3Q2lyY2xlSW5DYW1lcmEoXHJcbiAgICAgICAgR2V0RGVmYXVsdENhbWVyYSgpLCBwb3MsIHJhZGl1cyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIERyYXdDaXJjbGVJbkNhbWVyYShjYW1lcmEgPSBudWxsLCBwb3MgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgIGxldCBjUG9zID0gVG9DYW1lcmFTdGFydFBvcyhjYW1lcmEsIHBvcyk7XHJcbiAgICBFbmdpbmVEcmF3Q2lyY2xlKEdldEVuZ2luZSgpLCBjUG9zLCByYWRpdXMpO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBDbGVhciwgRHJhd0ZyYW1lLCBEcmF3RnJhbWVJbkNhbWVyYSxcclxuICAgIERyYXdSZWN0LCBEcmF3UmVjdEluQ2FtZXJhLCBcclxuICAgIERyYXdMaW5lLCBEcmF3TGluZUluQ2FtZXJhLFxyXG4gICAgRHJhd0NpcmNsZSwgRHJhd0NpcmNsZUluQ2FtZXJhXHJcbn0iLCIvKipcclxuICog5oq96LGh5YiX6KGo5pON5L2cXHJcbiAqL1xyXG5jbGFzcyBBYnN0cmFjdExpc3Qge1xyXG4gICAgY29uc3RydWN0b3IoKXt9XHJcbiAgICBnZXQoaWQgPSAwKXt9ICAgICAgICAgIC8v5qC55o2uaWTojrflvpdcclxuICAgIGZpcnNyKCl7fVxyXG4gICAgbGFzdCgpe31cclxuICAgIHNpemUoKXt9ICAgICAgICAgICAgICAgIC8v6L+U5Zue6ZW/5bqmXHJcbiAgICBhZGQoZGF0YSA9IG51bGwpe30gICAgICAvL+WwvumDqOi/veWKoFxyXG4gICAgcHVzaChkYXRhID0gbnVsbCl7fSAgICAgLy/lpLTpg6jov73liqBcclxuICAgIGluc2VydChkYXRhID0gbnVsbCwgb3JkZXIgPSAwKXt9ICAgIC8v5o+S5YWl5Yiw5oyH5a6a6aG65bqP77yM55u45ZCMb3JkZXLpl7TnmoTlhYjlkI7pobrluo/nnIvlhbfkvZPlrp7njrDpgLvovpFcclxuICAgIHBvcCgpe30gICAgICAgICAgICAgICAvL+enu+mZpOWktOmDqOWFg+e0oFxyXG4gICAgcHVsbCgpe30gICAgICAgICAgICAgIC8v56e76Zmk5bC+6YOo5YWD57SgXHJcbiAgICByZW1vdmUoaWQgPSAwKXt9ICAgICAgLy/moLnmja5pZOenu+mZpFxyXG4gICAgaXRlcmF0b3IoY2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBpdGVyYXRvclJldmVyc2UoY2FsbGJhY2sgPSBudWxsKXt9XHJcbiAgICBpdGVyYXRvckNvbXBhcmUoY2FsbGJhY2sgPSBudWxsKXt9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3REYXRhKGxpc3QgPSBudWxsLCBpZCA9IDAsIHJlcXVpcmVkID0gZmFsc2Upe1xyXG4gICAgbGV0IGRhdGEgPSBsaXN0LmdldChpZCk7XHJcbiAgICBpZighZGF0YSAmJiByZXF1aXJlZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImNhbid0IGZpbmQga2V5SWQ6IFwiLCBpZCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGF0YTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGlzdEZpcnN0KGxpc3QgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0LmZpcnN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldExpc3RMYXN0KGxpc3QgPSBudWxsKXtcclxuICAgIHJldHVybiBsaXN0Lmxhc3QoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGlzdFNpemUobGlzdCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIGxpc3Quc2l6ZSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0FkZChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoIWxpc3QgfHwgIWRhdGEgfHwgIWRhdGEuaWQpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJlcnJvciBwYXJhbS5cIik7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgLy/kuI3og73ph43lpI3mt7vliqBcclxuICAgIGxldCBkID0gR2V0TGlzdERhdGEobGlzdCwgaWQpO1xyXG4gICAgaWYoZCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIGlkOiVkIGlzIGV4aXN0XCIsIGlkKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdHJ1ZTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWwvumDqOi/veWKoFxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBcclxuICovXHJcbmZ1bmN0aW9uIEFkZFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoY2hlY2tBZGQobGlzdCwgZGF0YSkpe1xyXG4gICAgICAgIGxpc3QuYWRkKGRhdGEpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5aS06YOo6L+95YqgXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBkYXRhIFxyXG4gKi9cclxuZnVuY3Rpb24gUHVzaFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwpe1xyXG4gICAgaWYoY2hlY2tBZGQobGlzdCwgZGF0YSkpe1xyXG4gICAgICAgIGxpc3QucHVzaChkYXRhKTtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOagueaNrumhuuW6j+WPt+aPkuWFpVxyXG4gKiBAcGFyYW0geyp9IGxpc3QgXHJcbiAqIEBwYXJhbSB7Kn0gZGF0YSBcclxuICogQHBhcmFtIHsqfSBvcmRlciBcclxuICovXHJcbmZ1bmN0aW9uIEluc2VydFRvTGlzdChsaXN0ID0gbnVsbCwgZGF0YSA9IG51bGwsIG9yZGVyID0gMCl7XHJcbiAgICBpZihjaGVja0FkZChsaXN0LCBkYXRhKSl7XHJcbiAgICAgICAgbGlzdC5pbnNlcnQoZGF0YSwgb3JkZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKipcclxuICog5aS06YOo56e76ZmkXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICovXHJcbmZ1bmN0aW9uIFBvcEZyb21MaXN0KGxpc3QgPSBudWxsKXtcclxuICAgIGxpc3QucG9wKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlsL7pg6jnp7vpmaRcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKi9cclxuZnVuY3Rpb24gUHVsbEZyb21MaXN0KGxpc3QgPSBudWxsKXtcclxuICAgIGxpc3QucHVsbCgpO1xyXG59XHJcblxyXG4vKipcclxuICog5qC55o2uaWTnp7vpmaRcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGlkIFxyXG4gKi9cclxuZnVuY3Rpb24gUmVtb3ZlRnJvbUxpc3QobGlzdCA9IG51bGwsIGlkID0gMCl7XHJcbiAgICBsaXN0LnJlbW92ZShpZCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmraPlkJHpgY3ljoZcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIGZ1bmMoZGF0YSl7IHJldHVybiBib29sfSDoi6Vib29sPXRydWXvvIzliJnnu4jmraLpgY3ljoZcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvcihsaXN0ID0gbnVsbCwgY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIGlmKCFsaXN0IHx8ICFjYWxsYmFjaykge1xyXG4gICAgICAgIC8vbG9nIGhlcmVcclxuICAgICAgICByZXR1cm5cclxuICAgIH1cclxuICAgIGxpc3QuaXRlcmF0b3IoY2FsbGJhY2spO1xyXG59XHJcblxyXG4vKipcclxuICog5Y+N5ZCR6YGN5Y6GXHJcbiAqIEBwYXJhbSB7Kn0gbGlzdCBcclxuICogQHBhcmFtIHsqfSBjYWxsYmFjayBcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvclJldmVyc2UobGlzdCA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighbGlzdCB8fCAhY2FsbGJhY2spIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsaXN0Lml0ZXJhdG9yUmV2ZXJzZShjYWxsYmFjayk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDlhoXpg6jkvp3mrKHlr7nmr5RcclxuICogQHBhcmFtIHsqfSBsaXN0IFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIGZ1bmMoZGF0YTEsIGRhdGEyKSByZXR1cm4gYm9vbCDoi6Vib29sPXRydWXvvIzliJnnu4jmraLpgY3ljoZcclxuICovXHJcbmZ1bmN0aW9uIExpc3RJdGVyYXRvckNvbXBhcmUobGlzdCA9IG51bGwsIGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBpZighbGluayB8fCAhY2FsbGJhY2spIHtcclxuICAgICAgICAvL2xvZyBoZXJlXHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcbiAgICBsaXN0Lml0ZXJhdG9yQ29tcGFyZShjYWxsYmFjayk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBBYnN0cmFjdExpc3QsXHJcbiAgICBHZXRMaXN0RGF0YSwgR2V0TGlzdEZpcnN0LCBHZXRMaXN0TGFzdCwgR2V0TGlzdFNpemUsIFxyXG4gICAgQWRkVG9MaXN0LCBQdXNoVG9MaXN0LCBJbnNlcnRUb0xpc3QsIFBvcEZyb21MaXN0LCBQdWxsRnJvbUxpc3QsIFJlbW92ZUZyb21MaXN0LFxyXG4gICAgTGlzdEl0ZXJhdG9yLCBMaXN0SXRlcmF0b3JSZXZlcnNlLCBMaXN0SXRlcmF0b3JDb21wYXJlXHJcbn0iLCJpbXBvcnQgeyBBYnN0cmFjdExpc3QgfSBmcm9tIFwiLi4vLi4vZm91bmRhdGlvbi9jb250YWluZXIvbGlzdFwiO1xyXG5cclxuY2xhc3MgTGlua05vZGUge1xyXG5cdGNvbnN0cnVjdG9yKGRhdGEgPSBudWxsLCBwcmVwID0gbnVsbCwgbmV4dCA9IG51bGwsIG9yZGVyID0gMCkge1xyXG5cdFx0dGhpcy5kYXRhID0gZGF0YTtcclxuXHRcdHRoaXMucHJlcCA9IHByZXA7XHJcbiAgICAgICAgdGhpcy5uZXh0ID0gbmV4dDtcclxuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBMaW5rTGlzdCBleHRlbmRzIEFic3RyYWN0TGlzdCB7XHJcblx0Y29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuXHRcdHRoaXMuaGVhZCA9IG5ldyBMaW5rTm9kZSgpO1x0XHQvL2VtcHR5IGRhdGEgbm9kZVxyXG5cdFx0dGhpcy50YWlsID0gbmV3IExpbmtOb2RlKCk7XHJcblx0XHR0aGlzLmhlYWQubmV4dCA9IHRoaXMudGFpbDtcclxuXHRcdHRoaXMudGFpbC5wcmVwID0gdGhpcy5oZWFkO1xyXG5cdFx0dGhpcy5fbWFwID0gbmV3IE1hcCgpO1xyXG5cdFx0dGhpcy5fc2l6ZSA9IDA7XHJcbiAgICAgICAgdGhpcy5fZGVsTGlzdCA9IFtdO1xyXG4gICAgICAgIHRoaXMuX2N1cnIgPSB0aGlzLmhlYWQ7XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBnZXQoaWQgPSAwKXtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuX21hcC5nZXQoaWQpO1xyXG4gICAgICAgIHJldHVybiBub2RlID8gbm9kZS5kYXRhIDogbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBmaXJzdCgpe1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgcmV0dXJuIG5vZGUgPT0gdGhpcy50YWlsID8gbnVsbCA6IG5vZGUuZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBsYXN0KCl7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRhaWwucHJlcDtcclxuICAgICAgICByZXR1cm4gbm9kZSA9PSB0aGlzLmhlYWQgPyBudWxsIDogbm9kZS5kYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIHNpemUoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5fc2l6ZTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGFkZFRvTGluayh0aGlzLCBkYXRhLCB0aGlzLnRhaWwpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1c2goZGF0YSA9IG51bGwpe1xyXG4gICAgICAgIGFkZFRvTGluayh0aGlzLCBkYXRhLCB0aGlzLmhlYWQubmV4dCk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5zZXJ0KGRhdGEgPSBudWxsLCBvcmRlciA9IDApe1xyXG4gICAgICAgIGxldCBub2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgd2hpbGUobm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICBpZihvcmRlciA8IG5vZGUub3JkZXIpe1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUubmV4dDtcclxuICAgICAgICB9XHJcbiAgICAgICAgYWRkVG9MaW5rKHRoaXMsIGRhdGEsIG5vZGUsIG9yZGVyKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3AoKXtcclxuICAgICAgICByZW1vdmVXaXRoQ2hlY2sodGhpcywgdGhpcy5oZWFkLm5leHQpO1xyXG4gICAgfVxyXG5cclxuICAgIHB1bGwoKXtcclxuICAgICAgICByZW1vdmVXaXRoQ2hlY2sodGhpcywgdGhpcy50YWlsLnByZXApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZShpZCA9IDApe1xyXG4gICAgICAgIHJlbW92ZVdpdGhDaGVjayh0aGlzLCB0aGlzLl9tYXAuZ2V0KGlkKSk7XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0b3IoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgICAgICB0aGlzLl9sb2NrID0gdHJ1ZTtcclxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMuaGVhZC5uZXh0O1xyXG4gICAgICAgIHdoaWxlKG5vZGUgIT0gdGhpcy50YWlsKXtcclxuICAgICAgICAgICAgaWYoY2FsbGJhY2sobm9kZS5kYXRhKSl7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBub2RlID0gbm9kZS5uZXh0O1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLl9sb2NrID0gZmFsc2U7XHJcbiAgICAgICAgd2hpbGUodGhpcy5fZGVsTGlzdC5sZW5ndGggPiAwKXtcclxuICAgICAgICAgICAgcmVtb3ZlTm9kZSh0aGlzLCB0aGlzLl9kZWxMaXN0LnBvcCgpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaXRlcmF0b3JSZXZlcnNlKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IHRydWU7XHJcbiAgICAgICAgbGV0IG5vZGUgPSB0aGlzLnRhaWwucHJlcDtcclxuICAgICAgICB3aGlsZShub2RlICE9IHRoaXMuaGVhZCl7XHJcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKG5vZGUuZGF0YSkpe1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbm9kZSA9IG5vZGUucHJlcDtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5fbG9jayA9IGZhbHNlO1xyXG4gICAgICAgIHdoaWxlKHRoaXMuX2RlbExpc3QubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIHJlbW92ZU5vZGUodGhpcywgdGhpcy5fZGVsTGlzdC5wb3AoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGl0ZXJhdG9yQ29tcGFyZShjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHRoaXMuX2xvY2sgPSB0cnVlO1xyXG4gICAgICAgIGxldCBvdXROb2RlID0gdGhpcy5oZWFkLm5leHQ7XHJcbiAgICAgICAgd2hpbGUob3V0Tm9kZSAhPSB0aGlzLnRhaWwpe1xyXG4gICAgICAgICAgICBsZXQgaW5Ob2RlID0gb3V0Tm9kZS5uZXh0O1xyXG4gICAgICAgICAgICB3aGlsZShpbk5vZGUgIT0gdGhpcy50YWlsKXtcclxuICAgICAgICAgICAgICAgIGlmKGNhbGxiYWNrKG91dE5vZGUuZGF0YSwgaW5Ob2RlLmRhdGEpKXtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGluTm9kZSA9IGluTm9kZS5uZXh0O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIG91dE5vZGUgPSBvdXROb2RlLm5leHQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuX2xvY2sgPSBmYWxzZTtcclxuICAgICAgICB3aGlsZSh0aGlzLl9kZWxMaXN0Lmxlbmd0aCA+IDApe1xyXG4gICAgICAgICAgICByZW1vdmVOb2RlKHRoaXMsIHRoaXMuX2RlbExpc3QucG9wKCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVG9MaW5rKGxpbmsgPSBudWxsLCBkYXRhID0gbnVsbCwgbmV4dCA9IG51bGwsIG9yZGVyID0gMCl7XHJcbiAgICAvL+aWsOiKgueCuei/nuaOpVxyXG4gICAgbGV0IHByZXAgPSBuZXh0LnByZXA7XHJcbiAgICBsZXQgbm9kZSA9IG5ldyBMaW5rTm9kZShkYXRhLCBwcmVwLCBuZXh0LCBvcmRlcik7XHJcbiAgICBwcmVwLm5leHQgPSBub2RlO1xyXG4gICAgbmV4dC5wcmVwID0gbm9kZTtcclxuXHJcbiAgICBsaW5rLl9tYXAuc2V0KGRhdGEuaWQsIG5vZGUpO1xyXG4gICAgbGluay5fc2l6ZSsrO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVXaXRoQ2hlY2sobGluayA9IG51bGwsIHRhcmdldE5vZGUgPSBudWxsKXtcclxuICAgIGlmKCFsaW5rIHx8ICF0YXJnZXROb2RlIHx8IGxpbmsuX3NpemUgPD0gMCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYobGluay5fbG9jayl7XHJcbiAgICAgICAgbGluay5fZGVsTGlzdC5wdXNoKHRhcmdldE5vZGUpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHJlbW92ZU5vZGUobGluaywgdGFyZ2V0Tm9kZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZU5vZGUobGluayA9IG51bGwsIG5vZGUgPSBudWxsKXtcclxuICAgIGxpbmsuX21hcC5kZWxldGUoa2V5SWQpO1xyXG4gICAgbGV0IHAgPSBub2RlLnByZXA7XHJcbiAgICBsZXQgbiA9IG5vZGUubmV4dDtcclxuICAgIHAubmV4dCA9IG47XHJcbiAgICBuLnByZXAgPSBwO1xyXG4gICAgbGluay5fc2l6ZS0tO1xyXG59XHJcblxyXG5mdW5jdGlvbiBOZXdMaW5rKCl7XHJcbiAgICByZXR1cm4gbmV3IExpbmtMaXN0KCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBOZXdMaW5rXHJcbn0iLCJcclxuLyoqXHJcbiAqIOavj+S4gOenjeaWsOexu+WvueW6lOS4gOS4qklE77yM5L6/5LqO5Zue5pS2XHJcbiAqL1xyXG52YXIgY2x6SWQgPSAxO1xyXG5mdW5jdGlvbiBOZXh0Q2xhc3NJZCgpe1xyXG5cdHJldHVybiBjbHpJZCsrO1xyXG59XHJcblxyXG4vKipcclxuICog5q+P5Liq5a6e5L2T5oul5pyJ5LiA5Liq54us56uLSURcclxuICovXHJcbnZhciBlbnRpdHlJZCA9IDE7XHJcbmZ1bmN0aW9uIE5ld0VudGl0eUlkKCl7XHJcblx0cmV0dXJuIGVudGl0eUlkKys7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmmoLlrprov5nkuKrlkI1cclxuICovXHJcbmNsYXNzIERGQ2xhc3Mge1xyXG5cdGNvbnN0cnVjdG9yKGNseklkID0gMCkge1xyXG5cdFx0dGhpcy5jbHpJZCA9IGNseklkO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbiAqIOaLpeaciWlk5bGe5oCn55qE6YO957un5om/5q2k57G777yM5Y2zRUNT5Lit55qERW50aXR5XHJcbiAqL1xyXG5jbGFzcyBHYW1lT2JqZWN0IHtcclxuXHRjb25zdHJ1Y3RvcigpIHtcclxuXHRcdHRoaXMuaWQgPSBOZXdFbnRpdHlJZCgpO1xyXG5cdH1cclxufVxyXG5cclxuLyoqXHJcbipcdFRoZSBiYXNlIENvbXBvbmVudFxyXG4qXHTmr4/kuKplbnRpdHnlr7nmr4/np43nu4Tku7blj6rog73mjIHmnInkuIDkuKpcclxuKi9cclxuY2xhc3MgQ29tcG9uZW50IHtcclxuXHRjb25zdHJ1Y3RvcihlbnRpdHlJZCA9IDApIHtcclxuXHRcdHRoaXMuZW50aXR5SWQgPSBlbnRpdHlJZDtcclxuXHRcdHRoaXMuaWQgPSBlbnRpdHlJZDtcdFx0XHQvL+e7mWxpbmvkvb/nlKhcclxuXHR9XHJcbn1cclxuXHJcbi8qKlxyXG4qXHRUaGUgYmFzZSBTeXN0ZW1cclxuKi9cclxuY2xhc3MgU3lzdGVtIHtcclxuXHRjb25zdHJ1Y3Rvcigpe1xyXG5cdFx0dGhpcy5pZCA9IE5ld0VudGl0eUlkKCk7XHJcblx0fVxyXG4gICAgb25TdGFydCgpe31cclxuICAgIG9uVXBkYXRlKGR0ID0gMCl7fVxyXG4gICAgb25FbmQoKXt9XHJcbn1cclxuXHJcbmV4cG9ydCB7TmV3RW50aXR5SWQsIEdhbWVPYmplY3QsIENvbXBvbmVudCwgU3lzdGVtfSIsImltcG9ydCB7IE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vbGlzdC9saW5rbGlzdFwiO1xyXG5pbXBvcnQgeyBJbnNlcnRUb0xpc3QsIEdldExpc3REYXRhLCBSZW1vdmVGcm9tTGlzdCwgTGlzdEl0ZXJhdG9yIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vY29udGFpbmVyL2xpc3RcIjtcclxuXHJcbi8qKlxyXG4gKiDmmL7npLrlm77lsYJcclxuICogIG9yZGVy6LaK5L2O77yM6LaK5YWI5riy5p+T77yM5ZCO5riy5p+T55qE5Lya6YGu5L2P5YmN6Z2i5riy5p+T55qEXHJcbiAqL1xyXG5jbGFzcyBMYXllciB7XHJcbiAgICBjb25zdHJ1Y3RvcihvcmRlciA9IDApe1xyXG4gICAgICAgIHRoaXMuaWQgPSBvcmRlcjtcclxuICAgICAgICB0aGlzLm9yZGVyID0gb3JkZXI7XHJcbiAgICAgICAgdGhpcy5saXN0ID0gTmV3TGluaygpO1xyXG4gICAgfVxyXG59XHJcblxyXG52YXIgbGF5ZXJMaXN0ID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBhZGRMYXllcihvcmRlciA9IDApe1xyXG4gICAgbGV0IGxheWVyID0gbmV3IExheWVyKG9yZGVyKTtcclxuICAgIEluc2VydFRvTGlzdChsYXllckxpc3QsIGxheWVyKTtcclxuICAgIHJldHVybiBsYXllcjtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0TGF5ZXIob3JkZXIgPSAwKXtcclxuICAgIGxldCBsYXllciA9IEdldExpc3REYXRhKGxheWVyTGlzdCwgb3JkZXIpO1xyXG4gICAgaWYoIWxheWVyKXtcclxuICAgICAgICBsYXllciA9IGFkZExheWVyKG9yZGVyKTtcclxuICAgIH1cclxuICAgIHJldHVybiBsYXllcjtcclxufVxyXG5cclxuZnVuY3Rpb24gSXRlcmF0b3JMYXllcnMoY2FsbGJhY2sgPSBudWxsKXtcclxuICAgIExpc3RJdGVyYXRvcihsYXllckxpc3QsIGxheWVyID0+IHtcclxuICAgICAgICBMaXN0SXRlcmF0b3IobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlID0+IHtcclxuICAgICAgICAgICAgY2FsbGJhY2soZGlzcGxheVR1cGxlKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pXHJcbn1cclxuXHJcbmZ1bmN0aW9uIEFkZFRvTGF5ZXIoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgbGF5ZXIgPSBHZXRMYXllcihkaXNwbGF5VHVwbGUubGF5ZXJPcmRlcik7XHJcbiAgICBJbnNlcnRUb0xpc3QobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlLCBkaXNwbGF5VHVwbGUub3JkZXIpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBSZW1vdmVGcm9tTGF5ZXIoZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBsZXQgbGF5ZXIgPSBHZXRMYXllcihkaXNwbGF5VHVwbGUub3JkZXIpO1xyXG4gICAgUmVtb3ZlRnJvbUxpc3QobGF5ZXIubGlzdCwgZGlzcGxheVR1cGxlLmlkKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldExheWVyLCBJdGVyYXRvckxheWVycywgQWRkVG9MYXllciwgUmVtb3ZlRnJvbUxheWVyXHJcbn0iLCIvKipcclxuICogZGF0YeWwseaYr+WbvueJh+aWh+S7tlxyXG4gKiB3aWR0aCwgaGVpZ2h05Y+v6YCJ77yM5pyA5aW95pyJXHJcbiAqL1xyXG5jbGFzcyBCaXRtYXAge1xyXG4gICAgY29uc3RydWN0b3IoZGF0YSA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCkge1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBDcmVhdGVCaXRtYXAoYml0bWFwRGF0YSA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCl7XHJcbiAgICByZXR1cm4gbmV3IEJpdG1hcChiaXRtYXBEYXRhLCB3aWR0aCwgaGVpZ2h0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOS4gOW8oOWbvuS4reeahOS4gOS4quWMuuWfn++8jOe6ueeQhuW4p+aIlueyvueBteW4p++8jOWNleS+i++8jOWSjOW8leaTjuacieWFs1xyXG4gKiDnsr7ngbXluKfnlKjkuo7moIflh7rkuIDlvKDnurnnkIblm77nmoTmjIflrprlj5bmnZDljLrln5/vvIzku6Xlj4rnm7jlr7nnmoTmmL7npLrkvY3nva5cclxuICovXHJcbmNsYXNzIFNwcml0ZUZyYW1lIHtcclxuICAgIGNvbnN0cnVjdG9yKG5hbWUgPSBcIlwiLCByZWN0ID0gbnVsbCwgYml0bWFwID0gbnVsbCwgeCA9IDAsIHkgPSAwKSB7XHJcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgICB0aGlzLnJlY3QgPSByZWN0O1xyXG4gICAgICAgIHRoaXMuYml0bWFwID0gYml0bWFwO1xyXG4gICAgICAgIHRoaXMuYml0bWFwWCA9IHg7XHJcbiAgICAgICAgdGhpcy5iaXRtYXBZID0geTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gQ3JlYXRlU3ByaXRlRnJhbWUobmFtZSA9IFwiXCIsIGJpdG1hcCA9IG51bGwsIHggPSAwLCB5ID0gMCwgd2lkdGggPSAwLCBoZWlnaHQgPSAwKXtcclxuICAgIGxldCByZWN0ID0gTmV3UmVjdCh3aWR0aCwgaGVpZ2h0KTtcclxuICAgIGxldCBmID0gbmV3IFNwcml0ZUZyYW1lKG5hbWUsIHJlY3QsIGJpdG1hcCwgeCwgeSk7XHJcbiAgICByZXR1cm4gZjtcclxufVxyXG5cclxuLyoqXHJcbiAqIHNwcml0ZUZyYW1l5byA5aeL57uY5Yi255qE5Z2Q5qCH77yM5bem5LiK6KeS5byA5aeL77yM5LiOcG9z5peg5YWzXHJcbiAqIEBwYXJhbSB7Kn0gc3ByaXRlRnJhbWUgXHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVN0YXJ0WChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLmJpdG1hcFg7XHJcbn1cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVTdGFydFkoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5iaXRtYXBZO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVJlY3Qoc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgIHJldHVybiBzcHJpdGVGcmFtZS5yZWN0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdFdpZHRoKHNwcml0ZUZyYW1lLnJlY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aChzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldFJlY3RIYWxmV2lkdGgoc3ByaXRlRnJhbWUucmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdEhlaWdodChzcHJpdGVGcmFtZS5yZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0KHNwcml0ZUZyYW1lID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVjdEhhbGZIZWlnaHQoc3ByaXRlRnJhbWUucmVjdCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldFNwcml0ZUZyYW1lQml0bWFwRGF0YShzcHJpdGVGcmFtZSA9IG51bGwpe1xyXG4gICAgcmV0dXJuIHNwcml0ZUZyYW1lLmJpdG1hcC5kYXRhO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBDcmVhdGVCaXRtYXAsIENyZWF0ZVNwcml0ZUZyYW1lLCBcclxuICAgIEdldFNwcml0ZUZyYW1lU3RhcnRYLCBHZXRTcHJpdGVGcmFtZVN0YXJ0WSwgR2V0U3ByaXRlRnJhbWVSZWN0LFxyXG4gICAgR2V0U3ByaXRlRnJhbWVXaWR0aCwgR2V0U3ByaXRlRnJhbWVIYWxmV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0LCBHZXRTcHJpdGVGcmFtZUhhbGZIZWlnaHQsXHJcbiAgICBHZXRTcHJpdGVGcmFtZUJpdG1hcERhdGFcclxufSIsImltcG9ydCB7IEdldFJlYWxQb3MsIEdldFBvcywgR2V0T2Zmc2V0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vb2Zmc2V0L2Jhc2VcIjtcclxuaW1wb3J0IHsgQ29tcG9uZW50LCBHYW1lT2JqZWN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjc1wiO1xyXG5pbXBvcnQgeyBOZXdMaW5rIH0gZnJvbSBcIi4uLy4uL2xpc3QvbGlua2xpc3RcIjtcclxuaW1wb3J0IHsgQWRkVG9MaXN0LCBHZXRMaXN0RGF0YSB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcbmltcG9ydCB7IE5ld1BvcywgVXBkYXRlUG9zIH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5pbXBvcnQgeyBOZXdSZWN0UG9zUmVsYXRpb24gfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9vZmZzZXQvcmVjdFwiO1xyXG5pbXBvcnQgeyBHZXRTcHJpdGVGcmFtZVJlY3QgfSBmcm9tIFwiLi4vLi4vLi4vZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZnJhbWVcIjtcclxuXHJcbi8qKlxyXG4gKiDmmL7npLrnu4Tku7bvvIzljIXlkKvkuIDkupvmmL7npLrlj4LmlbBcclxuICovXHJcbmNsYXNzIFJlbmRlckNvbXBvbmVudCBleHRlbmRzIENvbXBvbmVudCB7XHJcblx0Y29uc3RydWN0b3IoZW50aXR5SWQgPSAwLCBpc29tZXRyaWNzID0gZmFsc2UsIGFuZ2xlID0gMCwgc2NhbGUgPSAxKSB7XHJcbiAgICAgICAgc3VwZXIoZW50aXR5SWQpO1xyXG4gICAgICAgIHRoaXMuaXNvbWV0cmljcyA9IGlzb21ldHJpY3M7XHJcbiAgICAgICAgdGhpcy5hbmdsZSA9IGFuZ2xlO1xyXG4gICAgICAgIHRoaXMuc2NhbGUgPSBzY2FsZTtcclxuXHR9XHJcbn1cclxuXHJcbnZhciByZW5kZXJDb21zID0gTmV3TGluaygpO1xyXG5mdW5jdGlvbiBjcmVhdGVSZW5kZXJDb21wb25lbnQoZW50aXR5SWQgPSAwLCBvcHRpb25zID0gbnVsbCkge1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xyXG4gICAgbGV0IGNvbSA9IG5ldyBSZW5kZXJDb21wb25lbnQoZW50aXR5SWQsIG9wdGlvbnMuaXNvbWV0cmljcywgb3B0aW9ucy5hbmdsZSwgb3B0aW9ucy5zY2FsZSk7XHJcbiAgICBBZGRUb0xpc3QocmVuZGVyQ29tcywgY29tKTtcclxuICAgIHJldHVybiBjb207XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDmn6Xmib7muLLmn5PmmL7npLrnu4Tku7bvvIzmmoLml7bov5nmoLfmkJ5cclxuICogb3B0aW9ucyA6IHtcclxuICogICAgICBpc29tZXRyaWMgOiBmYWxzZSxcclxuICogICAgICBhbmdsZSA6IDE4MCxcclxuICogICAgICBzY2FsZSA6IDAuNVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBHZXRSZW5kZXJDb21wb25lbnQoZW50aXR5SWQgPSAwLCBvcHRpb25zID0gbnVsbCkge1xyXG4gICAgbGV0IGNvbSA9IEdldExpc3REYXRhKHJlbmRlckNvbXMsIGVudGl0eUlkKTtcclxuICAgIHJldHVybiBjb20gPyBjb20gOiBjcmVhdGVSZW5kZXJDb21wb25lbnQoZW50aXR5SWQsIG9wdGlvbnMpO1xyXG59XHJcblxyXG4vKipcclxuICog5pi+56S65YWD5Lu2XHJcbiAqICDlkoxlbnRpdHnlhbPns7vkuI3lpKfvvIzkuIDkuKplbnRpdHnlj6/ku6Xmi6XmnInlpKfkuo7kuIDkuKpEaXNwbGF5VHVwbGVcclxuICogIOmcgOimgeiuvuiuoeacuuWItumBv+WFjea7peeUqOmXrumimFxyXG4gKi9cclxuY2xhc3MgRGlzcGxheVR1cGxlIGV4dGVuZHMgR2FtZU9iamVjdCB7XHJcbiAgICBjb25zdHJ1Y3RvcihzcHJpdGVGcmFtZSA9IG51bGwsIHJlbmRlckNvbSA9IG51bGwsIHJlY3RQb3NSZWwgPSBudWxsLCBvcmRlciA9IDAsIGxheWVyT3JkZXIgPSAwKXtcclxuICAgICAgICBzdXBlcigpO1xyXG4gICAgICAgIHRoaXMuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcclxuICAgICAgICB0aGlzLnJlbmRlckNvbSA9IHJlbmRlckNvbTtcclxuICAgICAgICB0aGlzLnJlY3RQb3NSZWwgPSByZWN0UG9zUmVsO1xyXG4gICAgICAgIHRoaXMub3JkZXIgPSBvcmRlcjtcclxuICAgICAgICB0aGlzLmxheWVyT3JkZXIgPSBsYXllck9yZGVyO1xyXG4gICAgICAgIHRoaXMuaXNvUG9zID0gTmV3UG9zKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIE5ld0Rpc3BsYXllcihlbnRpdHlJZCA9IDAsIHNwcml0ZUZyYW1lID0gbnVsbCwgb2Zmc2V0ID0gbnVsbCwgb3JkZXIgPSAwLCBsYXllck9yZGVyID0gMCl7XHJcbiAgICBsZXQgcmVuZGVyQ29tID0gR2V0UmVuZGVyQ29tcG9uZW50KGVudGl0eUlkKTtcclxuICAgIGxldCBycCA9IE5ld1JlY3RQb3NSZWxhdGlvbihlbnRpdHlJZCwgb2Zmc2V0LCBHZXRTcHJpdGVGcmFtZVJlY3Qoc3ByaXRlRnJhbWUpKTtcclxuICAgIGxldCBkcyA9IG5ldyBEaXNwbGF5VHVwbGUoc3ByaXRlRnJhbWUsIHJlbmRlckNvbSwgcnAsIG9yZGVyLCBsYXllck9yZGVyKTtcclxuICAgIHJldHVybiBkcztcclxufVxyXG5cclxuZnVuY3Rpb24gSXNEaXNwbGF5SVNPbWV0cmljcyhkaXNwbGF5ZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBkaXNwbGF5ZXIucmVuZGVyQ29tLmlzb21ldHJpY3M7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlTcHJpdGVGcmFtZShkaXNwbGF5ZXIgPSBudWxsKXtcclxuICAgIHJldHVybiBkaXNwbGF5ZXIuc3ByaXRlRnJhbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlDZW50ZXJQb3MoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gR2V0UmVhbFBvcyhkaXNwbGF5ZXIucmVjdFBvc1JlbCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIEdldERpc3BsYXlJc29Qb3MoZGlzcGxheWVyID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZGlzcGxheWVyLmlzb1BvcztcclxufVxyXG5cclxuZnVuY3Rpb24gVXBkYXRlSXNvUG9zKGRpc3BsYXllciA9IG51bGwpe1xyXG4gICAgbGV0IHBvcyA9IEdldFBvcyhkaXNwbGF5VHVwbGUucmVjdFBvc1JlbCk7XHJcbiAgICBsZXQgb2Zmc2V0ID0gR2V0T2Zmc2V0KGRpc3BsYXlUdXBsZS5yZWN0UG9zUmVsKTtcclxuICAgIFVwZGF0ZVBvcyhkaXNwbGF5ZXIuaXNvUG9zLFxyXG4gICAgICAgIChwb3MueCAtIHBvcy55KSAqIDAuNSArIG9mZnNldC54LFxyXG4gICAgICAgIChwb3MueCArIHBvcy55KSAqIDAuNSArIG9mZnNldC55KTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIEdldFJlbmRlckNvbXBvbmVudCwgTmV3RGlzcGxheWVyLCBcclxuICAgIElzRGlzcGxheUlTT21ldHJpY3MsIEdldERpc3BsYXlTcHJpdGVGcmFtZSwgR2V0RGlzcGxheUNlbnRlclBvcyxcclxuICAgIEdldERpc3BsYXlJc29Qb3MsIFVwZGF0ZUlzb1Bvc1xyXG59IiwiaW1wb3J0IHsgRHJhd0ZyYW1lLCBDbGVhciB9IGZyb20gXCIuLi8uLi9kaXJlY3Rvci9yZW5kZXJcIjtcclxuaW1wb3J0IHsgU3lzdGVtIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vY29tcG9uZW50L2Vjc1wiO1xyXG5pbXBvcnQgeyBJdGVyYXRvckxheWVycyB9IGZyb20gXCIuL2NvbXBvbmVudC9sYXllclwiO1xyXG5pbXBvcnQgeyBHZXREaXNwbGF5SXNvUG9zLCBHZXREaXNwbGF5U3ByaXRlRnJhbWUsIEdldERpc3BsYXlDZW50ZXJQb3MsIFVwZGF0ZUlzb1BvcyB9IGZyb20gXCIuL2NvbXBvbmVudC9yZW5kZXJcIjtcclxuXHJcbi8qKlxyXG4gKiDmuLLmn5Pns7vnu5/vvIzpgLvovpHmraXpqqTvvJpcclxuICogMS4gICDmuIXpmaTnlLvluINcclxuICogMi4gICDph43lrprkvY3mkYTlg4/mnLpcclxuICogMy4gICDorqHnrpfljZXkvY3mmL7npLrnn6nlvaLmmK/lkKblnKjmkYTlg4/mnLrnn6nlvaLlhoVcclxuICogNC4gICDovazmjaLkuLrnlLvluIPlnZDmoIdcclxuICogNS4gICDnlLvlh7rlm77lg49cclxuICovXHJcbmNsYXNzIFJlbmRlclVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIENsZWFyKCk7XHJcbiAgICAgICAgTGlua0l0ZXJhdG9yKEdldERpc3BsYXlMaXN0KCksIGRpc3BsYXlUdXBsZSA9PiB7XHJcbiAgICAgICAgICAgIGxldCBwb3MgPSBHZXRQb3MoZGlzcGxheVR1cGxlLmVudGl0eUlkKTtcclxuICAgICAgICAgICAgVXBkYXRlUmVjdFBvc0J5VW5pdChkaXNwbGF5VHVwbGUuZGlzcGxheUFyZWEsIHBvcy54LCBwb3MueSk7XHJcbiAgICAgICAgICAgIERyYXdGcmFtZShkaXNwbGF5VHVwbGUuc3ByaXRlRnJhbWUsIGRpc3BsYXlUdXBsZS5wb3MpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5jbGFzcyBMYXllclJlbmRlclVwZGF0ZVN5c3RlbSBleHRlbmRzIFN5c3RlbSB7XHJcbiAgICBvblVwZGF0ZShkdCA9IDApe1xyXG4gICAgICAgIENsZWFyKCk7XHJcbiAgICAgICAgSXRlcmF0b3JMYXllcnMoZGlzcGxheVR1cGxlID0+IHtcclxuICAgICAgICAgICAgaWYoSXNEaXNwbGF5SVNPbWV0cmljcyhkaXNwbGF5VHVwbGUpKXtcclxuICAgICAgICAgICAgICAgIGRyYXdJc28oY2FtZXJhLCBkaXNwbGF5VHVwbGUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGRyYXcoY2FtZXJhLCBkaXNwbGF5VHVwbGUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdJc28oZGlzcGxheVR1cGxlID0gbnVsbCl7XHJcbiAgICBVcGRhdGVJc29Qb3MoZGlzcGxheVR1cGxlKTtcclxuICAgIERyYXdGcmFtZShcclxuICAgICAgICBHZXREaXNwbGF5SXNvUG9zKGRpc3BsYXlUdXBsZSksXHJcbiAgICAgICAgR2V0RGlzcGxheVNwcml0ZUZyYW1lKGRpc3BsYXlUdXBsZSkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkcmF3KGRpc3BsYXlUdXBsZSA9IG51bGwpe1xyXG4gICAgRHJhd0ZyYW1lKFxyXG4gICAgICAgIEdldERpc3BsYXlDZW50ZXJQb3MoZGlzcGxheVR1cGxlKSxcclxuICAgICAgICBHZXREaXNwbGF5U3ByaXRlRnJhbWUoZGlzcGxheVR1cGxlKSk7XHJcbn1cclxuXHJcbnZhciByZW5kZXJTeXMgPSBudWxsO1xyXG5mdW5jdGlvbiBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0oKXtcclxuICAgIGlmKCFyZW5kZXJTeXMpe1xyXG4gICAgICAgIHJlbmRlclN5cyA9IG5ldyBMYXllclJlbmRlclVwZGF0ZVN5c3RlbSgpO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJlbmRlclN5cztcclxufVxyXG5cclxuZXhwb3J0IHtHZXRSZW5kZXJVcGRhdGVTeXN0ZW19IiwiaW1wb3J0IHsgR2V0RW5naW5lIH0gZnJvbSBcIi4uL3Jlc291cmNlXCI7XHJcbmltcG9ydCB7IExpc3RJdGVyYXRvciB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9saXN0XCI7XHJcbmltcG9ydCB7IE5ld0xpbmsgfSBmcm9tIFwiLi4vLi4vbGliL2xpc3QvbGlua2xpc3RcIjtcclxuaW1wb3J0IHsgRW5naW5lU3RhcnQgfSBmcm9tIFwiLi4vLi4vbGliL2VuZ2luZS9iYXNlXCI7XHJcbmltcG9ydCB7IEdldFJlbmRlclVwZGF0ZVN5c3RlbSB9IGZyb20gXCIuLi8uLi9saWIvdmlldy9zeXN0ZW1cIjtcclxuXHJcbi8qKlxyXG4gKiDkuLvns7vnu5/liJfooahcclxuICovXHJcbnZhciBsb2dpY1N5c3RlbXMgPSBOZXdMaW5rKCk7XHJcbnZhciByZW5kZXJTeXN0ZW0gPSBudWxsO1xyXG5mdW5jdGlvbiBpbml0U3lzdGVtcyhkZWJ1ZyA9IGZhbHNlKXtcclxuICAgIC8vSW5zZXJ0VG9MaW5rKGxvZ2ljU3lzdGVtcywgR2V0QWN0aW9uU3lzdGVtKCkpO1xyXG4gICAgLy9JbnNlcnRUb0xpbmsobG9naWNTeXN0ZW1zLCBHZXRQb3NVcGRhdGVTeXN0ZW0oKSk7XHJcbiAgICByZW5kZXJTeXN0ZW0gPSBHZXRSZW5kZXJVcGRhdGVTeXN0ZW0oKTtcclxufVxyXG5cclxudmFyIGxvZ2ljVGljayA9IDE2OyAgICAgLy82MGZwc1xyXG52YXIgcmVuZGVyVGljayA9IDQxOyAgICAvLzI0ZnBzXHJcbnZhciBfdDEgPSAwO1xyXG52YXIgX3QyID0gMDtcclxuZnVuY3Rpb24gcnVuV2l0aFNjZW5lKHNjZW5lID0gbnVsbCl7XHJcbiAgICBMaXN0SXRlcmF0b3IobG9naWNTeXN0ZW1zLCBzeXN0ZW0gPT4ge1xyXG4gICAgICAgIHN5c3RlbS5vblN0YXJ0KCk7XHJcbiAgICB9KTtcclxuICAgIHJlbmRlclN5c3RlbS5vblN0YXJ0KCk7XHJcbiAgICBzY2VuZS5vblN0YXJ0KCk7XHJcblxyXG4gICAgLy9tYWluIGxvb3BcclxuICAgIEVuZ2luZVN0YXJ0KEdldEVuZ2luZSgpLCBkdCA9PiB7XHJcbiAgICAgICAgX3QxICs9IGR0O1xyXG4gICAgICAgIGlmKF90MSA+PSBsb2dpY1RpY2spe1xyXG4gICAgICAgICAgICBfdDEgLT0gbG9naWNUaWNrO1xyXG4gICAgICAgICAgICBzY2VuZS5vblVwZGF0ZShkdCk7XHJcbiAgICAgICAgICAgIExpc3RJdGVyYXRvcihsb2dpY1N5c3RlbXMsIHN5c3RlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzeXN0ZW0ub25VcGRhdGUoZHQpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF90MiArPSBkdDtcclxuICAgICAgICBpZihfdDIgPj0gcmVuZGVyVGljayl7XHJcbiAgICAgICAgICAgIF90MiAtPSByZW5kZXJUaWNrO1xyXG4gICAgICAgICAgICByZW5kZXJTeXN0ZW0ub25VcGRhdGUoZHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRTeXN0ZW0oc3lzdGVtID0gbnVsbCl7XHJcbiAgICBpZighc3lzdGVtKXtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBJbnNlcnRUb0xpbmsobG9naWNTeXN0ZW1zLCBzeXN0ZW0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdG9wU3lzdGVtKCl7XHJcbiAgICBMaXN0SXRlcmF0b3IobG9naWNTeXN0ZW1zLCBzeXN0ZW0gPT4ge1xyXG4gICAgICAgIHN5c3RlbS5vbkVuZCgpO1xyXG4gICAgfSk7XHJcbiAgICByZW5kZXJTeXN0ZW0ub25FbmQoKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIGluaXRTeXN0ZW1zLCBydW5XaXRoU2NlbmUsIGFkZFN5c3RlbSwgc3RvcFN5c3RlbVxyXG59IiwiXHJcbiAvKipcclxuICAqIGdyaWRtYXDnmoTnvZHmoLzljZXlhYNcclxuICAqL1xyXG4gY2xhc3MgQmFzZUdyaWQge1xyXG4gICAgY29uc3RydWN0b3Iod2lkdGggPSAwLCBoZWlnaHQgPSAwLCBkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoO1xyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7ICAgICAgIC8v5a2Y5YKo55qE5a+56LGhXHJcbiAgICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDnvZHmoLzooajmmK/kuKrln7rnoYDkuozlhYPlrrnlmajvvIzlupTlvZLnsbvkuLrlhYPmlbDmja5cclxuICogcm93cyA9IOihjOaVsFxyXG4gKiBjb2x1bW5zID0g5YiX5pWwXHJcbiAqIGdyaWRXaWR0aCwgZ3JpZEhlaWdodCA9IOavj+S4que9keagvOeahOWuvemrmOiMg+WbtO+8jOW7uuiurjE6MVxyXG4gKiBcclxuICovXHJcbmNsYXNzIEFic3RyYWN0R3JpZE1hcCB7XHJcbiAgICBnZXREYXRhKHBvcyA9IG51bGwpe31cclxuICAgIHNldERhdGEocG9zID0gbnVsbCwgZGF0YSA9IG51bGwpe31cclxuICAgIGdldEdyaWQocG9zID0gbnVsbCl7fVxyXG4gICAgZ2V0R3JpZE1hcFdpZHRoKCl7fVxyXG4gICAgZ2V0R3JpZE1hcEhlaWdodCgpe31cclxuICAgIGl0ZXJhdG9yKGNhbGxiYWNrID0gbnVsbCl7fVxyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRHcmlkRGF0YShncmlkbWFwID0gbnVsbCwgcG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXREYXRhKHBvcyk7XHJcbn1cclxuZnVuY3Rpb24gU2V0R3JpZERhdGEoZ3JpZG1hcCA9IG51bGwsIHBvcyA9IG51bGwsIGRhdGEgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLnNldERhdGEocG9zLCBkYXRhKTtcclxufVxyXG5mdW5jdGlvbiBHZXRHcmlkKGdyaWRtYXAgPSBudWxsLCBwb3MgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLmdldEdyaWQocG9zKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlsZ7mgKfvvJrlrr3luqZcclxuICovXHJcbmZ1bmN0aW9uIEdldEdyaWRXaWR0aChncmlkID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZC53aWR0aDtcclxufVxyXG5mdW5jdGlvbiBHZXRIYWxmR3JpZFdpZHRoKGdyaWQgPSBudWxsKXtcclxuICAgIHJldHVybiBHZXRHcmlkV2lkdGgoZ3JpZCkgKiAwLjU7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZE1hcFdpZHRoKGdyaWRtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBncmlkbWFwLmdldEdyaWRNYXBXaWR0aCgpO1xyXG59XHJcbmZ1bmN0aW9uIEdldEhhbGZHcmlkTWFwV2lkdGgoZ3JpZG1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldEdyaWRNYXBXaWR0aChncmlkbWFwKSAqIDAuNTtcclxufVxyXG5cclxuLyoqXHJcbiAqIOWfuuehgOWxnuaAp++8mumrmOW6plxyXG4gKi9cclxuZnVuY3Rpb24gR2V0R3JpZEhlaWdodChncmlkID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZC5oZWlnaHQ7XHJcbn1cclxuZnVuY3Rpb24gR2V0SGFsZkdyaWRIZWlnaHQoZ3JpZCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldEdyaWRIZWlnaHQoZ3JpZCkgKiAwLjU7XHJcbn1cclxuZnVuY3Rpb24gR2V0R3JpZE1hcEhlaWdodChncmlkbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gZ3JpZG1hcC5nZXRHcmlkTWFwSGVpZ2h0KCk7XHJcbn1cclxuZnVuY3Rpb24gR2V0SGFsZkdyaWRNYXBIZWlnaHQoZ3JpZG1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIEdldEdyaWRNYXBIZWlnaHQoZ3JpZG1hcCkgKiAwLjU7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiDpgY3ljoZcclxuICogQHBhcmFtIHsqfSBncmlkbWFwIFxyXG4gKiBAcGFyYW0geyp9IGNhbGxiYWNrIFxyXG4gKi9cclxuZnVuY3Rpb24gR3JpZE1hcEl0ZXJhdG9yKGdyaWRtYXAgPSBudWxsLCBjYWxsYmFjayA9IG51bGwpe1xyXG4gICAgZ3JpZG1hcC5pdGVyYXRvcihjYWxsYmFjayk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgICBCYXNlR3JpZCwgQWJzdHJhY3RHcmlkTWFwLCBHZXRHcmlkRGF0YSwgU2V0R3JpZERhdGEsIEdldEdyaWQsXHJcbiAgICBHZXRHcmlkV2lkdGgsIEdldEhhbGZHcmlkV2lkdGgsIEdldEdyaWRNYXBXaWR0aCwgR2V0SGFsZkdyaWRNYXBXaWR0aCxcclxuICAgIEdldEdyaWRIZWlnaHQsIEdldEhhbGZHcmlkSGVpZ2h0LCBHZXRHcmlkTWFwSGVpZ2h0LCBHZXRIYWxmR3JpZE1hcEhlaWdodCxcclxuICAgIEdyaWRNYXBJdGVyYXRvclxyXG59IiwiaW1wb3J0IHsgTmV3UG9zLCBUb0xvY2F0ZVBvcyB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuaW1wb3J0IHsgR2V0SW50IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL21hdGhcIjtcclxuaW1wb3J0IHsgR2V0SGFsZkdyaWRNYXBXaWR0aCwgR2V0SGFsZkdyaWRNYXBIZWlnaHQsIEdldEdyaWRXaWR0aCwgR2V0R3JpZEhlaWdodCwgQmFzZUdyaWQsIEFic3RyYWN0R3JpZE1hcCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9ncmlkbWFwXCI7XHJcblxyXG4vKipcclxuICAqIGdyaWRtYXDnmoTnvZHmoLzljZXlhYNcclxuICAqL1xyXG4gY2xhc3MgVGlsZUdyaWQgZXh0ZW5kcyBCYXNlR3JpZCB7XHJcbiAgICBjb25zdHJ1Y3Rvcih3aWR0aCA9IDAsIGhlaWdodCA9IDAsIHJvd0luZGV4ID0gMCwgY29sSW5kZXggPSAwLCBkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIod2lkdGgsIGhlaWdodCwgZGF0YSk7XHJcbiAgICAgICAgdGhpcy5yb3dJbmRleCA9IHJvd0luZGV4O1xyXG4gICAgICAgIHRoaXMuY29sSW5kZXggPSBjb2xJbmRleDtcclxuICAgIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIDJk55O356CW5Zyw5Zu+77yM55SxR3JpZE1hcOaJqeWxlVxyXG4gKiBzYW1wbGU6XHJcbiAqIFtcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLCAxLCAxLCAxLCBcclxuXHQwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAxLCAxLCAxLFxyXG5cdDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIFxyXG5cdDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIDEsIFxyXG5dXHJcbiAqL1xyXG5jbGFzcyBUaWxlTWFwIGV4dGVuZHMgQWJzdHJhY3RHcmlkTWFwIHtcclxuICAgIGNvbnN0cnVjdG9yKHBvcyA9IG51bGwsIHJvd3MgPSAwLCBjb2x1bW5zID0gMCwgZ3JpZFdpZHRoID0gMCwgZ3JpZEhlaWdodCA9IDAsIGdyaWRzID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIoKTtcclxuICAgICAgICB0aGlzLnBvcyA9IHBvcztcclxuICAgICAgICB0aGlzLnJvd3MgPSByb3dzO1xyXG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XHJcbiAgICAgICAgdGhpcy5ncmlkV2lkdGggPSBncmlkV2lkdGg7XHJcbiAgICAgICAgdGhpcy5ncmlkSGVpZ2h0ID0gZ3JpZEhlaWdodDtcclxuICAgICAgICB0aGlzLmdyaWRzID0gZ3JpZHM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGF0YShwb3MgPSBudWxsKXtcclxuICAgICAgICBsZXQgZ3JpZCA9IGdldEdyaWRXaXRoUG9zKHBvcywgdGhpcyk7XHJcbiAgICAgICAgcmV0dXJuIGdyaWQgPyBncmlkLmRhdGEgOiBudWxsO1xyXG4gICAgfVxyXG4gICAgc2V0RGF0YShwb3MgPSBudWxsLCBkYXRhID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGdyaWQgPSBnZXRHcmlkV2l0aFBvcyhwb3MsIHRoaXMpO1xyXG4gICAgICAgIGlmKGdyaWQpe1xyXG4gICAgICAgICAgICBncmlkLmRhdGEgPSBkYXRhO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGdldEdyaWQocG9zID0gbnVsbCl7XHJcbiAgICAgICAgcmV0dXJuIGdldEdyaWRXaXRoUG9zKHBvcywgdGhpcyk7XHJcbiAgICB9XHJcbiAgICBnZXRHcmlkTWFwV2lkdGgoKXtcclxuICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW5zICogdGhpcy5ncmlkV2lkdGg7XHJcbiAgICB9XHJcbiAgICBnZXRHcmlkTWFwSGVpZ2h0KCl7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucm93cyAqIHRoaXMuZ3JpZEhlaWdodDtcclxuICAgIH1cclxuICAgIGl0ZXJhdG9yKGNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5ncmlkcy5mb3JFYWNoKGdyaWQgPT4ge1xyXG4gICAgICAgICAgICBjYWxsYmFjayhncmlkKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gTmV3VGlsZU1hcChyb3dzID0gMCwgY29sdW1ucyA9IDAsIGdyaWRXaWR0aCA9IDAsIGdyaWRIZWlnaHQgPSAwLCBwb3MgPSBudWxsKXtcclxuICAgIGxldCBncmlkcyA9IFtdO1xyXG4gICAgZm9yIChsZXQgcm93SW5kZXggPSAwOyByb3dJbmRleCA8IHJvd3M7IHJvd0luZGV4KyspIHtcclxuICAgICAgICBmb3IgKGxldCBjb2xJbmRleCA9IDA7IGNvbEluZGV4IDwgY29sdW1uczsgY29sSW5kZXgrKykge1xyXG4gICAgICAgICAgICBncmlkcy5wdXNoKG5ldyBUaWxlR3JpZChncmlkV2lkdGgsIGdyaWRIZWlnaHQsIHJvd0luZGV4LCBjb2xJbmRleCkpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHBvcyA9IHBvcyA/IHBvcyA6IE5ld1BvcygpO1xyXG4gICAgcmV0dXJuIG5ldyBUaWxlTWFwKHBvcywgcm93cywgY29sdW1ucywgZ3JpZFdpZHRoLCBncmlkSGVpZ2h0LCBncmlkcyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrSW4oeCA9IDAsIHkgPSAwLCB0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4geCA+IDAgJiYgeCA8IHRpbGVtYXAuZ2V0R3JpZE1hcFdpZHRoKCkgJiYgeSA+IDAgJiYgeSA8IHRpbGVtYXAuZ2V0R3JpZE1hcEhlaWdodCgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRHcmlkV2l0aFBvcyhwb3MgPSBudWxsLCB0aWxlbWFwID0gbnVsbCl7XHJcbiAgICBsZXQgdFBvcyA9IFRvTG9jYXRlUG9zKHBvcywgdGlsZW1hcC5wb3MpO1xyXG4gICAgaWYoIWNoZWNrSW4odFBvcy54LCB0UG9zLnksIHRpbGVtYXApKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBjb2x1bW4gPSBHZXRJbnQodFBvcy54IC8gZ3JpZG1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvdyA9IEdldEludCh0UG9zLnkgLyBncmlkbWFwLmdyaWRIZWlnaHQpO1xyXG4gICAgcmV0dXJuIGdyaWRtYXAuZ3JpZHNbcm93ICogZ3JpZG1hcC5jb2x1bW5zICsgY29sdW1uXTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDln7rnoYDlnZDmoIdcclxuICogQHBhcmFtIHsqfSB0aWxlbWFwIFxyXG4gKi9cclxuZnVuY3Rpb24gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXAgPSBudWxsKXtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueCAtIEdldEhhbGZHcmlkTWFwV2lkdGgodGlsZW1hcCksXHJcbiAgICAgICAgdGlsZW1hcC5wb3MueSAtIEdldEhhbGZHcmlkTWFwSGVpZ2h0KHRpbGVtYXApXHJcbiAgICApO1xyXG59XHJcbmZ1bmN0aW9uIEdldFRpbGVtYXBFbmQodGlsZW1hcCA9IG51bGwpe1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICB0aWxlbWFwLnBvcy54ICsgR2V0SGFsZkdyaWRNYXBXaWR0aCh0aWxlbWFwKSxcclxuICAgICAgICB0aWxlbWFwLnBvcy55ICsgR2V0SGFsZkdyaWRNYXBIZWlnaHQodGlsZW1hcClcclxuICAgICk7XHJcbn1cclxuZnVuY3Rpb24gR2V0VGlsZW1hcENlbnRlcih0aWxlbWFwID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKHRpbGVtYXAucG9zLngsIHRpbGVtYXAucG9zLnkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBHZXRUaWxlR3JpZFN0YXJ0KHRpbGVtYXAgPSBudWxsLCBncmlkID0gbnVsbCl7XHJcbiAgICBsZXQgc3RhcnQgPSBHZXRUaWxlbWFwU3RhcnQodGlsZW1hcCk7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIHN0YXJ0LnggKyBHZXRHcmlkV2lkdGgodGlsZW1hcC5ncmlkbWFwKSAqIGdyaWQuY29sSW5kZXgsXHJcbiAgICAgICAgc3RhcnQueSArIEdldEdyaWRIZWlnaHQodGlsZW1hcC5ncmlkbWFwKSAqIGdyaWQucm93SW5kZXhcclxuICAgICk7XHJcbn1cclxuZnVuY3Rpb24gR2V0VGlsZUdyaWRFbmQodGlsZW1hcCA9IG51bGwsIGdyaWQgPSBudWxsKXtcclxuICAgIGxldCBzdGFydCA9IEdldFRpbGVtYXBTdGFydCh0aWxlbWFwKTtcclxuICAgIHJldHVybiBOZXdQb3MoXHJcbiAgICAgICAgc3RhcnQueCArIHRpbGVtYXAuZ3JpZFdpZHRoICogKGdyaWQuY29sSW5kZXggKyAxKSxcclxuICAgICAgICBzdGFydC55ICsgdGlsZW1hcC5ncmlkSGVpZ2h0ICogKGdyaWQucm93SW5kZXggKyAxKVxyXG4gICAgKTtcclxufVxyXG5mdW5jdGlvbiBHZXRUaWxlR3JpZENlbnRlcih0aWxlbWFwID0gbnVsbCwgZ3JpZCA9IG51bGwpe1xyXG4gICAgbGV0IHN0YXJ0ID0gR2V0VGlsZW1hcFN0YXJ0KHRpbGVtYXApO1xyXG4gICAgcmV0dXJuIE5ld1BvcyhcclxuICAgICAgICBzdGFydC54ICsgdGlsZW1hcC5ncmlkV2lkdGggKiAoZ3JpZC5jb2xJbmRleCArIDAuNSksXHJcbiAgICAgICAgc3RhcnQueSArIHRpbGVtYXAuZ3JpZEhlaWdodCAqIChncmlkLnJvd0luZGV4ICsgMC41KVxyXG4gICAgKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIE5ld1RpbGVNYXAsIFxyXG4gICAgR2V0VGlsZW1hcFN0YXJ0LCBHZXRUaWxlbWFwRW5kLCBHZXRUaWxlbWFwQ2VudGVyLCBcclxuICAgIEdldFRpbGVHcmlkU3RhcnQsIEdldFRpbGVHcmlkRW5kLCBHZXRUaWxlR3JpZENlbnRlclxyXG59XHJcblxyXG4vKipcclxuICog5om+5Ye65LiOcmVjdOebuOS6pOeahOaJgOaciWdyaWRcclxuICogVE9ETyDmnKrlrprvvIzlj6/og73kuI3pnIDopoHov5nnp43lgZrms5VcclxuICovXHJcbmZ1bmN0aW9uIEdldEdyaWRzQnlSZWN0KHRpbGVNYXAgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAvL+aYr+WQpuWcqHRpbGVtYXDkuK1cclxuICAgIGlmKCFJc1JlY3RDcm9zcyh0aWxlTWFwLnJlY3QsIHJlY3QpKXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBncmlkcyA9IFtdO1xyXG4gICAgbGV0IHBvc1N0YXJ0ID0gcmVjdC5wb3NTdGFydDtcclxuICAgIGxldCBjb2x1bW5TdGFydCA9IHBhcnNlSW50KHBvc1N0YXJ0LnggLyB0aWxlTWFwLmdyaWRXaWR0aCk7XHJcbiAgICBsZXQgcm93U3RhcnQgPSBwYXJzZUludChwb3NTdGFydC55IC8gdGlsZU1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIGNvbHVtblN0YXJ0ID0gY29sdW1uU3RhcnQgPCAwID8gMCA6IGNvbHVtblN0YXJ0O1xyXG4gICAgcm93U3RhcnQgPSByb3dTdGFydCA8IDAgPyAwIDogcm93U3RhcnQ7XHJcblxyXG4gICAgbGV0IHBvc0VuZCA9IHJlY3QucG9zRW5kO1xyXG4gICAgbGV0IGNvbHVtbkVuZCA9IHBhcnNlSW50KHBvc0VuZC54IC8gdGlsZU1hcC5ncmlkV2lkdGgpO1xyXG4gICAgbGV0IHJvd0VuZCA9IHBhcnNlSW50KHBvc0VuZC55IC8gdGlsZU1hcC5ncmlkSGVpZ2h0KTtcclxuICAgIGNvbHVtbkVuZCA9IGNvbHVtbkVuZCA+IHRpbGVNYXAuY29sdW1ucyAtIDEgPyB0aWxlTWFwLmNvbHVtbnMgLSAxIDogY29sdW1uRW5kO1xyXG4gICAgcm93RW5kID0gcm93RW5kID4gdGlsZU1hcC5yb3dzIC0gMSA/IHRpbGVNYXAucm93cyAtIDEgOiByb3dFbmQ7XHJcblxyXG4gICAgZm9yKGxldCByb3c9cm93U3RhcnQ7IHJvdzw9cm93RW5kOyByb3crKyl7XHJcbiAgICAgICAgZm9yKGxldCBjb2x1bW49Y29sdW1uU3RhcnQ7IGNvbHVtbjw9Y29sdW1uRW5kOyBjb2x1bW4rKyl7XHJcbiAgICAgICAgICAgIGdyaWRzLnB1c2godGlsZU1hcC5ncmlkc1tyb3ddW2NvbHVtbl0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBncmlkcztcclxufSIsImltcG9ydCB7IEdyaWRNYXBJdGVyYXRvciB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL2NvbnRhaW5lci9ncmlkbWFwXCI7XHJcbmltcG9ydCB7IEdldEludCB9IGZyb20gXCIuLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9tYXRoXCI7XHJcbmltcG9ydCB7IE5ld1RpbGVNYXAgfSBmcm9tIFwiLi90aWxlbWFwL2Jhc2VcIjtcclxuaW1wb3J0IHsgTmV3UG9zIH0gZnJvbSBcIi4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2dlb21ldHJpY1wiO1xyXG5cclxuLyoqXHJcbiAqIHRpbGVtYXAgPSBncmlkbWFwICsgcG9zXHJcbiAqIGdyaWRtYXDnmoTnm7jlr7nlnZDmoIfmmK8oMCwgMCnvvIzljbPlt6bkuIrop5JcclxuICogdGlsZW1hcC5wb3Plkozlhbbku5blr7nosaHkuIDmoLfvvIzku47kuK3pl7TlvIDlp4tcclxuICogZ3JpZFBvc+aYr2dyaWTnn6nlvaLkuK3pl7RcclxuICog5L6L5aaC77yadGlsZW1hcC5wb3MueCA9IDIwLCBncmlkV2lkdGggPSA1MCwgY29sdW1uID0gNTtcclxuICog6YKj5LmIZ3JpZFswXeeahHBvcy54PSAyMCArIDAqNTAgKyA1MC8yID0gNDUsIHBvc1N0YXJ0LnggPSA0NSAtIDUwLzIgPSAyMFxyXG4gKiDlkIznkIZncmlkWzRd55qEcG9zLng9IDIwICsgNCo1MCArIDUwLzIgPSAyNDUsIHBvc1N0YXJ0LnggPSAyNDUgLSA1MC8yID0gMjIwXHJcbiAqIFxyXG4gKiBvcHRpb25zOntcclxuICogICAgICBkYXRhIDogWyAgICAgICAgICAgICAgICDkuIDnu7TmlbDnu4RcclxuICogICAgICAgICAgMSwgMSwgMSwgMCwgMCwgMSxcclxuICogICAgICAgICAgMiwgMSwgMCwgMCwgMSwgMixcclxuICogICAgICAgICAgMiwgMiwgMSwgMSwgMSwgMVxyXG4gKiAgICAgICAgICBdXHJcbiAqICAgICAgY29sdW1ucyA6IDYgICAgIOWIl+aVsFxyXG4gKiAgICAgIGdyaWRXaWR0aCA6IDMyXHJcbiAqICAgICAgZ3JpZEhlaWdodCA6IDMyICAgICDmr4/kuKrmoLzlrZDnmoTlrr3pq5hcclxuICogICAgICB4IDogMFxyXG4gKiAgICAgIHkgOiAwICAgICAgICAgICDliJ3lp4vkvY3nva7vvIzpu5jorqTkuLpzdGFnZeS4reW/g++8jOWNsygwLCAwKVxyXG4gKiAgICAgIG9uQ3JlYXRlIDogZnVuY1xyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBDcmVhdGVUaWxlTWFwV2l0aERhdGEob3B0aW9ucyA9IG51bGwsIG9uQ3JlYXRlID0gbnVsbCl7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgZGVmYXVsdFRpbGVNYXBEYXRhKG9wdGlvbnMpO1xyXG4gICAgXHJcbiAgICAvL+mqjOivgXRpbGVtYXDmlbDmja7lrozmlbTmgKdcclxuICAgIGxldCBjb2x1bW5zID0gb3B0aW9ucy5jb2x1bW5zO1xyXG4gICAgbGV0IHJvd3MgPSBHZXRJbnQob3B0aW9ucy5kYXRhLmxlbmd0aCAvIGNvbHVtbnMpO1xyXG4gICAgaWYocm93cyAqIGNvbHVtbnMgIT0gb3B0aW9ucy5kYXRhLmxlbmd0aCl7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcihcImVycm9yIHBhcmFtOiBsZW4oZ3JpZHMpOiAlZCwgY29sdW1uczogJWRcIiwgb3B0aW9ucy5kYXRhLmxlbmd0aCwgY29sdW1ucyk7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcbiAgICBsZXQgdGlsZW1hcCA9IE5ld1RpbGVNYXAoXHJcbiAgICAgICAgcm93cywgY29sdW1ucywgb3B0aW9ucy5ncmlkV2lkdGgsIG9wdGlvbnMuZ3JpZEhlaWdodCwgTmV3UG9zKG9wdGlvbnMueCwgb3B0aW9ucy55KSk7XHJcbiAgICBpZihvbkNyZWF0ZSl7XHJcbiAgICAgICAgR3JpZE1hcEl0ZXJhdG9yKHRpbGVtYXAsIGdyaWQgPT4ge1xyXG4gICAgICAgICAgICBsZXQgdmFsID0gb3B0aW9ucy5kYXRhW2dyaWQucm93SW5kZXggKiBjb2x1bW5zICsgZ3JpZC5jb2xJbmRleF07XHJcbiAgICAgICAgICAgIG9uQ3JlYXRlKHZhbCwgdGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gdGlsZW1hcDtcclxufVxyXG5cclxuZnVuY3Rpb24gZGVmYXVsdFRpbGVNYXBEYXRhKG9wdGlvbnMgPSBudWxsKXtcclxuICAgIG9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcclxuICAgICAgICBjb2x1bW5zIDogMSxcclxuICAgICAgICBncmlkV2lkdGggOiAzMixcclxuICAgICAgICBncmlkSGVpZ2h0IDogMzIsXHJcbiAgICAgICAgeCA6IDAsXHJcbiAgICAgICAgeSA6IDAsXHJcbiAgICAgICAgZGF0YSA6IFswXVxyXG4gICAgfSwgb3B0aW9ucyk7XHJcbiAgICBvcHRpb25zLmdyaWRXaWR0aCA9IG9wdGlvbnMuZ3JpZFdpZHRoID4gMCA/IG9wdGlvbnMuZ3JpZFdpZHRoIDogMzI7XHJcbiAgICBvcHRpb25zLmdyaWRIZWlnaHQgPSBvcHRpb25zLmdyaWRIZWlnaHQgPiAwID8gb3B0aW9ucy5ncmlkSGVpZ2h0IDogMzI7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIENyZWF0ZVRpbGVNYXBXaXRoRGF0YVxyXG59IiwiXHJcbnZhciBfY2FsbGJhY2s7XHJcbnZhciBfZnJhbWVObyA9IDA7XHJcbnZhciBfZHQgPSAwO1xyXG52YXIgX2xhc3QgPSAwO1xyXG52YXIgX2lzRW5kID0gZmFsc2U7XHJcbmZ1bmN0aW9uIHJ1blRpY2sodGltZXN0YW1wKSB7XHJcbiAgICBfZHQgPSB0aW1lc3RhbXAgLSBfbGFzdDtcclxuICAgIF9sYXN0ID0gdGltZXN0YW1wO1xyXG4gICAgX2NhbGxiYWNrKF9kdCk7XHJcbiAgICBpZighX2lzRW5kKXtcclxuICAgICAgICBfZnJhbWVObyA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUodGljayk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogZGVidWdcclxuICovXHJcbnZhciBzdGFydCA9IG51bGw7XHJcbnZhciBsYXN0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbmZ1bmN0aW9uIHJ1blRpY2syKGZwcyA9IDAsIG9uVXBkYXRlQ2FsbGJhY2sgPSBudWxsKSB7XHJcbiAgICBfaXNFbmQgPSBmYWxzZTtcclxuICAgIG9uVXBkYXRlQ2FsbGJhY2s7XHJcbiAgICBsZXQgdGljayA9IDEwMDAgLyBmcHM7XHJcbiAgICBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgc3RhcnQgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBpZighX2lzRW5kKXtcclxuICAgICAgICAgICAgb25VcGRhdGVDYWxsYmFjayhzdGFydCAtIGxhc3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsYXN0ID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XHJcbiAgICB9LCB0aWNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RvcCgpe1xyXG4gICAgX2lzRW5kID0gdHJ1ZTtcclxufVxyXG5cclxuXHJcbi8v5Zug5Li65oyJ5L2P6ZSu55qE6K+d77yM5Lya5LiN5pat6Kem5Y+Rb25LZXlkb3du77yM5omA5Lul5YGa5LiqbWFw5Yik5patXHJcbnZhciBfa2V5RG93bk1hcCA9IG5ldyBNYXAoKTtcclxuZnVuY3Rpb24gY2FudmFzT25LZXlDYWxsYmFjayhrZXlEb3duQ2FsbGJhY2sgPSBudWxsLCBrZXlVcENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgaWYoX2tleURvd25NYXAuZ2V0KGNvZGUpKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBfa2V5RG93bk1hcC5zZXQoY29kZSwgMSk7XHJcbiAgICAgICAga2V5RG93bkNhbGxiYWNrKGUua2V5Q29kZSk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZSA9PiB7XHJcbiAgICAgICAgbGV0IGNvZGUgPSBlLmtleUNvZGU7XHJcbiAgICAgICAgX2tleURvd25NYXAuZGVsZXRlKGNvZGUpO1xyXG4gICAgICAgIGtleVVwQ2FsbGJhY2soZS5rZXlDb2RlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogaHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzE3NjE2MTY5L2FydGljbGUvZGV0YWlscy83MjgzMzA0NFxyXG4gKi9cclxuZnVuY3Rpb24gY2FudmFzT25Nb3VzZUNhbGxiYWNrKGVuZ2luZSA9IG51bGwsIG1vdXNlZG93bkNhbGxiYWNrID0gbnVsbCwgbW91c2V1cENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICBlbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWRvd25cIiwgZXZlbnQgPT4ge1xyXG4gICAgICAgIGxldCByZWN0ID0gY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG4gICAgICAgIGxldCB4ID0gZXZlbnQuY2xpZW50WCAtIHJlY3QubGVmdCAqIChjYW52YXMud2lkdGggLyByZWN0LndpZHRoKTtcclxuICAgICAgICBsZXQgeSA9IGV2ZW50LmNsaWVudFkgLSByZWN0LnRvcCAqIChjYW52YXMuaGVpZ2h0IC8gcmVjdC5oZWlnaHQpO1xyXG4gICAgICAgIG1vdXNlZG93bkNhbGxiYWNrKHgsIHkpO1xyXG4gICAgfSk7XHJcbiAgICBlbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZXVwXCIsIGV2ZW50ID0+IHtcclxuICAgICAgICBsZXQgcmVjdCA9IGNhbnZhcy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuICAgICAgICBsZXQgeCA9IGV2ZW50LmNsaWVudFggLSByZWN0LmxlZnQgKiAoY2FudmFzLndpZHRoIC8gcmVjdC53aWR0aCk7XHJcbiAgICAgICAgbGV0IHkgPSBldmVudC5jbGllbnRZIC0gcmVjdC50b3AgKiAoY2FudmFzLmhlaWdodCAvIHJlY3QuaGVpZ2h0KTtcclxuICAgICAgICBtb3VzZXVwQ2FsbGJhY2soeCwgeSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGVuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGV2ZW50ID0+IHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZyhldmVudC54LCBldmVudC55KTtcclxuICAgIC8vIH0pO1xyXG4gICAgLy9lbmdpbmUuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW1vdmVcIixkb01vdXNlTW92ZSxmYWxzZSk7XHJcbiAgICAvL2VuZ2luZS5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3V0XCIsZG9Nb3VzZU91dCxmYWxzZSk7XHJcbn1cclxuXHJcbmV4cG9ydHtcclxuICAgIHJ1blRpY2syLCBzdG9wLCBjYW52YXNPbktleUNhbGxiYWNrLCBjYW52YXNPbk1vdXNlQ2FsbGJhY2tcclxufSIsImltcG9ydCB7IHJ1blRpY2syLCBjYW52YXNPbktleUNhbGxiYWNrLCBjYW52YXNPbk1vdXNlQ2FsbGJhY2sgfSBmcm9tIFwiLi9wcm9jZXNzb3JcIjtcclxuaW1wb3J0IHsgR2V0U3ByaXRlRnJhbWVCaXRtYXBEYXRhLCBHZXRTcHJpdGVGcmFtZVN0YXJ0WCwgR2V0U3ByaXRlRnJhbWVTdGFydFksIEdldFNwcml0ZUZyYW1lV2lkdGgsIEdldFNwcml0ZUZyYW1lSGVpZ2h0LCBHZXRTcHJpdGVGcmFtZUhhbGZXaWR0aCwgR2V0U3ByaXRlRnJhbWVIYWxmSGVpZ2h0IH0gZnJvbSBcIi4uLy4uLy4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lXCI7XHJcbmltcG9ydCB7IEFic3RyYWN0RW5naW5lIH0gZnJvbSBcIi4uL2Jhc2VcIjtcclxuaW1wb3J0IHsgR2V0UmVjdEhhbGZXaWR0aCwgR2V0UmVjdEhhbGZIZWlnaHQsIEdldFJlY3RIZWlnaHQsIEdldFJlY3RXaWR0aCB9IGZyb20gXCIuLi8uLi8uLi9mb3VuZGF0aW9uL3N0cnVjdHVyZS9nZW9tZXRyaWNcIjtcclxuXHJcbi8qKlxyXG4gKiDmtY/op4jlmajnmoRrZXktY29kZVxyXG4gKi9cclxuZXhwb3J0IGNvbnN0IEtFWV9SSUdIVCA9IDM5O1xyXG5leHBvcnQgY29uc3QgS0VZX0xFRlQgPSAzNztcclxuZXhwb3J0IGNvbnN0IEtFWV9VUCA9IDM4O1xyXG5leHBvcnQgY29uc3QgS0VZX0RPV04gPSA0MDtcclxuXHJcbmV4cG9ydCBjb25zdCBLRVlfU1BBQ0UgPSAzMjtcclxuXHJcbmV4cG9ydCBjb25zdCBLRVlfVyA9IDg3O1xyXG5leHBvcnQgY29uc3QgS0VZX0EgPSA2NTtcclxuZXhwb3J0IGNvbnN0IEtFWV9TID0gODM7XHJcbmV4cG9ydCBjb25zdCBLRVlfRCA9IDY4O1xyXG5cclxuY2xhc3MgSDVFbmdpbmUgZXh0ZW5kcyBBYnN0cmFjdEVuZ2luZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihmcHMgPSA2MCwgY2FudmFzID0gbnVsbCwgY3R4ID0gbnVsbCl7XHJcbiAgICAgICAgc3VwZXIoZnBzKTtcclxuICAgICAgICB0aGlzLmNhbnZhcyA9IGNhbnZhcztcclxuICAgICAgICB0aGlzLmN0eCA9IGN0eDtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhcigpe1xyXG4gICAgICAgIHRoaXMuY3R4LmNsZWFyUmVjdCgwLCAwLCB0aGlzLmNhbnZhcy53aWR0aCwgdGhpcy5jYW52YXMuaGVpZ2h0KTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3RnJhbWUoY2VudGVyUG9zID0gbnVsbCwgc3ByaXRlRnJhbWUgPSBudWxsKXtcclxuICAgICAgICAvL+WPguiAg++8mmNvbnRleHQuZHJhd0ltYWdlKGltZyxzeCxzeSxzd2lkdGgsc2hlaWdodCx4LHksd2lkdGgsaGVpZ2h0KTtcclxuICAgICAgICB0aGlzLmN0eC5kcmF3SW1hZ2UoXHJcbiAgICAgICAgICAgIEdldFNwcml0ZUZyYW1lQml0bWFwRGF0YShzcHJpdGVGcmFtZSksXHJcbiAgICAgICAgICAgIEdldFNwcml0ZUZyYW1lU3RhcnRYKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVTdGFydFkoc3ByaXRlRnJhbWUpLCBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpLFxyXG4gICAgICAgICAgICBjZW50ZXJQb3MueCAtIEdldFNwcml0ZUZyYW1lSGFsZldpZHRoKHNwcml0ZUZyYW1lKSwgY2VudGVyUG9zLnkgLSBHZXRTcHJpdGVGcmFtZUhhbGZIZWlnaHQoc3ByaXRlRnJhbWUpLCBHZXRTcHJpdGVGcmFtZVdpZHRoKHNwcml0ZUZyYW1lKSwgR2V0U3ByaXRlRnJhbWVIZWlnaHQoc3ByaXRlRnJhbWUpKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3UmVjdChjZW50ZXJQb3MgPSBudWxsLCByZWN0ID0gbnVsbCl7XHJcbiAgICAgICAgdGhpcy5jdHguc3Ryb2tlUmVjdChcclxuICAgICAgICAgICAgY2VudGVyUG9zLnggLSBHZXRSZWN0SGFsZldpZHRoKHJlY3QpLCBjZW50ZXJQb3MueSAtIEdldFJlY3RIYWxmSGVpZ2h0KHJlY3QpLFxyXG4gICAgICAgICAgICBHZXRSZWN0V2lkdGgocmVjdCksIEdldFJlY3RIZWlnaHQocmVjdCkpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdMaW5lKHN0YXJ0UG9zID0gbnVsbCwgZW5kUG9zID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGN0eCA9IHRoaXMuY3R4O1xyXG4gICAgICAgIGN0eC5iZWdpblBhdGgoKTtcclxuICAgICAgICBjdHgubW92ZVRvKHN0YXJ0UG9zLngsIHN0YXJ0UG9zLnkpO1xyXG4gICAgICAgIGN0eC5saW5lVG8oZW5kUG9zLngsIGVuZFBvcy55KTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0NpcmNsZShjZW50ZXJQb3MgPSBudWxsLCByYWRpdXMgPSAwKXtcclxuICAgICAgICBsZXQgY3R4ID0gdGhpcy5jdHg7XHJcbiAgICAgICAgY3R4LmJlZ2luUGF0aCgpO1xyXG4gICAgICAgIGN0eC5hcmMoY2VudGVyUG9zLngsIGNlbnRlclBvcy55LCByYWRpdXMsIDAsIDIgKiBNYXRoLlBJKTtcclxuICAgICAgICBjdHguc3Ryb2tlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgbG9hZFJlc291cmNlKGltZ1NyYyA9IFwiXCIsIG9uTG9hZENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgbGV0IGltZyA9IG5ldyBJbWFnZSgpO1xyXG4gICAgICAgIGltZy5zcmMgPSBpbWdTcmM7XHJcbiAgICAgICAgaW1nLm9ubG9hZCA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgb25Mb2FkQ2FsbGJhY2soaW1nKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgb25LZXlDYWxsYmFjayhrZXlEb3duQ2FsbGJhY2sgPSBudWxsLCBrZXlVcENhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAgICAgY2FudmFzT25LZXlDYWxsYmFjayhrZXlEb3duQ2FsbGJhY2ssIGtleVVwQ2FsbGJhY2spO1xyXG4gICAgfVxyXG5cclxuICAgIG9uVG91Y2hDYWxsYmFjayh0b3VjaE9uQ2FsbGJhY2sgPSBudWxsLCB0b3VjaE92ZXJDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIGNhbnZhc09uTW91c2VDYWxsYmFjayh0aGlzLCB0b3VjaE9uQ2FsbGJhY2ssIHRvdWNoT3ZlckNhbGxiYWNrKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydChvbkVudGVyRnJhbWVDYWxsYmFjayA9IG51bGwpe1xyXG4gICAgICAgIHJ1blRpY2syKHRoaXMuZnBzLCBvbkVudGVyRnJhbWVDYWxsYmFjayk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5mdW5jdGlvbiBOZXdINUVuZ2luZSh3aWR0aCA9IDAsIGhlaWdodCA9IDAsIGZwcyA9IDApe1xyXG4gICAgbGV0IGNhbnZhcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FudmFzXCIpO1xyXG4gICAgY2FudmFzLndpZHRoID0gd2lkdGg7XHJcbiAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG4gICAgbGV0IGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KFwiMmRcIik7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGU9XCIjMDAwMGZmXCI7ICAgICAgICAgIC8v55S755+p5b2i5qGG55So55qEXHJcbiAgICByZXR1cm4gbmV3IEg1RW5naW5lKGZwcywgY2FudmFzLCBjdHgpO1xyXG59XHJcblxyXG5leHBvcnR7XHJcbiAgICBOZXdINUVuZ2luZVxyXG59XHJcblxyXG5cclxuY29uc3QgUmFkaXVzID0gTWF0aC5QSS8xODA7XHJcbmZ1bmN0aW9uIERyYXdJbWFnZVdpdGhBbmdsZShhbmdsZSA9IDAsIGltZ0RhdGEsIHN4ID0gMCwgc3kgPSAwLCBzd2lkdGggPSAwLCBzaGVpZ2h0ID0gMCwgeCA9IDAsIHkgPSAwLCB3aWR0aCA9IDAsIGhlaWdodCA9IDApIHtcclxuICAgIGxldCBjdHggPSBfZW5naW5lLmN0eDtcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHgudHJhbnNsYXRlKHggKyB3aWR0aC8yLCB5ICsgaGVpZ2h0LzIpO1xyXG4gICAgY3R4LnJvdGF0ZShhbmdsZSAqIFJhZGl1cyk7XHJcbiAgICBEcmF3SW1hZ2UoaW1nRGF0YSwgc3gsIHN5LCBzd2lkdGgsIHNoZWlnaHQsIC13aWR0aC8yLCAtaGVpZ2h0LzIsIHdpZHRoLCBoZWlnaHQpO1xyXG4gICAgY3R4LnJlc3RvcmUoKTtcclxuXHJcbiAgICAvLyBjdHgudHJhbnNsYXRlKDEwMCwgMTAwKTtcclxuXHQvLyBjdHgucm90YXRlKDkwICogTWF0aC5QSS8xODApO1x0Ly/ku6XkuIrpnaLnmoTlgY/np7vngrnkuLrlh4bvvIzov5vooYzml4vovaxcclxuXHQvLyBjdHguZHJhd0ltYWdlKGksIDE4NywgMCwgMTg2LCAxMzAsIC0wLCAtMCwgMTAwLCAxMDApO1xyXG59IiwiaW1wb3J0IHsgTmV3SDVFbmdpbmUgfSBmcm9tIFwiLi93ZWIvbW9kZWxcIjtcclxuXHJcbmNvbnN0IEVuZ2luZVdlYiA9IDA7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHsqfSBvcHRpb25zXHJcbiAqIHtcclxuICogICAgICB0eXBlIDogMCxcclxuICogICAgICB3aWR0aCA6IDQwMCxcclxuICogICAgICBoZWlnaHQgOiA0MDAsXHJcbiAqICAgICAgZnBzIDogNjAsXHJcbiAqICAgICAga2V5RG93bkhhbmRsZXIgOiBmdW5jLFxyXG4gKiAgICAgIGtleVVwSGFubGVyIDogZnVuYyxcclxuICogICAgICBtb3VzZWRvd25IYW5kbGVyIDogZnVuYyxcclxuICogICAgICBtb3VzZXVwSGFuZGxlciA6IGZ1bmNcclxuICogfVxyXG4gKi9cclxuZnVuY3Rpb24gQ3JlYXRlRW5naW5lV2l0aERhdGEob3B0aW9ucyA9IG51bGwsIHdpZHRoID0gMCwgaGVpZ2h0ID0gMCwga2V5RG93bkhhbmRsZXIgPSBudWxsLCBrZXlVcEhhbmxlciA9IG51bGwsIHRvdWNoT25DYWxsYmFjayA9IG51bGwsIHRvdWNoT3ZlckNhbGxiYWNrID0gbnVsbCl7XHJcbiAgICAvL+m7mOiupOWAvFxyXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgPyBvcHRpb25zIDoge307XHJcbiAgICAvLyBsZXQgd2lkdGggPSBvcHRpb25zWyd3aWR0aCddO1xyXG4gICAgLy8gd2lkdGggPSB3aWR0aCA/IHdpZHRoIDogNDAwO1xyXG4gICAgLy8gbGV0IGhlaWdodCA9IG9wdGlvbnNbJ2hlaWdodCddO1xyXG4gICAgLy8gaGVpZ2h0ID0gaGVpZ2h0ID8gaGVpZ2h0IDogNDAwO1xyXG4gICAgbGV0IGZwcyA9IG9wdGlvbnNbJ2ZwcyddO1xyXG4gICAgZnBzID0gZnBzID8gZnBzIDogNjA7XHJcbiAgICBsZXQgdHlwZSA9IG9wdGlvbnNbJ3R5cGUnXTtcclxuICAgIHR5cGUgPSB0eXBlID8gdHlwZSA6IEVuZ2luZVdlYjtcclxuXHJcbiAgICBsZXQgZW5naW5lID0gbnVsbDtcclxuICAgIHN3aXRjaCh0eXBlKXtcclxuICAgICAgICBjYXNlIEVuZ2luZVdlYjpcclxuICAgICAgICAgICAgZW5naW5lID0gTmV3SDVFbmdpbmUod2lkdGgsIGhlaWdodCwgZnBzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgLy9lcnJvciBsb2dcclxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy/ms6jlhozmjInplK7lm57osINcclxuICAgIGlmKGtleURvd25IYW5kbGVyICYmIGtleVVwSGFubGVyKXtcclxuICAgICAgICBlbmdpbmUub25LZXlDYWxsYmFjayhrZXlEb3duSGFuZGxlciwga2V5VXBIYW5sZXIpO1xyXG4gICAgfVxyXG4gICAgaWYodG91Y2hPbkNhbGxiYWNrICYmIHRvdWNoT3ZlckNhbGxiYWNrKXtcclxuICAgICAgICBlbmdpbmUub25Ub3VjaENhbGxiYWNrKHRvdWNoT25DYWxsYmFjaywgdG91Y2hPdmVyQ2FsbGJhY2spO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGVuZ2luZTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICAgIENyZWF0ZUVuZ2luZVdpdGhEYXRhXHJcbn0iLCJpbXBvcnQgeyBTZXREZWZhdWx0Q2FtZXJhLCBTZXRFbmdpbmUsIFNldERhdGEgfSBmcm9tIFwiLi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgQ3JlYXRlQ2FtZXJhV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2NhbWVyYS91dGlsc1wiO1xyXG5pbXBvcnQgeyBpbml0U3lzdGVtcyB9IGZyb20gXCIuL3N5c3RlbVwiO1xyXG5pbXBvcnQgeyBDcmVhdGVUaWxlTWFwV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2dyaWQvdXRpbHNcIjtcclxuaW1wb3J0IHsgQ3JlYXRlRW5naW5lV2l0aERhdGEgfSBmcm9tIFwiLi4vLi4vbGliL2VuZ2luZS91dGlsc1wiO1xyXG5cclxuLyoqXHJcbiAqIOmAmui/h+WPguaVsOmFjee9ruWIneWni+WMluezu+e7n+i1hOa6kFxyXG4gKiBvcHRpb25zIHtcclxuICogICAgICBkZWJ1ZyA6IGZhbHNlLFxyXG4gKiAgICAgIGZwcyA6IDYwLFxyXG4gKiAgICAgIHRleHR1cmVzIDogW13moLzlvI/op4FMb2FkUmVzb3VyY2UoKeWGhVxyXG4gKiAgICAgIHNjcmVlbi13aWR0aCA6IDgwMCxcclxuICogICAgICBzY3JlZW4taGVpZ2h0IDogODAwLFxyXG4gKiAgICAgIGNhbWVyYSA6IHt9LFxyXG4gKiAgICAgIGVuZ2luZSA6IHt9LFxyXG4gKiAgICAgIGxheWVycyA6IFtcclxuICogICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgdHlwZSA6IDEg5qC85byP5Y+C6ICDdGlsZW1hcOS4gOiKglxyXG4gKiAgICAgICAgICB9XHJcbiAqICAgICAgXVxyXG4gKiAgICAgIGNvbGxpZGUgOiB7fVxyXG4gKiB9XHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0R2FtZShvcHRpb25zID0gbnVsbCkge1xyXG4gICAgLy/pu5jorqTlgLxcclxuICAgIGxldCBzY3JlZW5XaWR0aCA9IG9wdGlvbnNbJ3NjcmVlbi13aWR0aCddO1xyXG4gICAgc2NyZWVuV2lkdGggPSBzY3JlZW5XaWR0aCAmJiBzY3JlZW5XaWR0aCA+IDAgPyBzY3JlZW5XaWR0aCA6IDgwMDtcclxuICAgIGxldCBzY3JlZW5IZWlnaHQgPSBvcHRpb25zWydzY3JlZW4taGVpZ2h0J107XHJcbiAgICBzY3JlZW5IZWlnaHQgPSBzY3JlZW5IZWlnaHQgJiYgc2NyZWVuSGVpZ2h0ID4gMCA/IHNjcmVlbkhlaWdodCA6IDgwMDtcclxuXHJcbiAgICAvL+aRhOWDj+aculxyXG4gICAgU2V0RGVmYXVsdENhbWVyYShcclxuICAgICAgICBDcmVhdGVDYW1lcmFXaXRoRGF0YShvcHRpb25zWydjYW1lcmEnXSwgc2NyZWVuV2lkdGgsIHNjcmVlbkhlaWdodCkpO1xyXG5cclxuICAgIC8v5byV5pOOXHJcbiAgICBTZXRFbmdpbmUoXHJcbiAgICAgICAgQ3JlYXRlRW5naW5lV2l0aERhdGEob3B0aW9uc1snZW5naW5lJ10sIHNjcmVlbldpZHRoLCBzY3JlZW5IZWlnaHQsIG9wdGlvbnMua2V5RG93bkhhbmRsZXIsIG9wdGlvbnMua2V5VXBIYW5sZXIsIG9wdGlvbnMudG91Y2hPbkNhbGxiYWNrLCBvcHRpb25zLnRvdWNoT3ZlckNhbGxiYWNrKSk7XHJcbiAgICBcclxuICAgIC8v57O757ufXHJcbiAgICBpbml0U3lzdGVtcyhvcHRpb25zWydkZWJ1ZyddKTtcclxuXHJcbiAgICAvL+W8gOWQr+eisOaSnuezu+e7n1xyXG4gICAgaWYob3B0aW9ucy5jb2xsaWRlKXtcclxuICAgICAgICBPcGVuQ29sbGlkZXIob3B0aW9ucy5jb2xsaWRlKTtcclxuXHJcbiAgICAgICAgLy8gaWYob3B0aW9ucy51c2VUaWxlQ29tYmluZSl7XHJcbiAgICAgICAgLy8gICAgIGxldCByZXN1bHROb2RlcyA9IENyZWF0ZUNvbWJpbmVOb2Rlcyh0aWxlbWFwLCBjb2xsaWRlLmJveEhhbmRsZXIpO1xyXG4gICAgICAgIC8vICAgICByZXN1bHROb2Rlcy5mb3JFYWNoKHJlc3VsdCA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb2xsaWRlLmxvYWRDYWxsYmFjayhyZXN1bHQudmFsdWUsIHJlc3VsdC5yZWN0KTtcclxuICAgICAgICAvLyAgICAgfSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfVxyXG5cclxuICAgIC8v6Ieq5a6a5LmJ5pWw5o2u562JXHJcbiAgICBpbml0RGF0YXMob3B0aW9uc1snZGF0YXMnXSk7XHJcbn1cclxuXHJcblxyXG4vKipcclxuICogVE9ETyDkuLTml7bmlrnms5XvvIzku6XlkI7kvJjljJZcclxuICogQHBhcmFtIHsqfSBvcHRpb25zIFxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdERhdGFzKGRhdGFzID0gbnVsbCl7XHJcbiAgICBpZighZGF0YXMgfHwgZGF0YXMubGVuZ3RoID09IDApe1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGRhdGFzLmZvckVhY2goZGF0YSA9PiB7XHJcbiAgICAgICAgaW5pdERhdGFPYmooZGF0YSk7XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBpbml0RGF0YU9iaihvcHRpb25zID0gbnVsbCl7XHJcbiAgICBsZXQgZGF0YU9iaiA9IG51bGw7XHJcbiAgICBpZihvcHRpb25zWyd0aWxlbWFwJ10pe1xyXG4gICAgICAgIGRhdGFPYmogPSBDcmVhdGVUaWxlTWFwV2l0aERhdGEob3B0aW9uc1sndGlsZW1hcCddKTtcclxuICAgIH1cclxuICAgIGxldCBuYW1lID0gb3B0aW9uc1snbmFtZSddO1xyXG4gICAgaWYobmFtZSl7XHJcbiAgICAgICAgU2V0RGF0YShuYW1lLCBkYXRhT2JqKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0e1xyXG4gICAgaW5pdEdhbWVcclxufSIsImltcG9ydCB7IGluaXRHYW1lIH0gZnJvbSBcIi4vc2VydmljZS9pbml0XCI7XHJcbmltcG9ydCB7IHJ1bldpdGhTY2VuZSwgc3RvcFN5c3RlbSB9IGZyb20gXCIuL3NlcnZpY2Uvc3lzdGVtXCI7XHJcbmltcG9ydCB7IEdldFNjZW5lLCBHZXRFbmdpbmUsIFNldFNwcml0ZUZyYW1lIH0gZnJvbSBcIi4vcmVzb3VyY2VcIjtcclxuaW1wb3J0IHsgQ3JlYXRlQml0bWFwIH0gZnJvbSBcIi4uL2ZvdW5kYXRpb24vc3RydWN0dXJlL2ZyYW1lXCI7XHJcblxyXG4vKipcclxuICogb3B0aW9ucyB7XHJcbiAqICAgICAgdGV4dHVyZXMgOiDmoLzlvI/op4FMb2FkUmVzb3VyY2UoKeWGhVxyXG4gKiAgICAgIHNjcmVlbiA6IHtcclxuICogICAgICAgICAgd2lkdGggOiA4MDAsXHJcbiAqICAgICAgICAgIGhlaWdodCA6IDgwMFxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAgZnBzIDogNjAsXHJcbiAqICAgICAgZGVidWcgOiBmYWxzZSxcclxuICogICAgICBjYW1lcmEgOiB7XHJcbiAqICAgICAgICAgIHggOiAwLFxyXG4gKiAgICAgICAgICB5IDogMFxyXG4gKiAgICAgIH0sXHJcbiAqICAgICAgdGlsZW1hcCA6IOagvOW8j+WPguiAg3RpbGVtYXDkuIDoioJcclxuICogICAgICBrZXlIYW5kbGVyIDogZnVuY3Rpb24odHlwZSwga2V5Q29kZSkgICB0eXBlPTEgPSBkb3duLCB0eXBlPTIgPSB1cFxyXG4gKiAgICAgIGNvbGxpZGUgOiB7XHJcbiAqICAgICAgICAgIHVzZUJveCA6IGZhbHNlLFxyXG4gKiAgICAgICAgICB1c2VHcm91cCA6IGZhbHNlLFxyXG4gKiAgICAgICAgICBwYWlycyA6IFtcclxuICogICAgICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgICAgICB0ZWFtMSA6IDEsXHJcbiAqICAgICAgICAgICAgICAgICAgdGVhbTIgOiAyXHJcbiAqICAgICAgICAgICAgICB9XHJcbiAqICAgICAgICAgIF0sXHJcbiAqICAgICAgICAgIGhhbmRsZXIgOiBmdW5jdGlvbihkdCwgY29sbGlkZXIxLCBjb2xsaWRlcjIpXHJcbiAqICAgICAgfVxyXG4gKiB9XHJcbiAqIFRPRE8gc2NlbmXlj6/ku6XmmK/kuIDkuKphY3Rpb24/XHJcbiAqL1xyXG5mdW5jdGlvbiBTdGFydChvcHRpb25zID0gbnVsbCwgc2NlbmUgPSBudWxsKXtcclxuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gb3B0aW9ucyA6IHt9O1xyXG4gICAgaWYob3B0aW9uc1sndGV4dHVyZXMnXSl7XHJcbiAgICAgICAgbG9hZFJlc291cmNlKG9wdGlvbnNbJ3RleHR1cmVzJ10sIG51bGwsICgpID0+IHtcclxuICAgICAgICAgICAgaW5pdEdhbWUob3B0aW9ucyk7XHJcbiAgICAgICAgICAgIHJ1bldpdGhTY2VuZShzY2VuZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICBpbml0R2FtZShvcHRpb25zKTtcclxuICAgICAgICBydW5XaXRoU2NlbmUoc2NlbmUpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBTdG9wKCl7XHJcbiAgICBHZXRTY2VuZSgpLm9uRW5kKCk7XHJcbiAgICAvL3N0b3BTeXN0ZW1zKCk7XHJcbiAgICBzdG9wU3lzdGVtKCk7XHJcbiAgICBTdG9wRW5naW5lKGdldEVuZ2luZSgpKTtcclxufVxyXG5cclxuXHJcbi8qKlxyXG4gKiDliqDovb3otYTmupDvvIzliJvlu7rnsr7ngbXluKdcclxuICogdGV4dHVyZXMgOiBbXHJcbiAqICAgICAgICAgIHtcclxuICogICAgICAgICAgICAgIGltZyA6IFwicmVzL2EucG5nXCIsXHJcbiAqICAgICAgICAgICAgICBmcmFtZXMgOiBbXHJcbiAqICAgICAgICAgICAgICAgICAge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICBuYW1lIDogXCJ3YWxrMVwiXHJcbiAqICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmVBcmVhIDoge1xyXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgeCA6IDAsXHJcbiAqICAgICAgICAgICAgICAgICAgICAgICAgICB5IDogMCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoIDogMCxcclxuICogICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodCA6IDBcclxuICogICAgICAgICAgICAgICAgICAgICAgfVxyXG4gKiAgICAgICAgICAgICAgICAgIH1cclxuICogICAgICAgICAgICAgIF1cclxuICogICAgICAgICAgfVxyXG4gKiAgICAgIF0sXHJcbiAqL1xyXG5mdW5jdGlvbiBsb2FkUmVzb3VyY2UodGV4dHVyZXNEYXRhID0gbnVsbCwgT25sb2FkQ2FsbGJhY2sgPSBudWxsLCBPbkNvbXBsZXRlQ2FsbGJhY2sgPSBudWxsKXtcclxuICAgIC8v5Yqg6L295Zu+5YOP5bm25Yib5bu65pi+56S65binXHJcbiAgICBpZighdGV4dHVyZXNEYXRhIHx8IHRleHR1cmVzRGF0YS5sZW5ndGggPT0gMCl7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgbGV0IF9jb3VudCA9IDA7XHJcbiAgICB0ZXh0dXJlc0RhdGEuZm9yRWFjaCh0ID0+e1xyXG4gICAgICAgIEVuZ2luZUxvYWRSZXNvdXJjZShHZXRFbmdpbmUoKSwgdC5pbWcsIGJpdG1hcERhdGEgPT4ge1xyXG4gICAgICAgICAgICBsZXQgYml0bWFwID0gQ3JlYXRlQml0bWFwKGJpdG1hcERhdGEsIGJpdG1hcERhdGEud2lkdGgsIGJpdG1hcERhdGEuaGVpZ2h0KTtcclxuICAgICAgICAgICAgdC5mcmFtZXMuZm9yRWFjaChmcmFtZURhdGEgPT4ge1xyXG4gICAgICAgICAgICAgICAgY3JlYXRlU3ByaXRlRnJhbWVXaXRoRGF0YShmcmFtZURhdGEubmFtZSwgYml0bWFwLCBmcmFtZURhdGEudGV4dHVyZUFyZWEpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgX2NvdW50Kys7XHJcbiAgICAgICAgICAgIGlmKE9ubG9hZENhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgIE9ubG9hZENhbGxiYWNrKF9jb3VudCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYodGV4dHVyZXNEYXRhLmxlbmd0aCA9PSBfY291bnQgJiYgT25Db21wbGV0ZUNhbGxiYWNrKXtcclxuICAgICAgICAgICAgICAgIE9uQ29tcGxldGVDYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSlcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVTcHJpdGVGcmFtZVdpdGhEYXRhKG5hbWUgPSBcIlwiLCBiaXRtYXAgPSBudWxsLCB0ZXh0dXJlQXJlYURhdGEgPSBudWxsKXtcclxuICAgIGlmKG5hbWUgPT0gXCJcIiB8fCAhYml0bWFwIHx8ICF0ZXh0dXJlQXJlYURhdGEpe1xyXG4gICAgICAgIGNvbnNvbGUuZXJyKFwiZXJyb3IgcGFyYW0uXCIpO1xyXG4gICAgICAgIHJldHVybiBudWxsO1xyXG4gICAgfVxyXG4gICAgbGV0IHggPSB0ZXh0dXJlQXJlYURhdGFbJ3gnXTtcclxuICAgIGxldCB5ID0gdGV4dHVyZUFyZWFEYXRhWyd5J107XHJcbiAgICBsZXQgd2lkdGggPSB0ZXh0dXJlQXJlYURhdGFbJ3dpZHRoJ107XHJcbiAgICBsZXQgaGVpZ2h0ID0gdGV4dHVyZUFyZWFEYXRhWydoZWlnaHQnXTtcclxuICAgIGlmKCF3aWR0aCB8fCAhaGVpZ2h0KXtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuICAgIGxldCBmID0gQ3JlYXRlU3ByaXRlRnJhbWUobmFtZSwgYml0bWFwLCB4LCB5LCB3aWR0aCwgaGVpZ2h0KTtcclxuICAgIFNldFNwcml0ZUZyYW1lKG5hbWUsIGYpO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gICAgU3RhcnQsIFN0b3BcclxufSIsImltcG9ydCBkYXRhIGZyb20gJy4vZGF0YSc7XHJcbmltcG9ydCB7IEdldERhdGEsIEdldERlZmF1bHRDYW1lcmEgfSBmcm9tICcuL2ZyYW1ld29yay9kaXJlY3Rvci9yZXNvdXJjZSc7XHJcbmltcG9ydCB7IERyYXdSZWN0LCBEcmF3TGluZSwgRHJhd0NpcmNsZSB9IGZyb20gJy4vZnJhbWV3b3JrL2RpcmVjdG9yL3JlbmRlcic7XHJcbmltcG9ydCB7IFN0YXJ0IH0gZnJvbSAnLi9mcmFtZXdvcmsvZGlyZWN0b3IvYm9vdCc7XHJcbmltcG9ydCB7IEdyaWRNYXBJdGVyYXRvciwgR2V0R3JpZFdpZHRoLCBHZXRIYWxmR3JpZFdpZHRoIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9jb250YWluZXIvZ3JpZG1hcCc7XHJcbmltcG9ydCB7IEdldFRpbGVHcmlkQ2VudGVyIH0gZnJvbSAnLi9mcmFtZXdvcmsvbGliL2dyaWQvdGlsZW1hcC9iYXNlJztcclxuaW1wb3J0IHsgTmV3UmVjdCwgTmV3UG9zIH0gZnJvbSAnLi9mcmFtZXdvcmsvZm91bmRhdGlvbi9zdHJ1Y3R1cmUvZ2VvbWV0cmljJztcclxuaW1wb3J0IHsgR2V0Q2FtZXJhSGVpZ2h0LCBHZXRDYW1lcmFXaWR0aCB9IGZyb20gJy4vZnJhbWV3b3JrL2xpYi9jYW1lcmEvYmFzZSc7XHJcblxyXG4vL+iwqOiusOaVsOaNrumpseWKqO+8jOWIhua4heS4muWKoemFjee9ruWSjOahhuaetumAu+i+kemFjee9rlxyXG52YXIgb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oZGF0YSwge1xyXG4gICAgdG91Y2hPbkNhbGxiYWNrIDogdG91Y2hPbkNhbGxiYWNrLFxyXG4gICAgdG91Y2hPdmVyQ2FsbGJhY2sgOiB0b3VjaE92ZXJDYWxsYmFjayxcclxuICAgIFxyXG59KTtcclxuXHJcbmZ1bmN0aW9uIHRvdWNoT25DYWxsYmFjayh4ID0gMCwgeSA9IDApe1xyXG4gICAgY29uc29sZS5sb2coeCwgeSk7XHJcbn1cclxuZnVuY3Rpb24gdG91Y2hPdmVyQ2FsbGJhY2soeCA9IDAsIHkgPSAwKXtcclxuXHJcbn1cclxuXHJcbmNsYXNzIE15U2NlbmUge1xyXG4gICAgb25TdGFydCgpe1xyXG4gICAgICAgIC8vZHJhdygpO1xyXG4gICAgfVxyXG4gICAgb25VcGRhdGUoZHQgPSAwKXtcclxuICAgICAgICBkcmF3KCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXcoKXtcclxuICAgIGRyYXdUaWxlKCk7XHJcbiAgICBkcmF3Q2VudGVyKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdDZW50ZXIoKXtcclxuICAgIERyYXdDaXJjbGUoTmV3UG9zKCksIDMpO1xyXG4gICAgRHJhd1JlY3QoTmV3UG9zKCksIE5ld1JlY3QoXHJcbiAgICAgICAgR2V0Q2FtZXJhV2lkdGgoXHJcbiAgICAgICAgICAgIEdldERlZmF1bHRDYW1lcmEoKSksXHJcbiAgICAgICAgR2V0Q2FtZXJhSGVpZ2h0KFxyXG4gICAgICAgICAgICBHZXREZWZhdWx0Q2FtZXJhKCkpKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRyYXdUaWxlKCl7XHJcbiAgICBsZXQgdGlsZW1hcCA9IEdldERhdGEoXCJ0aWxlMVwiKTtcclxuICAgIEdyaWRNYXBJdGVyYXRvcih0aWxlbWFwLCBncmlkID0+IHtcclxuICAgICAgICBsZXQgcG9zID0gR2V0VGlsZUdyaWRDZW50ZXIodGlsZW1hcCwgZ3JpZCk7XHJcbiAgICAgICAgbGV0IGhhbGZXaWR0aCA9IEdldEhhbGZHcmlkV2lkdGgoZ3JpZCk7XHJcbiAgICAgICAgbGV0IHdpZHRoID0gR2V0R3JpZFdpZHRoKGdyaWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ1slZCwgJWRdOiAoJWQsICVkKSwgJWQgJWRcIiwgZ3JpZC5yb3dJbmRleCwgZ3JpZC5jb2xJbmRleCwgcG9zLngsIHBvcy55LCBoYWxmV2lkdGgsIHdpZHRoKTtcclxuICAgICAgICAvL0RyYXdSZWN0KHBvcywgTmV3UmVjdCh3aWR0aCwgd2lkdGgpKTtcclxuICAgICAgICB0ZXN0SXNvKHBvcywgaGFsZldpZHRoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0ZXN0SXNvKHBvcyA9IG51bGwsIGhhbGZXaWR0aCA9IDApe1xyXG4gICAgbGV0IHBvczEgPSBOZXdQb3MocG9zLnggLSBoYWxmV2lkdGgsIHBvcy55IC0gaGFsZldpZHRoKTtcclxuICAgIGxldCBwb3MxaXNvID0gZ2V0SXNvKHBvczEpO1xyXG4gICAgbGV0IHBvczIgPSBOZXdQb3MocG9zLnggKyBoYWxmV2lkdGgsIHBvcy55IC0gaGFsZldpZHRoKTtcclxuICAgIGxldCBwb3MyaXNvID0gZ2V0SXNvKHBvczIpO1xyXG4gICAgbGV0IHBvczMgPSBOZXdQb3MocG9zLnggLSBoYWxmV2lkdGgsIHBvcy55ICsgaGFsZldpZHRoKTtcclxuICAgIGxldCBwb3MzaXNvID0gZ2V0SXNvKHBvczMpO1xyXG4gICAgbGV0IHBvczQgPSBOZXdQb3MocG9zLnggKyBoYWxmV2lkdGgsIHBvcy55ICsgaGFsZldpZHRoKTtcclxuICAgIGxldCBwb3M0aXNvID0gZ2V0SXNvKHBvczQpO1xyXG4gICAgY29uc29sZS5sb2coXCJwMTooJWQsICVkKSwgaXNvOiglZCwgJWQpXCIsIHBvczEueCAscG9zMS55LCBwb3MxaXNvLngsIHBvczFpc28ueSk7XHJcbiAgICBjb25zb2xlLmxvZyhcInAyOiglZCwgJWQpLCBpc286KCVkLCAlZClcIiwgcG9zMi54ICxwb3MyLnksIHBvczJpc28ueCwgcG9zMmlzby55KTtcclxuICAgIGNvbnNvbGUubG9nKFwicDM6KCVkLCAlZCksIGlzbzooJWQsICVkKVwiLCBwb3MzLnggLHBvczMueSwgcG9zM2lzby54LCBwb3MzaXNvLnkpO1xyXG4gICAgY29uc29sZS5sb2coXCJwNDooJWQsICVkKSwgaXNvOiglZCwgJWQpXCIsIHBvczQueCAscG9zNC55LCBwb3M0aXNvLngsIHBvczRpc28ueSk7XHJcbiAgICAvLyBEcmF3TGluZShwb3MxaXNvLCBwb3MyaXNvKTtcclxuICAgIC8vIERyYXdMaW5lKHBvczJpc28sIHBvczNpc28pO1xyXG4gICAgLy8gRHJhd0xpbmUocG9zM2lzbywgcG9zNGlzbyk7XHJcbiAgICAvLyBEcmF3TGluZShwb3M0aXNvLCBwb3MxaXNvKTtcclxuICAgIERyYXdMaW5lKHBvczFpc28sIHBvczJpc28pO1xyXG4gICAgRHJhd0xpbmUocG9zMmlzbywgcG9zNGlzbyk7XHJcbiAgICBEcmF3TGluZShwb3M0aXNvLCBwb3MzaXNvKTtcclxuICAgIERyYXdMaW5lKHBvczNpc28sIHBvczFpc28pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRJc28ocG9zID0gbnVsbCl7XHJcbiAgICByZXR1cm4gTmV3UG9zKFxyXG4gICAgICAgIChwb3MueCAtIHBvcy55KSxcclxuICAgICAgICAocG9zLnggKyBwb3MueSkgKiAwLjVcclxuICAgICk7XHJcbn1cclxuXHJcbihmdW5jdGlvbiAoKXtcclxuICAgIGNvbnNvbGUubG9nKG9wdGlvbnMpO1xyXG4gICAgU3RhcnQob3B0aW9ucywgbmV3IE15U2NlbmUoKSk7XHJcbn0pKCkiXSwic291cmNlUm9vdCI6IiJ9